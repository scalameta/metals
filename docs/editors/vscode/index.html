<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-editors/vscode" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.1"><title data-rh=true>Visual Studio Code | Metals</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:image content=http://scalameta.org/metals/img/scalameta-logo.png /><meta data-rh=true name=twitter:image content=http://scalameta.org/metals/img/scalameta-logo.png /><meta data-rh=true property=og:url content=http://scalameta.org/metals/docs/editors/vscode /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="Visual Studio Code | Metals"/><meta data-rh=true name=description content="Goto Definition"/><meta data-rh=true property=og:description content="Goto Definition"/><link data-rh=true rel=icon href=/metals/img/favicon.ico /><link data-rh=true rel=canonical href=http://scalameta.org/metals/docs/editors/vscode /><link data-rh=true rel=alternate href=http://scalameta.org/metals/docs/editors/vscode hreflang=en /><link data-rh=true rel=alternate href=http://scalameta.org/metals/docs/editors/vscode hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"http://scalameta.org/metals/docs/editors/vscode","name":"VS Code","position":1}]}</script><link rel=alternate type=application/rss+xml href=/metals/blog/rss.xml title="Metals RSS Feed"><link rel=alternate type=application/atom+xml href=/metals/blog/atom.xml title="Metals Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140140828-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-140140828-1",{})</script><link rel=stylesheet href=/metals/assets/css/styles.8e378d32.css /><script src=/metals/assets/js/runtime~main.b76acd0f.js defer></script><script src=/metals/assets/js/main.63dc0601.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/metals/img/scalameta-logo.png /><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/metals/><div class=navbar__logo><img src=/metals/img/scalameta-logo.png alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/metals/img/scalameta-logo.png alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">Metals</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/metals/docs/>Docs</a><a class="navbar__item navbar__link" href=/metals/blog/>Blog</a><a href=https://github.com/scalameta/metals target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class="navbar__search searchBarContainer_NW3z" dir=ltr><input placeholder=Search aria-label=Search class="navbar__search-input searchInput_YFbd" value="" /><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/metals/docs/><span title="Text Editors" class=categoryLinkLabel_W154>Text Editors</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/><span title=Overview class=linkLabel_WmDU>Overview</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/metals/docs/editors/vscode><span title="VS Code" class=linkLabel_WmDU>VS Code</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/editors/vim><span title=Vim class=linkLabel_WmDU>Vim</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/editors/sublime><span title="Sublime Text" class=linkLabel_WmDU>Sublime Text</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/editors/emacs><span title=Emacs class=linkLabel_WmDU>Emacs</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/editors/helix><span title=Helix class=linkLabel_WmDU>Helix</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/editors/online-ides><span title="Online IDEs" class=linkLabel_WmDU>Online IDEs</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/editors/user-configuration><span title="User Configuration" class=linkLabel_WmDU>User Configuration</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/features/codeactions><span title=Features class=categoryLinkLabel_W154>Features</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/build-tools/overview><span title="Build Tools" class=categoryLinkLabel_W154>Build Tools</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/contributors/project-goals><span title=Contributing class=categoryLinkLabel_W154>Contributing</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/integrations/new-build-tool><span title="Integrating with Metals" class=categoryLinkLabel_W154>Integrating with Metals</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/troubleshooting/proxy><span title=Troubleshooting class=categoryLinkLabel_W154>Troubleshooting</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/acknowledgements/development><span title=Acknowledgements class=categoryLinkLabel_W154>Acknowledgements</span></a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/metals/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Text Editors</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>VS Code</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Visual Studio Code</h1></header><p><img decoding=async loading=lazy src=https://user-images.githubusercontent.com/1408093/48776422-1f764f00-ecd0-11e8-96d1-170f2354d50e.gif alt="Goto Definition" class=img_ev3q /></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=requirements>Requirements<a href=#requirements class=hash-link aria-label="Direct link to Requirements" title="Direct link to Requirements" translate=no>​</a></h2>
<p><strong>macOS, Linux or Windows</strong>. Metals is developed on many operating systems and
every PR is tested on Ubuntu, Windows and MacOS.</p>
<p><strong>Scala 2.13, 2.12, 2.11 and Scala 3</strong>. Metals supports these Scala versions:</p>
<ul>
<li>
<p><strong>Scala 2.11</strong>:
2.11.12</p>
</li>
<li>
<p><strong>Scala 2.12</strong>:
2.12.17, 2.12.18, 2.12.19, 2.12.20</p>
</li>
<li>
<p><strong>Scala 2.13</strong>:
2.13.14, 2.13.15, 2.13.16, 2.13.17</p>
</li>
</ul>
<p>Scala 3 versions from 3.3.4 are automatically supported by Metals.</p>
<p>Any older Scala versions will no longer get bugfixes, but should still
work properly with newest Metals.</p>
<p>Note that 2.11.x support is deprecated and it will be removed in future releases.
It's recommended to upgrade to Scala 2.12 or Scala 2.13</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=installation>Installation<a href=#installation class=hash-link aria-label="Direct link to Installation" title="Direct link to Installation" translate=no>​</a></h2>
<p>Install the Metals extension from the
<a href="https://marketplace.visualstudio.com/items?itemName=scalameta.metals" target=_blank rel="noopener noreferrer">Marketplace</a>
by clicking on this badge
<a href=vscode:extension/scalameta.metals target=_blank rel="noopener noreferrer"><img decoding=async loading=lazy src=https://img.shields.io/badge/metals-vscode-blue.png alt="Install Metals extension" class=img_ev3q /></a>
or via the VS Code editor:</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/Qew0fNH.png?raw=true" alt="install stable version" class=img_ev3q /></p>
<p>Next, open a directory containing your Scala code. The extension activates when
the main directory contains <code>build.sbt</code> or <code>build.sc</code> file, a Scala file is
opened, which includes <code>*.sbt</code>, <code>*.scala</code> and <code>*.sc</code> file, or a standard Scala
directory structure <code>src/main/scala</code> is detected.</p>
<p>It is also possible to opt in to install the pre-release version and try out the
latest cutting edge features from Metals server. Apart from new features,
pre-release versions also include many bugfixes. It's encouraged to use them
with <a href=#SNAPSHOT>SNAPSHOT</a> releases of Metals server. Using pre-release versions
may result in less stable experience and it is not intented for beginners.
Pre-release versions follow <code>major.minor.PATCH</code> versioning.</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/CzOTleE.png?raw=true" alt="Install the pre-release extension" class=img_ev3q /></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=importing-a-build>Importing a build<a href=#importing-a-build class=hash-link aria-label="Direct link to Importing a build" title="Direct link to Importing a build" translate=no>​</a></h2>
<p>The first time you open Metals in a new workspace it prompts you to import the build.
Click "Import build" to start the installation step.</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/Image/0VqZWay.png?raw=true" alt="Import build" class=img_ev3q /></p>
<ul>
<li>"Not now" disables this prompt for 2 minutes.</li>
<li>"Don't show again" disables this prompt forever, use <code>rm -rf .metals/</code> to re-enable
the prompt.</li>
<li>Use <code>tail -f .metals/metals.log</code> to watch the build import progress.</li>
<li>Behind the scenes, Metals uses <a href=https://scalacenter.github.io/bloop/ target=_blank rel="noopener noreferrer">Bloop</a> to
import sbt builds, but you don't need Bloop installed on your machine to run this step.</li>
</ul>
<p>Once the import step completes, compilation starts for your open <code>*.scala</code>
files.</p>
<p>Once the sources have compiled successfully, you can navigate the codebase with
goto definition.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=custom-sbt-launcher>Custom sbt launcher<a href=#custom-sbt-launcher class=hash-link aria-label="Direct link to Custom sbt launcher" title="Direct link to Custom sbt launcher" translate=no>​</a></h3>
<p>By default, Metals runs an embedded <code>sbt-launch.jar</code> launcher that respects <code>.sbtopts</code> and <code>.jvmopts</code>.
However, the environment variables <code>SBT_OPTS</code> and <code>JAVA_OPTS</code> are not respected.</p>
<p>Update the "Sbt Script" setting to use a custom <code>sbt</code> script instead of the
default Metals launcher if you need further customizations like reading environment
variables.</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/NuwEBe4.png?raw=true" alt="Sbt Launcher" class=img_ev3q /></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=speeding-up-import>Speeding up import<a href=#speeding-up-import class=hash-link aria-label="Direct link to Speeding up import" title="Direct link to Speeding up import" translate=no>​</a></h3>
<p>The "Import build" step can take a long time, especially the first time you
run it in a new build. The exact time depends on the complexity of the build and
if library dependencies need to be downloaded. For example, this step can take
everything from 10 seconds in small cached builds up to 10-15 minutes in large
uncached builds.</p>
<p>Consult the <a href=https://scalacenter.github.io/bloop/docs/build-tools/sbt#speeding-up-build-export target=_blank rel="noopener noreferrer">Bloop documentation</a>
to learn how to speed up build import.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=importing-changes>Importing changes<a href=#importing-changes class=hash-link aria-label="Direct link to Importing changes" title="Direct link to Importing changes" translate=no>​</a></h3>
<p>When you change <code>build.sbt</code> or sources under <code>project/</code>, you will be prompted to
re-import the build.</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/Image/72kdZkL.png?raw=true" alt="Import sbt changes" class=img_ev3q /></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=manually-trigger-build-import>Manually trigger build import<a href=#manually-trigger-build-import class=hash-link aria-label="Direct link to Manually trigger build import" title="Direct link to Manually trigger build import" translate=no>​</a></h3>
<p>To manually trigger a build import, execute the "Import build" command through
the command palette (<code>Cmd + Shift + P</code>).</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/Image/QHLKt8u.png?raw=true" alt="Import build command" class=img_ev3q /></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=run-doctor>Run doctor<a href=#run-doctor class=hash-link aria-label="Direct link to Run doctor" title="Direct link to Run doctor" translate=no>​</a></h2>
<p>Execute the "Run Doctor" through the command palette to troubleshoot potential
configuration problems in your workspace.</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/Image/K02g0UM.png?raw=true" alt="Run doctor command" class=img_ev3q /></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=configure-java-version>Configure Java version<a href=#configure-java-version class=hash-link aria-label="Direct link to Configure Java version" title="Direct link to Configure Java version" translate=no>​</a></h2>
<p>Metals separates JDK used for starting Metals server from the JDK used for the
project.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=metalss-server-jdk>Metals's server JDK<a href=#metalss-server-jdk class=hash-link aria-label="Direct link to Metals's server JDK" title="Direct link to Metals's server JDK" translate=no>​</a></h3>
<p>Minimum supported version is <code>11</code>. The VS Code plugin will first search for
<code>java</code> executable with version equal or greater than setting using <code>JAVA_HOME</code>
environment variable (via
<a href=https://www.npmjs.com/package/@viperproject/locate-java-home target=_blank rel="noopener noreferrer"><code>locate-java-home</code></a>).
If no matching Java found, a JDK will be downloaded using
<a href=https://get-coursier.io target=_blank rel="noopener noreferrer">coursier</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=settings>Settings:<a href=#settings class=hash-link aria-label="Direct link to Settings:" title="Direct link to Settings:" translate=no>​</a></h4>
<ul>
<li><code>Java Version</code> - minimum JDK version accepted for running Metals server. If
none found, this is also the version that will be downloaded using coursier.
Allows for one of: <code>11</code>, <code>17</code>, <code>21</code>, with <code>17</code> being the default.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=projects-jdk>Project's JDK<a href=#projects-jdk class=hash-link aria-label="Direct link to Project's JDK" title="Direct link to Project's JDK" translate=no>​</a></h3>
<p>JDK used for compiling and running the project. Build servers like <code>mill</code> and
<code>sbt</code> are started using that JDK. In case of <code>Bloop</code> Metals's server JDK is used
for running the build server but appropriate <code>-release</code> flags are added for
compilation. By default Metals uses JDK defined by <code>JAVA_HOME</code> environment
variable, if the variable is not set is falls to using the Metals's JDK.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=settings-1>Settings:<a href=#settings-1 class=hash-link aria-label="Direct link to Settings:" title="Direct link to Settings:" translate=no>​</a></h4>
<ul>
<li><code>Java Home</code> - path to project's JDK's Home. Note: this setting isn't respected
for <code>Bazel</code>.</li>
</ul>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/sKrPKk2.png?raw=true" alt="Java Home setting" class=img_ev3q /></p>
<p>Note: Project's JDK version should be greater or equal to Metals's server JDK
version for features like completions to work correctly.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=macos>macOS<a href=#macos class=hash-link aria-label="Direct link to macOS" title="Direct link to macOS" translate=no>​</a></h3>
<p>To globally configure <code>$JAVA_HOME</code> for all GUI applications, see
<a href=https://stackoverflow.com/questions/135688/setting-environment-variables-on-os-x target=_blank rel="noopener noreferrer">this Stackoverflow answer</a>.</p>
<p>If you prefer to manually configure Java home through VS Code, run the following
command to copy the Java 8 home path.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">/usr/libexec/java_home -v 1.8 | pbcopy</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=custom-artifact-repositories-maven-or-ivy-resolvers>Custom artifact repositories (Maven or Ivy resolvers)<a href=#custom-artifact-repositories-maven-or-ivy-resolvers class=hash-link aria-label="Direct link to Custom artifact repositories (Maven or Ivy resolvers)" title="Direct link to Custom artifact repositories (Maven or Ivy resolvers)" translate=no>​</a></h2>
<p>Use the 'Custom Repositories' setting for the Metals VS Code extension to tell
<a href=https://get-coursier.io/docs/other-proxy target=_blank rel="noopener noreferrer">Coursier</a> to try to download Metals
artifacts from your private artifact repository.</p>
<p>Use <code>.jvmopts</code> to set sbt options
(<a href=https://www.scala-sbt.org/1.0/docs/Proxy-Repositories.html target=_blank rel="noopener noreferrer">https://www.scala-sbt.org/1.0/docs/Proxy-Repositories.html</a>) for
<code>sbt bloopInstall</code> which resolves library dependencies. You can also provide a
custom sbt script (see 'Custom sbt launcher').</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=http-proxy>HTTP proxy<a href=#http-proxy class=hash-link aria-label="Direct link to HTTP proxy" title="Direct link to HTTP proxy" translate=no>​</a></h2>
<p>Metals uses <a href=https://get-coursier.io/docs/other-proxy target=_blank rel="noopener noreferrer">Coursier</a> to download
artifacts from Maven Central. To use Metals behind an HTTP proxy, configure the
system properties <code>-Dhttps.proxyHost=… -Dhttps.proxyPort=…</code> in one of the
following locations:</p>
<ul>
<li><code>.jvmopts</code> file in the workspace directory.</li>
<li><code>JAVA_OPTS</code> environment variable, make sure to start <code>code</code> from your terminal
when using this option since environment variables don't always propagate
correctly when opening VS Code as a GUI application outside a terminal.</li>
<li>"Server Properties" setting for the Metals VS Code extension, which can be
configured per-workspace or per-user.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=using-latest-metals-snapshot>Using latest Metals <a name=SNAPSHOT>SNAPSHOT</a><a href=#using-latest-metals-snapshot class=hash-link aria-label="Direct link to using-latest-metals-snapshot" title="Direct link to using-latest-metals-snapshot" translate=no>​</a></h2>
<p>Update the "metals.serverVersion" setting to try out the latest pending Metals
features and fixes. To open settings go to <code>File -> Preferences -> Settings</code> and
then use the search to find the specific option.</p>
<table><thead><tr><th>Version<th>Published<tbody><tr><td>1.6.3<td>16 Oct 2025 12:50<tr><td>1.6.3+18-ad6067d9-SNAPSHOT<td>28 Oct 2025 17:17</table>
<p>Run the "Reload Window" command after updating the setting for the new version
to take effect.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=files-and-directories-to-include-in-your-gitignore>Files and Directories to include in your Gitignore<a href=#files-and-directories-to-include-in-your-gitignore class=hash-link aria-label="Direct link to Files and Directories to include in your Gitignore" title="Direct link to Files and Directories to include in your Gitignore" translate=no>​</a></h2>
<p>The Metals server places logs and other files in the <code>.metals</code> directory. The
Bloop compile server places logs and compilation artifacts in the <code>.bloop</code>
directory. The Bloop plugin that generates Bloop configuration is added in the
<code>metals.sbt</code> file, which is added at <code>project/metals.sbt</code> as well as further
<code>project</code> directories depending on how deep <code>*.sbt</code> files need to be supported.
To support each <code>*.sbt</code> file Metals needs to create an additional file at
<code>./project/project/metals.sbt</code> relative to the sbt file.
Working with Scala CLI scripts will place compiled scripts into the <code>.scala-build</code> directory.
It's recommended to exclude these directories and files
from version control systems like git.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain"># ~/.gitignore</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">.metals/</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">.bloop/</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">.scala-build/</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metals.sbt</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=show-document-symbols>Show document symbols<a href=#show-document-symbols class=hash-link aria-label="Direct link to Show document symbols" title="Direct link to Show document symbols" translate=no>​</a></h2>
<p>Run the "Explorer: Focus on Outline View" command to open the symbol outline for
the current file in the sidebar.</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/T0kVJsr.gif?raw=true" alt="Document Symbols Outline" class=img_ev3q /></p>
<p>Run the "Open Symbol in File" command to search for a symbol in the current file
without opening the sidebar.</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/0PJ4brd.png?raw=true" alt="Document Symbols Command" class=img_ev3q /></p>
<p>As you type, the symbol outline is also visible at the top of the file.
<img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/L217n4q.png?raw=true" alt="Document Symbols Outline" class=img_ev3q /></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=go-to-parent-code-lenses>Go to parent code lenses<a href=#go-to-parent-code-lenses class=hash-link aria-label="Direct link to Go to parent code lenses" title="Direct link to Go to parent code lenses" translate=no>​</a></h2>
<p>Metals has the ability to display code lenses that, when invoked,
will go to the parent class that contains the definition of the method or symbol.
Unfortunately, it might cause some lag in larger code bases,
which is why it is not enabled currently by default.</p>
<p>To enable the feature you need to modify the setting <code>metals.superMethodLensesEnabled</code> to <code>true</code>.</p>
<p>Even without using the code lenses it's still possible to navigate the method hierarchy
using two commands:</p>
<ul>
<li>
<p><code>Metals: Go to super method</code> - immediately goes to the parent of the method the cursor is pointing to</p>
</li>
<li>
<p><code>Metals: Reveal super method hierachy</code> - displays the full method hierachy and enables to move to any parent,
it is best used with the Metals Quick Pick extension.</p>
</li>
</ul>
<p>You can also bind those commands to a shortcut.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=create-new-project-from-template>Create new project from template<a href=#create-new-project-from-template class=hash-link aria-label="Direct link to Create new project from template" title="Direct link to Create new project from template" translate=no>​</a></h2>
<p>It is possible using Metals to easily setup a new project using the exiting <a href=https://github.com/foundweekends/giter8/wiki/giter8-templates target=_blank rel="noopener noreferrer">giter8</a> templates.
This is an equivalent to the <code>sbt new</code> command, which uses the same mechanism.
There is a great number of templates already available and it should be easy to find something for yourself.
To start the setup you can use the Metals: New Scala project command, which works as following:</p>
<ol>
<li>
<p>Choose the template and then:</p>
<ol>
<li>Use the proposed templates.</li>
<li>Choose "Discover more" and then choose from the list downloaded from the Giter8 wiki page.</li>
<li>Input a custom Github repository following the <code>organization/repo</code> schema.</li>
</ol>
</li>
<li>
<p>Navigate to the parent directory that you want to create your new project in.</p>
</li>
<li>
<p>Choose the name or accept the default one.</p>
</li>
<li>
<p>Choose whether to open a new window for the created project or use the existing one.</p>
</li>
</ol>
<p>The same command will be invoked when clicking the "New Scala Project" button in the Metals view.</p>
<p>If you feel like a template should be included in the default displayed ones do not hesitate to create a
<a href=https://github.com/scalameta/metals/blob/cda5b8c2029e5f201fb8d0636e0365d796407bd9/metals/src/main/scala/scala/meta/internal/builds/NewProjectProvider.scala#L308 target=_blank rel="noopener noreferrer">PR</a>
or file an issue.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=running-and-debugging-your-code>Running and debugging your code<a href=#running-and-debugging-your-code class=hash-link aria-label="Direct link to Running and debugging your code" title="Direct link to Running and debugging your code" translate=no>​</a></h2>
<p>Metals supports running and debugging tests and main methods via the
<a href=https://microsoft.github.io/debug-adapter-protocol/ target=_blank rel="noopener noreferrer">Debug Adapter Protocol</a>.
The protocol is used to communicate between the editor and debugger, which means
that applications can be run the same as for any other language in the natively
supported <code>Run</code> view. When using Metals the debugger itself is
<a href=https://scalacenter.github.io/bloop/ target=_blank rel="noopener noreferrer">Bloop</a>, which is also responsible for
starting the actual process.</p>
<p>Users can begin the debugging session in four ways:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=via-test-explorer>via test explorer<a href=#via-test-explorer class=hash-link aria-label="Direct link to via test explorer" title="Direct link to via test explorer" translate=no>​</a></h3>
<p>Since version 0.11.0 Metals implements Visual Studio Code's
<a href=https://code.visualstudio.com/api/extension-guides/testing target=_blank rel="noopener noreferrer">Testing API</a>.</p>
<p>Test Explorer UI is a new default way to run/debug test suites and replaces Code
Lenses. The new UI adds a testing view, which shows all test suites declared in
project's modules. From this panel it's possible to</p>
<ul>
<li>view all discovered test suites grouped by build targets (modules) and filter
them</li>
<li>run/debug test</li>
<li>navigate to test's definition.</li>
</ul>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/Z3VtS0O.gif?raw=true" alt=test-explorer class=img_ev3q /></p>
<p>NOTE: While Metals detects test suites for most of existing testing
frameworks, support for recognizing individual tests is more limited.
Metals supports the current set of test frameworks when it comes to
individual test discovery:</p>
<ul>
<li>Junit</li>
<li>MUnit</li>
<li>Scalatest</li>
<li>Weaver Test</li>
</ul>
<p>If you encounter an error, create an
<a href=https://github.com/scalameta/metals/issues target=_blank rel="noopener noreferrer">issue</a>.</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/Z3VtS0O.gif?raw=true" alt=test-explorer class=img_ev3q /></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=via-code-lenses>via code lenses<a href=#via-code-lenses class=hash-link aria-label="Direct link to via code lenses" title="Direct link to via code lenses" translate=no>​</a></h3>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/5nTnrcS.png?raw=true" alt=lenses class=img_ev3q /></p>
<p>For each main or test class Metals shows two code lenses <code>run | debug</code> or
<code>test | test debug</code>, which show up above the definition as a kind of virtual
text. Clicking <code>run</code> or <code>test</code> will start running the main class or test without
stopping at any breakpoints, while clicking <code>debug</code> or <code>test debug</code> will pause
once any of them are hit. It's not possible to add any arguments or java
properties when running using this method.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=via-a-launchjson-configuration>via a <code>launch.json</code> configuration<a href=#via-a-launchjson-configuration class=hash-link aria-label="Direct link to via-a-launchjson-configuration" title="Direct link to via-a-launchjson-configuration" translate=no>​</a></h3>
<p>Visual Studio Code uses <code>.vscode/launch.json</code> to store user defined
configurations, which can be run using:</p>
<ul>
<li>The <code>Run -> Start Debugging</code> menu item or <code>workbench.action.debug.start</code>
shortcut.</li>
<li>The <code>Run -> Run Without Debugging</code> menu item or <code>workbench.action.debug.run</code>
shortcut.</li>
</ul>
<p>If a user doesn't have anything yet saved, a configuration wizard will pop up to
guide them. In the end users should end up with something like this:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "version": "0.2.0",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "configurations": [</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    // Main class configuration</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "type": "scala",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "request": "launch",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      // configuration name visible for the user</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "name": "Launch Main",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      // full name of the class to run</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "mainClass": "com.example.Main",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      // optional arguments for the main class</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "args": [],</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      // optional jvm properties to use</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "jvmOptions": []</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    // Test class configuration</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "type": "scala",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "request": "launch",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      // configuration name visible for the user</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "name": "Launch Test",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      // full name of the class to run</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "testClass": "com.example.Test"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    // Attach debugger when running via:</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    // `-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=localhost:5005`</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "type": "scala",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "request": "attach",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "name": "Attach debugger",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      // name of the module that is being debugging</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "buildTarget": "root",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      // Host of the jvm to connect to</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "hostName": "localhost",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      // Port to connect to</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "port": 5005</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  ]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>You can also add an optional build target name, which is needed in case there
are more than one class with the same name or when launching a class from
outside the project. Inside <code>"configurations":</code> add the key <code>buildTarget</code> with
your target name, e.g. <code>root</code>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">      "buildTarget": "root"</span><br/></span></code></pre></div></div>
<p>The build target name corresponds to your project name. For example in sbt for
<code>lazy val interfaces = project</code> the name of the build target will be
<code>interfaces</code> for sources and <code>interfaces-test</code> for tests. To make sure you have
the correct target names please run the command <code>Metals: Run Doctor</code>.</p>
<p>Multiple configurations can be stored in that file and can be chosen either
manually in the <code>Run</code> view or can be picked by invoking a shortcut defined under
<code>workbench.action.debug.selectandstart</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=via-metals-commands>via Metals' commands<a href=#via-metals-commands class=hash-link aria-label="Direct link to via Metals' commands" title="Direct link to via Metals' commands" translate=no>​</a></h3>
<p>You can also use commands that can be easily bound to shortcuts:</p>
<ul>
<li><code>metals.run-current-file</code> - Run main class in the current file.</li>
<li><code>metals.test-current-file</code> - Run test class in the current file</li>
<li><code>metals.test-current-target</code> - Run all tests in the current project.</li>
</ul>
<p>To assign shortcuts just go to the Keyboard Shortcuts page (<code>File</code> ->
<code>Preferences</code> -> <code>Keyboard Shortcuts</code>) and search for a command, click on it and
use your preferred shortcut.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=defining-jvm-options>Defining jvm options<a href=#defining-jvm-options class=hash-link aria-label="Direct link to Defining jvm options" title="Direct link to Defining jvm options" translate=no>​</a></h3>
<p>Unfortunately, it's not always possible to define environment variables or jvm
options for tests. To work around that you can use:</p>
<ul>
<li><code>.jvmopts</code> file inside the main project directory or <code>JVM_OPTS</code> environment
variable. In this case, we will filter out any -X options as it might
sometimes be problematic if the file is also used for specifying build tools'
options.</li>
<li><code>.test-jvmopts</code> file or <code>TEST_JVM_OPTS</code> if you want to declare jvm options
only for your tests and/or you also want to use -X options.</li>
</ul>
<p>This will work for any method used to run tests.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=debugging-scala-native>Debugging Scala Native<a href=#debugging-scala-native class=hash-link aria-label="Direct link to Debugging Scala Native" title="Direct link to Debugging Scala Native" translate=no>​</a></h3>
<p>To debug Scala Native applications, you need to use the
<a href="https://marketplace.visualstudio.com/items?itemName=llvm-vs-code-extensions.lldb-dap" target=_blank rel="noopener noreferrer">LLDB DAP</a>
extension and modify the <code>launch.json</code> configuration according to the extension
README.</p>
<p>You should also us make sure all all optimizations are turned off and
SourceLevelDebuggingConfig is fully enabled. This can be done by adding the
following to your <code>build.sbt</code>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">import scala.scalanative.build._</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">nativeConfig ~= { c =></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  c.withSourceLevelDebuggingConfig(_.enableAll) // enable generation of debug information</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  .withOptimize(false)  // disable Scala Native optimizer</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  .withMode(Mode.debug) // compile using LLVM without optimizations</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=on-type-formatting-for-multiline-string-formatting>On type formatting for multiline string formatting<a href=#on-type-formatting-for-multiline-string-formatting class=hash-link aria-label="Direct link to On type formatting for multiline string formatting" title="Direct link to On type formatting for multiline string formatting" translate=no>​</a></h2>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/a0O2vCs.gif?raw=true" alt=on-type class=img_ev3q /></p>
<p>To properly support adding <code>|</code> in multiline strings we are using the
<code>onTypeFormatting</code> method. The functionality is enabled by default, but you can
disable/enable <code>onTypeFormatting</code> inside Visual Studio Code settings by checking
<code>Editor: Format On Type</code>:</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/s6nT9rC.png?raw=true" alt=on-type-setting class=img_ev3q /></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=formatting-on-paste-for-multiline-strings>Formatting on paste for multiline strings<a href=#formatting-on-paste-for-multiline-strings class=hash-link aria-label="Direct link to Formatting on paste for multiline strings" title="Direct link to Formatting on paste for multiline strings" translate=no>​</a></h2>
<p>Whenever text is paste into a multiline string with <code>|</code> it will be properly
formatted by Metals:</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/fF0XWYC.gif?raw=true" alt=format-on-paste class=img_ev3q /></p>
<p>This feature is enabled by default. If you need to disable/enable formatting on
paste in Visual Studio Code you can check the <code>Editor: Format On Paste</code> setting:</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/vscode/rMrk27F.png?raw=true" alt=format-on-paste-setting class=img_ev3q /></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=worksheets>Worksheets<a href=#worksheets class=hash-link aria-label="Direct link to Worksheets" title="Direct link to Worksheets" translate=no>​</a></h2>
<p>Worksheets are a great way to explore an api, try out an idea, or code
up an example and quickly see the evaluated expression or result. Behind
the scenes worksheets are powered by the great work done in
<a href=https://scalameta.org/mdoc/ target=_blank rel="noopener noreferrer">mdoc</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=getting-started-with-worksheets>Getting started with Worksheets<a href=#getting-started-with-worksheets class=hash-link aria-label="Direct link to Getting started with Worksheets" title="Direct link to Getting started with Worksheets" translate=no>​</a></h3>
<p>To get started with a worksheet you can either use the <code>metals.new-scala-file</code>
command and select <em>Worksheet</em> or create a file called <code>*.worksheet.sc</code>.
This format is important since this is what tells Metals that it's meant to be
treated as a worksheet and not just a Scala script. Where you create the
script also matters. If you'd like to use classes and values from your
project, you need to make sure the worksheet is created inside of your sources next to any existing Scala files.
directory. You can still create a worksheet in other places, but you will
only have access to the standard library and your dependencies.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=evaluations>Evaluations<a href=#evaluations class=hash-link aria-label="Direct link to Evaluations" title="Direct link to Evaluations" translate=no>​</a></h3>
<p>After saving you'll see the result of the expression as a inlay hint at the end of the line.
You may not see the full result for example if it's too long, so you are also
able to hover on the inlay hint to expand it.</p>
<p>Keep in mind that you don't need to wrap your code in an <code>object</code>. In worksheets
everything can be evaluated at the top level.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=using-dependencies-in-worksheets>Using dependencies in worksheets<a href=#using-dependencies-in-worksheets class=hash-link aria-label="Direct link to Using dependencies in worksheets" title="Direct link to Using dependencies in worksheets" translate=no>​</a></h3>
<p>You are able to include an external dependency in your worksheet by including
it with using directives:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">//> using dep com.lihaoyi::scalatags:0.7.0</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<p><code>::</code> is the same as <code>%%</code> in sbt, which will append the current Scala binary version
to the artifact name.</p>
<p>You can also import <code>scalac</code> options in a special <code>$$scalac</code> import like below:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">//> using options -Ywarn-unused</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=troubleshooting>Troubleshooting<a href=#troubleshooting class=hash-link aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate=no>​</a></h3>
<p>Since worksheets are not standard Scala files, you may run into issues with some constructs.
For example, you may see an error like this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">value classes may not be a member of another class - mdoc</span><br/></span></code></pre></div></div>
<p>This means that one of the classes defined in the worksheet extends AnyVal, which is
not currently supported. You can work around this by moving the class to a separate file or removing
the AnyVal parent.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=running-scalafix-rules>Running scalafix rules<a href=#running-scalafix-rules class=hash-link aria-label="Direct link to Running scalafix rules" title="Direct link to Running scalafix rules" translate=no>​</a></h2>
<p>Scalafix allows users to specify some refactoring and linting rules that can be applied to your
codebase. Please checkout the <a href=https://scalacenter.github.io/scalafix target=_blank rel="noopener noreferrer">scalafix website</a> for more information.</p>
<p>Since Metals v0.11.7 it's now possible to run scalafix rules using a special
command <code>metals.scalafix-run</code>. In VS Code can be also run using the default shortcut of <code>shift + alt + ctrl + o</code>.
This should run all the rules defined in your <code>.scalafix.conf</code> file. All built-in rules
and the <a href=https://scalacenter.github.io/scalafix/docs/rules/community-rules.html#hygiene-rules target=_blank rel="noopener noreferrer">community hygiene ones</a> can
be run without any additional settings. However, for all the other rules users need to
add an additional dependency in the <code>metals.scalafixRulesDependencies</code> user setting.
Those rules need to be in form of strings such as <code>com.github.liancheng::organize-imports:0.6.0</code>, which
follows the same convention as <a href=https://get-coursier.io/ target=_blank rel="noopener noreferrer">coursier dependencies</a>.</p>
<p>A sample scalafix configuration can be seen below:</p>
<div class="language-hocon codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-hocon codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">rules = [</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  OrganizeImports,</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  ExplicitResultTypes,</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  RemoveUnused</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">RemoveUnused.imports = false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">OrganizeImports.groupedImports = Explode</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">OrganizeImports.expandRelative = true</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">OrganizeImports.removeUnused = true</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">OrganizeImports.groups = [</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "re:javax?\."</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "scala."</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "scala.meta."</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "*"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=searching-a-symbol-in-the-workspace>Searching a symbol in the workspace<a href=#searching-a-symbol-in-the-workspace class=hash-link aria-label="Direct link to Searching a symbol in the workspace" title="Direct link to Searching a symbol in the workspace" translate=no>​</a></h2>
<p>Metals provides an alternative command to the native "Go to symbol in
workspace..." command, in order to work around some VS Code limitations (see
<a href=https://github.com/microsoft/vscode/issues/98125 target=_blank rel="noopener noreferrer">this issue</a> for more context)
and provide richer search capabilities.</p>
<p>You can invoke this command from the command palette (look for "Metals: Search
symbol in workspace"). Optionally you can also bind this command to a shortcut.
For example, if you want to replace the native command with the Metals one you
can configure this shortcut:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-js codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token string-property property">"key"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"ctrl+t"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// or "cmd+t" if you're on macOS</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token string-property property">"command"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"metals.symbol-search"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token string-property property">"when"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"editorLangId == scala"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=coming-from-intellij>Coming from IntelliJ<a href=#coming-from-intellij class=hash-link aria-label="Direct link to Coming from IntelliJ" title="Direct link to Coming from IntelliJ" translate=no>​</a></h2>
<p>Install the
<a href="https://marketplace.visualstudio.com/items?itemName=k--kato.intellij-idea-keybindings" target=_blank rel="noopener noreferrer">IntelliJ IDEA Keybindings</a>
extension to use default IntelliJ shortcuts with VS Code.</p>
<table><thead><tr><th>IntelliJ<th>VS Code<tbody><tr><td>Go to class<td>Go to symbol in workspace<tr><td>Parameter info<td>Trigger parameter hints<tr><td>Basic completion<td>Trigger suggest<tr><td>Type info<td>Show hover<tr><td>Expand<td>Fold<tr><td>Extend Selection<td>Expand selection</table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=github-codespaces-and-githubdev-support>GitHub Codespaces and GitHub.dev support<a href=#github-codespaces-and-githubdev-support class=hash-link aria-label="Direct link to GitHub Codespaces and GitHub.dev support" title="Direct link to GitHub Codespaces and GitHub.dev support" translate=no>​</a></h2>
<p>See
<a href=https://scalameta.org/metals/docs/editors/online-ides#github-codespaces-and-githubdev target=_blank rel="noopener noreferrer">https://scalameta.org/metals/docs/editors/online-ides#github-codespaces-and-githubdev</a></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/scalameta/metals/edit/main/docs/editors/vscode.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/metals/docs/><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/metals/docs/editors/vim><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Vim</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#requirements class="table-of-contents__link toc-highlight">Requirements</a><li><a href=#installation class="table-of-contents__link toc-highlight">Installation</a><li><a href=#importing-a-build class="table-of-contents__link toc-highlight">Importing a build</a><ul><li><a href=#custom-sbt-launcher class="table-of-contents__link toc-highlight">Custom sbt launcher</a><li><a href=#speeding-up-import class="table-of-contents__link toc-highlight">Speeding up import</a><li><a href=#importing-changes class="table-of-contents__link toc-highlight">Importing changes</a><li><a href=#manually-trigger-build-import class="table-of-contents__link toc-highlight">Manually trigger build import</a></ul><li><a href=#run-doctor class="table-of-contents__link toc-highlight">Run doctor</a><li><a href=#configure-java-version class="table-of-contents__link toc-highlight">Configure Java version</a><ul><li><a href=#metalss-server-jdk class="table-of-contents__link toc-highlight">Metals's server JDK</a><li><a href=#projects-jdk class="table-of-contents__link toc-highlight">Project's JDK</a><li><a href=#macos class="table-of-contents__link toc-highlight">macOS</a></ul><li><a href=#custom-artifact-repositories-maven-or-ivy-resolvers class="table-of-contents__link toc-highlight">Custom artifact repositories (Maven or Ivy resolvers)</a><li><a href=#http-proxy class="table-of-contents__link toc-highlight">HTTP proxy</a><li><a href=#using-latest-metals-snapshot class="table-of-contents__link toc-highlight">Using latest Metals </a><a>SNAPSHOT</a><li><a href=#files-and-directories-to-include-in-your-gitignore class="table-of-contents__link toc-highlight">Files and Directories to include in your Gitignore</a><li><a href=#show-document-symbols class="table-of-contents__link toc-highlight">Show document symbols</a><li><a href=#go-to-parent-code-lenses class="table-of-contents__link toc-highlight">Go to parent code lenses</a><li><a href=#create-new-project-from-template class="table-of-contents__link toc-highlight">Create new project from template</a><li><a href=#running-and-debugging-your-code class="table-of-contents__link toc-highlight">Running and debugging your code</a><ul><li><a href=#via-test-explorer class="table-of-contents__link toc-highlight">via test explorer</a><li><a href=#via-code-lenses class="table-of-contents__link toc-highlight">via code lenses</a><li><a href=#via-a-launchjson-configuration class="table-of-contents__link toc-highlight">via a <code>launch.json</code> configuration</a><li><a href=#via-metals-commands class="table-of-contents__link toc-highlight">via Metals' commands</a><li><a href=#defining-jvm-options class="table-of-contents__link toc-highlight">Defining jvm options</a><li><a href=#debugging-scala-native class="table-of-contents__link toc-highlight">Debugging Scala Native</a></ul><li><a href=#on-type-formatting-for-multiline-string-formatting class="table-of-contents__link toc-highlight">On type formatting for multiline string formatting</a><li><a href=#formatting-on-paste-for-multiline-strings class="table-of-contents__link toc-highlight">Formatting on paste for multiline strings</a><li><a href=#worksheets class="table-of-contents__link toc-highlight">Worksheets</a><ul><li><a href=#getting-started-with-worksheets class="table-of-contents__link toc-highlight">Getting started with Worksheets</a><li><a href=#evaluations class="table-of-contents__link toc-highlight">Evaluations</a><li><a href=#using-dependencies-in-worksheets class="table-of-contents__link toc-highlight">Using dependencies in worksheets</a><li><a href=#troubleshooting class="table-of-contents__link toc-highlight">Troubleshooting</a></ul><li><a href=#running-scalafix-rules class="table-of-contents__link toc-highlight">Running scalafix rules</a><li><a href=#searching-a-symbol-in-the-workspace class="table-of-contents__link toc-highlight">Searching a symbol in the workspace</a><li><a href=#coming-from-intellij class="table-of-contents__link toc-highlight">Coming from IntelliJ</a><li><a href=#github-codespaces-and-githubdev-support class="table-of-contents__link toc-highlight">GitHub Codespaces and GitHub.dev support</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Overview</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/metals/docs/>Overview</a><li class=footer__item><a class=footer__link-item href=/metals/docs/build-tools/overview>Build Tools</a><li class=footer__item><a class=footer__link-item href=/metals/docs/contributors/project-goals>Project Goals</a><li class=footer__item><a class=footer__link-item href=/metals/docs/contributors/getting-started>Contributing</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Social</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/scalameta/metals target=_blank>
                      <img src="https://img.shields.io/github/stars/scalameta/metals.svg?color=%23087e8b&label=stars&logo=github&style=social"/>
                    </a><li class=footer__item><a href=https://discord.gg/RFpSVth target=_blank>
                      <img src="https://img.shields.io/discord/632642981228314653?logo=discord&style=social"/>
                    </a><li class=footer__item><a href=https://twitter.com/scalameta target=_blank>
                      <img src="https://img.shields.io/twitter/follow/scalameta.svg?logo=twitter&style=social"/>
                    </a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/metals/img/scalameta-logo.png class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/metals/img/scalameta-logo.png class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"/></div><div class=footer__copyright>Copyright © 2025 Metals</div></div></div></footer></div></body>