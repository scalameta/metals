<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/metals/blog/rss.xml" title="Metals RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/metals/blog/atom.xml" title="Metals Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-140140828-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-140140828-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Metals" href="/metals/opensearch.xml"><title data-react-helmet="true">Vim | Metals</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="http://scalameta.org/metals/img/scalameta-logo.png"><meta data-react-helmet="true" name="twitter:image" content="http://scalameta.org/metals/img/scalameta-logo.png"><meta data-react-helmet="true" property="og:url" content="http://scalameta.org/metals/docs/editors/vim"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Vim | Metals"><meta data-react-helmet="true" name="description" content="Vim demo"><meta data-react-helmet="true" property="og:description" content="Vim demo"><link data-react-helmet="true" rel="icon" href="/metals/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://scalameta.org/metals/docs/editors/vim"><link data-react-helmet="true" rel="alternate" href="http://scalameta.org/metals/docs/editors/vim" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://scalameta.org/metals/docs/editors/vim" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/metals/assets/css/styles.6f36e828.css">
<link rel="preload" href="/metals/assets/js/runtime~main.533e59be.js" as="script">
<link rel="preload" href="/metals/assets/js/main.1aa7b347.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/metals/"><div class="navbar__logo"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Metals</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/metals/docs/">Docs</a><a class="navbar__item navbar__link" href="/metals/blog/">Blog</a><a href="https://github.com/scalameta/metals" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">üåô</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">‚òÄÔ∏è</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/metals/docs/">Text Editors</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/editors/vscode">VS Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/metals/docs/editors/vim">Vim</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/editors/sublime">Sublime Text</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/editors/emacs">Emacs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/editors/eclipse">Eclipse</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/editors/online-ides">Online IDEs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/editors/user-configuration">User Configuration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/metals/docs/build-tools/overview">Build Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/metals/docs/contributors/project-goals">Contributing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/metals/docs/integrations/remote-language-server">Integrating with Metals</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/metals/docs/troubleshooting/proxy">Troubleshooting</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Vim</h1></header><p><img src="https://i.imgur.com/4BYHCCL.gif" alt="Vim demo"></p><p>Metals works with most LSP clients for Vim, but we recommend using one of the
Metals-specific extensions to get the best experience since they offer
Metals-specific commands and implement the Metals LSP extensions. </p><ul><li><a href="https://github.com/scalameta/coc-metals" target="_blank" rel="noopener noreferrer">coc-metals</a> An extension for
<a href="https://github.com/neoclide/coc.nvim" target="_blank" rel="noopener noreferrer"><code>coc.nvim</code></a> If you&#x27;re already using
other coc.nvim plugins or you are using Vim instead of Neovim, then this is
probably the best option for you. Most of the documentation below refers to
coc-metals.</li><li><a href="https://github.com/scalameta/nvim-metals" target="_blank" rel="noopener noreferrer">nvim-metals</a> A Lua extension for
the <a href="https://neovim.io/doc/user/lsp.html" target="_blank" rel="noopener noreferrer">built-in LSP support</a> in Neovim.
Note that this requires at least the 0.5.0 release of Neovim. You can find
the full documentation for nvim-metals
<a href="https://github.com/scalameta/nvim-metals/blob/master/doc/metals.txt" target="_blank" rel="noopener noreferrer">here</a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="requirements">Requirements<a class="hash-link" href="#requirements" title="Direct link to heading">‚Äã</a></h2><p><strong>Java 8, 11, 17 provided by OpenJDK or Oracle</strong>. Eclipse OpenJ9 is not
supported, please make sure the <code>JAVA_HOME</code> environment variable
points to a valid Java 8, 11 or 17 installation.</p><p><strong>macOS, Linux or Windows</strong>. Metals is developed on many operating systems and
every PR is tested on Ubuntu, Windows and MacOS.</p><p><strong>Scala 2.13, 2.12, 2.11 and Scala 3</strong>. Metals supports these Scala versions:</p><ul><li><p><strong>Scala 2.13</strong>:
2.13.8, 2.13.7, 2.13.6, 2.13.5, 2.13.4, 2.13.3, 2.13.2, 2.13.1</p></li><li><p><strong>Scala 2.12</strong>:
2.12.15, 2.12.14, 2.12.13, 2.12.12, 2.12.11, 2.12.10, 2.12.9, 2.12.8</p></li><li><p><strong>Scala 2.11</strong>:
2.11.12</p></li><li><p><strong>Scala 3</strong>:
3.1.2-RC2, 3.1.1, 3.1.0, 3.0.2, 3.0.1, 3.0.0</p></li></ul><p>Note that 2.11.x support is deprecated and it will be removed in future releases.
It&#x27;s recommended to upgrade to Scala 2.12 or Scala 2.13</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="installing-vim">Installing Vim<a class="hash-link" href="#installing-vim" title="Direct link to heading">‚Äã</a></h2><p>The coc.nvim plugin requires either <strong>Vim &gt;= 8.1</strong> or <strong>Neovim &gt;= 0.3.1</strong>. Make
sure you have the correct version installed. While it works with both Vim and
Neovim, we recommend using Neovim since it provides a smoother experience with
some of the features.</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># If using Vim</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">vim --version | head</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">VIM - Vi IMproved 8.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># If using Neovim</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">nvim --version | head</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">NVIM v0.4.3</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="installing-node">Installing Node<a class="hash-link" href="#installing-node" title="Direct link to heading">‚Äã</a></h2><p><code>coc.nvim</code> requires <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener noreferrer">Node.js</a> in order to work.
It also uses <a href="https://yarnpkg.com/en/docs/install#debian-stable" target="_blank" rel="noopener noreferrer">Yarn</a> to manage
extensions but you could opt-out of it and use <code>vim-plug</code> instead.</p><p>For convenience we recommend installing both via your favorite package manager
or manually:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -sL install-node.now.sh/lts | sh</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl --compressed -o- -L https://yarnpkg.com/install.sh | bash</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="installing-cocnvim">Installing coc.nvim<a class="hash-link" href="#installing-cocnvim" title="Direct link to heading">‚Äã</a></h2><p>Once the requirements are satisfied, we can now proceed to install
<a href="https://github.com/neoclide/coc.nvim/" target="_blank" rel="noopener noreferrer"><code>neoclide/coc.nvim</code></a>, which provides
Language Server Protocol support to Vim/Nvim  to communicate with the Metals
language server.</p><p>Assuming <a href="https://github.com/junegunn/vim-plug" target="_blank" rel="noopener noreferrer"><code>vim-plug</code></a> is used (another
plugin manager like vundle works too), update your <code>~/.vimrc</code> to include the
following settings.</p><div class="codeBlockContainer_I0IT language-vim theme-code-block"><div class="codeBlockContent_wNvx vim"><pre tabindex="0" class="prism-code language-vim codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Plug &#x27;neoclide/coc.nvim&#x27;, {&#x27;branch&#x27;: &#x27;release&#x27;}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Run <code>:PlugInstall</code> to install the plugin. If you already have <code>coc.nvim</code>
installed, be sure to update to the latest version with <code>:PlugUpdate</code>.</p><p><code>coc.nvim</code> uses <a href="https://code.visualstudio.com/docs/languages/json" target="_blank" rel="noopener noreferrer">jsonc</a> as a
configuration file format. It&#x27;s basically json with comment support.</p><p>In order to get comment highlighting, please add:</p><div class="codeBlockContainer_I0IT language-vim theme-code-block"><div class="codeBlockContent_wNvx vim"><pre tabindex="0" class="prism-code language-vim codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">autocmd FileType json syntax match Comment +\/\/.\+$+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="recommended-cocnvim-mappings">Recommended coc.nvim mappings<a class="hash-link" href="#recommended-cocnvim-mappings" title="Direct link to heading">‚Äã</a></h3><p><code>coc.nvim</code> doesn&#x27;t come with a default key mapping for LSP commands, so you need
to configure it yourself. You can see an example of default mappings
<a href="https://github.com/neoclide/coc.nvim#example-vim-configuration" target="_blank" rel="noopener noreferrer">here</a>. Below
you&#x27;ll find examples of additional <code>coc-metals</code> specific mappings that you&#x27;ll
also want to ensure you have:</p><div class="codeBlockContainer_I0IT language-vim theme-code-block"><div class="codeBlockContent_wNvx vim"><pre tabindex="0" class="prism-code language-vim codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot; Help Vim recognize *.sbt and *.sc as Scala files</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">au BufRead,BufNewFile *.sbt,*.sc set filetype=scala</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot; Used to expand decorations in worksheets</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">nmap &lt;Leader&gt;ws &lt;Plug&gt;(coc-metals-expand-decoration)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot; Toggle panel with Tree Views</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">nnoremap &lt;silent&gt; &lt;space&gt;t :&lt;C-u&gt;CocCommand metals.tvp&lt;CR&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot; Toggle Tree View &#x27;metalsPackages&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">nnoremap &lt;silent&gt; &lt;space&gt;tp :&lt;C-u&gt;CocCommand metals.tvp metalsPackages&lt;CR&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot; Toggle Tree View &#x27;metalsCompile&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">nnoremap &lt;silent&gt; &lt;space&gt;tc :&lt;C-u&gt;CocCommand metals.tvp metalsCompile&lt;CR&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot; Toggle Tree View &#x27;metalsBuild&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">nnoremap &lt;silent&gt; &lt;space&gt;tb :&lt;C-u&gt;CocCommand metals.tvp metalsBuild&lt;CR&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot; Reveal current current class (trait or object) in Tree View &#x27;metalsPackages&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">nnoremap &lt;silent&gt; &lt;space&gt;tf :&lt;C-u&gt;CocCommand metals.revealInTreeView metalsPackages&lt;CR&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="installing-coc-metals">Installing coc-metals<a class="hash-link" href="#installing-coc-metals" title="Direct link to heading">‚Äã</a></h3><p>Once you have <code>coc.nvim</code> installed, you can then install Metals a few different
ways. The easiest is by running:</p><div class="codeBlockContainer_I0IT language-vim theme-code-block"><div class="codeBlockContent_wNvx vim"><pre tabindex="0" class="prism-code language-vim codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">:CocInstall coc-metals</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>If you are using the latest stable release of coc.nvim, then this will
automatically check for updates each day. However, if you&#x27;re on the master
branch of coc.nvim, this will no longer happen by default. You can read more
about this <a href="https://github.com/neoclide/coc.nvim/issues/1937" target="_blank" rel="noopener noreferrer">here</a>.</p><p>If you&#x27;d like to use the latest changes on master, you can also just build from
source by using your vim plugin manager. Here is an example using <code>vim-plug</code>:</p><div class="codeBlockContainer_I0IT language-vim theme-code-block"><div class="codeBlockContent_wNvx vim"><pre tabindex="0" class="prism-code language-vim codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Plug &#x27;scalameta/coc-metals&#x27;, {&#x27;do&#x27;: &#x27;yarn install --frozen-lockfile&#x27;}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Then, issue a <code>:PlugInstall</code> to install the extension, and regularly a
<code>:PlugUpdate</code> to update it and pull in the latest changes.</p><p><strong>NOTE*</strong> Make sure you don&#x27;t have the extension installed both ways. So if you
have installed it with the built-in extension management of coc.nvim first and
are not switching, make sure to uninstall the old version first.</p><div class="codeBlockContainer_I0IT language-vim theme-code-block"><div class="codeBlockContent_wNvx vim"><pre tabindex="0" class="prism-code language-vim codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">:CocUninstall coc-metals</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="importing-a-build">Importing a build<a class="hash-link" href="#importing-a-build" title="Direct link to heading">‚Äã</a></h2><p>The first time you open Metals in a new workspace it prompts you to import the build.
Click &quot;Import build&quot; to start the installation step.</p><p><img src="https://i.imgur.com/1EyQPTC.png" alt="Import build"></p><ul><li>&quot;Not now&quot; disables this prompt for 2 minutes.</li><li>&quot;Don&#x27;t show again&quot; disables this prompt forever, use <code>rm -rf .metals/</code> to re-enable
the prompt.</li><li>Use <code>tail -f .metals/metals.log</code> to watch the build import progress.</li><li>Behind the scenes, Metals uses <a href="https://scalacenter.github.io/bloop/" target="_blank" rel="noopener noreferrer">Bloop</a> to
import sbt builds, but you don&#x27;t need Bloop installed on your machine to run this step.</li></ul><p>Once the import step completes, compilation starts for your open <code>*.scala</code>
files.</p><p>Once the sources have compiled successfully, you can navigate the codebase with
goto definition.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="custom-sbt-launcher">Custom sbt launcher<a class="hash-link" href="#custom-sbt-launcher" title="Direct link to heading">‚Äã</a></h3><p>By default, Metals runs an embedded <code>sbt-launch.jar</code> launcher that respects <code>.sbtopts</code> and <code>.jvmopts</code>.
However, the environment variables <code>SBT_OPTS</code> and <code>JAVA_OPTS</code> are not respected.</p><p>Update the <code>metals.sbtScript</code> setting to use a custom <code>sbt</code> script instead of the
default Metals launcher if you need further customizations like reading environment
variables.</p><p><img src="https://i.imgur.com/meciPTg.png" alt="Sbt Launcher"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="speeding-up-import">Speeding up import<a class="hash-link" href="#speeding-up-import" title="Direct link to heading">‚Äã</a></h3><p>The &quot;Import build&quot; step can take a long time, especially the first time you
run it in a new build. The exact time depends on the complexity of the build and
if library dependencies need to be downloaded. For example, this step can take
everything from 10 seconds in small cached builds up to 10-15 minutes in large
uncached builds.</p><p>Consult the <a href="https://scalacenter.github.io/bloop/docs/build-tools/sbt#speeding-up-build-export" target="_blank" rel="noopener noreferrer">Bloop documentation</a>
to learn how to speed up build import.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="importing-changes">Importing changes<a class="hash-link" href="#importing-changes" title="Direct link to heading">‚Äã</a></h3><p>When you change <code>build.sbt</code> or sources under <code>project/</code>, you will be prompted to
re-import the build.</p><p><img src="https://i.imgur.com/iocTVb6.png" alt="Import sbt changes"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="configure-java-version">Configure Java version<a class="hash-link" href="#configure-java-version" title="Direct link to heading">‚Äã</a></h2><p>The <code>coc-metals</code> extension uses by default the <code>JAVA_HOME</code> environment variable
(via <a href="https://www.npmjs.com/package/find-java-home" target="_blank" rel="noopener noreferrer"><code>find-java-home</code></a>) to locate
the <code>java</code> executable.</p><p><img src="https://i.imgur.com/clDfPMk.png" alt="No Java Home"></p><p>If no <code>JAVA_HOME</code> is detected you can then Open Settings by following the
instructions or do it at a later time by using <code>:CocConfig</code> or <code>:CocConfigLocal</code>
which will open up your configuration where you can manually enter your
JAVA_HOME location.</p><p><img src="https://i.imgur.com/wK07Vju.png" alt="Enter Java Home"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="using-latest-metals-snapshot">Using latest Metals SNAPSHOT<a class="hash-link" href="#using-latest-metals-snapshot" title="Direct link to heading">‚Äã</a></h2><p>Update the &quot;Server Version&quot; setting to try out the latest pending Metals
features.</p><table><thead><tr><th>Version</th><th>Published</th></tr></thead><tbody><tr><td>0.11.2</td><td>08 Mar 2022 13:30</td></tr><tr><td>0.11.2+61-929751cc-SNAPSHOT</td><td>16 Mar 2022 17:50</td></tr></tbody></table>After updating the version, you&#x27;ll be triggered to reload the window. This will be necessary before the new version will be downloaded and used.<p><img src="https://i.imgur.com/VUCdQvi.png" alt="Update Metals Version"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="list-all-workspace-compile-errors">List all workspace compile errors<a class="hash-link" href="#list-all-workspace-compile-errors" title="Direct link to heading">‚Äã</a></h2><p>To list all compilation errors and warnings in the workspace, run the following
command.</p><div class="codeBlockContainer_I0IT language-vim theme-code-block"><div class="codeBlockContent_wNvx vim"><pre tabindex="0" class="prism-code language-vim codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">:CocList diagnostics</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Or use the default recommended mapping <code>&lt;space&gt; a</code>.</p><p>This is helpful to see compilation errors in different files from your current
open buffer.</p><p><img src="https://i.imgur.com/cer22HW.png" alt="Diagnostics"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="worksheets">Worksheets<a class="hash-link" href="#worksheets" title="Direct link to heading">‚Äã</a></h2><p>Worksheets are a great way to explore an api, try out an idea, or code
up an example and quickly see the evaluated expression or result. Behind
the scenes worksheets are powered by the great work done in
<a href="https://scalameta.org/mdoc/" target="_blank" rel="noopener noreferrer">mdoc</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="getting-started-with-worksheets">Getting started with Worksheets<a class="hash-link" href="#getting-started-with-worksheets" title="Direct link to heading">‚Äã</a></h3><p>To get started with a worksheet you can either use the <code>metals.new-scala-file</code>
command and select <em>Worksheet</em> or create a file called <code>*.worksheet.sc</code>.
This format is important since this is what tells Metals that it&#x27;s meant to be
treated as a worksheet and not just a Scala script. Where you create the
script also matters. If you&#x27;d like to use classes and values from your
project, you need to make sure the worksheet is created inside of your <code>src</code>
directory. You can still create a worksheet in other places, but you will
only have access to the standard library and your dependencies.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="evaluations">Evaluations<a class="hash-link" href="#evaluations" title="Direct link to heading">‚Äã</a></h3><p>After saving you&#x27;ll see the result of the expression differently depending on whether you are using Neovim or Vim. If
using Vim, you will see them appear as comments at the end of
the line. If you&#x27;re using Nvim you will see this as virtual text.
Keep in mind that if you&#x27;re using coc-metals with Nvim you&#x27;ll need
to make sure <code>codeLens.enable</code> is set to <code>true</code>.
You may not see the full result for example if it&#x27;s too long, so you are also
able to hover on the comment if you&#x27;re in Vim or expand the virtual text by
using the <code>coc-metals-expand-decoration</code> command. The default for this
is:</p><div class="codeBlockContainer_I0IT language-vim theme-code-block"><div class="codeBlockContent_wNvx vim"><pre tabindex="0" class="prism-code language-vim codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">nmap &lt;Leader&gt;ws &lt;Plug&gt;(coc-metals-expand-decoration)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Keep in mind that you don&#x27;t need to wrap your code in an <code>object</code>. In worksheets
everything can be evaluated at the top level.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="using-dependencies-in-worksheets">Using dependencies in worksheets<a class="hash-link" href="#using-dependencies-in-worksheets" title="Direct link to heading">‚Äã</a></h3><p>You are able to include an external dependency in your worksheet by including
it in one of the following two ways.</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// $dep.`organisation`::artifact:version` style</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import $dep.`com.lihaoyi::scalatags:0.7.0`</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// $ivy.`organisation::artifact:version` style</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import $ivy.`com.lihaoyi::scalatags:0.7.0`</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><code>::</code> is the same as <code>%%</code> in sbt, which will append the current Scala binary version
to the artifact name.</p><p>You can also import <code>scalac</code> options in a special <code>$scalac</code> import like below:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">import $scalac.`-Ywarn-unused`</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><img src="https://i.imgur.com/Bt6DMtH.png" alt="Decorations with worksheets"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="tree-view-protocol">Tree View Protocol<a class="hash-link" href="#tree-view-protocol" title="Direct link to heading">‚Äã</a></h2><p><img src="https://i.imgur.com/GvcU9Mu.gif" alt="Tree View Protocol"></p><p>coc-metals has a built-in implementation of the <a href="https://scalameta.org/metals/docs/integrations/tree-view-protocol.html" target="_blank" rel="noopener noreferrer">Tree View
Protocol</a>.
If you have the <a href="/metals/docs/editors/vim#recommended-cocnvim-mappings">recommended mappings</a> copied, you&#x27;ll notice
that in the bottom you&#x27;ll have some TVP related settings. You can start by
opening the TVP panel by using the default <code>&lt;space&gt; t</code>. Once open, you&#x27;ll see
there are three parts to the panel. The first being the <code>MetalsCompile</code> window
where you can see ongoing compilations, the second is the <code>MetalsPackages</code>
window where you are able to see a tree view of all your packages, and finally
the <code>metalsBuild</code> window where you have build related commands.</p><p>You are able to trigger the commands while being on top of the option you are
attempting to trigger and pressing <code>r</code>. You can change this default in the
settings. You can find all the relevant TVP settings below in the <a href="#tree-view-protocol-configuration-options">Available
Configuration Options</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="tree-view-protocol-configuration-options">Tree View Protocol configuration options<a class="hash-link" href="#tree-view-protocol-configuration-options" title="Direct link to heading">‚Äã</a></h3><table><thead><tr><th>Configuration Option</th><th>Description</th></tr></thead><tbody><tr><td><code>metals.treeviews.toggleNode</code></td><td>Expand / Collapse tree node (default <code>&lt;CR&gt;</code>)</td></tr><tr><td><code>metals.treeviews.initialWidth</code></td><td>Initial Tree Views panels (default <code>40</code>)</td></tr><tr><td><code>metals.treeviews.initialViews</code></td><td>Initial views that the Tree View Panel displays. Don&#x27;t mess with this unless you know what you&#x27;re doing.</td></tr><tr><td><code>metals.treeviews.gotoLastChild</code></td><td>Go to the last child Node (default <code>J</code>)</td></tr><tr><td><code>metals.treeviews.gotoParentNode</code></td><td>Go to parent Node (default <code>p</code>)</td></tr><tr><td><code>metals.treeviews.gotoFirstChild</code></td><td>Go to first child Node (default <code>K</code>)</td></tr><tr><td><code>metals.treeviews.executeCommand</code></td><td>Execute command for node (default <code>r</code>)</td></tr><tr><td><code>metals.treeviews.gotoPrevSibling</code></td><td>Go to prev sibling (default <code>&lt;C-k&gt;</code>)</td></tr><tr><td><code>metals.treeviews.gotoNextSibling</code></td><td>Go to next sibling (default <code>&lt;C-j&gt;</code>)</td></tr><tr><td><code>metals.treeviews.forceChildrenReload</code></td><td>Force the reloading of the children of this node. May be useful when the wrong result is cached and tree contains invalid data. (default <code>f</code>)</td></tr><tr><td><code>metals.treeviews.executeCommandAndOpenTab</code></td><td>Execute command and open node under cursor in tab (if node is class, trait and so on) (default <code>t</code>)</td></tr><tr><td><code>metals.treeviews.executeCommandAndOpenSplit</code></td><td>Execute command and open node under cursor in horizontal split (if node is class, trait and so on) (default <code>s</code>)</td></tr><tr><td><code>metals.treeviews.executeCommandAndOpenVSplit</code></td><td>Execute command and open node under cursor in vertical split (if node is class, trait and so on) (default <code>v</code>)</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_mojV" id="goto-super-method">Goto Super Method<a class="hash-link" href="#goto-super-method" title="Direct link to heading">‚Äã</a></h2><p>Depending on whether you&#x27;re using Vim or Neovim, you&#x27;ll have a slightly
different behavior with this feature. If you&#x27;re using Neovim, you&#x27;ll want to
ensure that you have <code>codeLens.enable</code> set to <code>true</code> in your <code>:CocConfig</code> since
you&#x27;ll be able to quickly see via code lenses which members are overridden.
Then, you&#x27;ll be able to simply trigger a code lens action on the line of the
member that is overridden. The default mapping for this is <code>&lt;leader&gt; cl</code>.</p><p>If you&#x27;re using Vim, you&#x27;ll still have access to this functionality, but you&#x27;ll
have to infer which members are overridden and utilize the
<code>metals.go-to-super-method</code> command.</p><p>There is also a <code>metals.super-method-hierarchy</code> command which will show you the
entire hierarchy of the overridden method.</p><p><img src="https://i.imgur.com/TkjolXq.png" alt="Goto super method"></p><p>If you don&#x27;t utilize this feature you can disable it by setting
<code>metals.superMethodLensesEnabled</code> to <code>false</code>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="run-doctor">Run doctor<a class="hash-link" href="#run-doctor" title="Direct link to heading">‚Äã</a></h2><p>To troubleshoot problems with your build workspace, open your coc commands by either
using <code>:CocCommand</code> or the recommend mapping <code>&lt;space&gt; c</code>. This will open your command
window allowing you to search for <code>metals.doctor-run</code> command.</p><p><img src="https://i.imgur.com/QaqhxF7.png" alt="Run Doctor Command"></p><p>This command opens an embedded doctor in your preview window. If you&#x27;re not familiar with
having multiple windows, you can use <code>&lt;C-w&gt; + w</code> to jump into it.</p><p><img src="https://i.imgur.com/McaAFv5.png" alt="Embedded Doctor"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="other-available-commands">Other Available Commands<a class="hash-link" href="#other-available-commands" title="Direct link to heading">‚Äã</a></h2><p>You can see a full list of the Metals server commands
<a href="https://scalameta.org/metals/docs/integrations/new-editor#metals-server-commands" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="show-document-symbols">Show document symbols<a class="hash-link" href="#show-document-symbols" title="Direct link to heading">‚Äã</a></h2><p>Run <code>:CocList outline</code> to show a symbol outline for the current file or use the
default mapping <code>&lt;space&gt; o</code>.</p><p><img src="https://i.imgur.com/gEhAXV4.png" alt="Document Symbols"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="available-configuration-options">Available Configuration Options<a class="hash-link" href="#available-configuration-options" title="Direct link to heading">‚Äã</a></h2><p>The following configuration options are currently available. The easiest way to
set these configurations is to enter <code>:CocConfig</code> or <code>:CocLocalConfig</code> to set
your global or local configuration settings respectively.
If you&#x27;d like to get autocompletion help for the configuration values you can
install <a href="https://github.com/neoclide/coc-json" target="_blank" rel="noopener noreferrer">coc-json</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="java-home-directory">Java Home directory<a class="hash-link" href="#java-home-directory" title="Direct link to heading">‚Äã</a></h3><p>The Java Home directory used for indexing JDK sources and locating the <code>java</code> binary.</p><p><strong>Default</strong>: <code>JAVA_HOME</code> environment variable with fallback to <code>user.home</code> system property.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;javaHome&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_192.jdk/Contents/Home&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="sbt-script">sbt script<a class="hash-link" href="#sbt-script" title="Direct link to heading">‚Äã</a></h3><p>Optional absolute path to an <code>sbt</code> executable to use for running <code>sbt bloopInstall</code>.
By default, Metals uses <code>java -jar sbt-launch.jar</code> with an embedded launcher while respecting
<code>.jvmopts</code> and <code>.sbtopts</code>. Update this setting if your <code>sbt</code> script requires more customizations
like using environment variables.</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;sbtScript&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/usr/local/bin/sbt&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="gradle-script">Gradle script<a class="hash-link" href="#gradle-script" title="Direct link to heading">‚Äã</a></h3><p>Optional absolute path to a <code>gradle</code> executable to use for running <code>gradle bloopInstall</code>.
By default, Metals uses gradlew with 5.3.1 gradle version. Update this setting if your <code>gradle</code> script requires more customizations
like using environment variables.</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;gradleScript&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/usr/local/bin/gradle&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="maven-script">Maven script<a class="hash-link" href="#maven-script" title="Direct link to heading">‚Äã</a></h3><p>Optional absolute path to a <code>maven</code> executable to use for generating bloop config.
By default, Metals uses mvnw maven wrapper with 3.6.1 maven version. Update this setting if your <code>maven</code> script requires more customizations</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;mavenScript&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/usr/local/bin/mvn&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="mill-script">Mill script<a class="hash-link" href="#mill-script" title="Direct link to heading">‚Äã</a></h3><p>Optional absolute path to a <code>mill</code> executable to use for running <code>mill mill.contrib.Bloop/install</code>.
By default, Metals uses mill wrapper script with 0.5.0 mill version. Update this setting if your <code>mill</code> script requires more customizations
like using environment variables.</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;millScript&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/usr/local/bin/mill&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="scalafmt-config-path">Scalafmt config path<a class="hash-link" href="#scalafmt-config-path" title="Direct link to heading">‚Äã</a></h3><p>Optional custom path to the .scalafmt.conf file.
Should be an absolute path and use forward slashes <code>/</code> for file separators (even on Windows).</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;scalafmtConfigPath&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;project/.scalafmt.conf&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="scalafix-config-path">Scalafix config path<a class="hash-link" href="#scalafix-config-path" title="Direct link to heading">‚Äã</a></h3><p>Optional custom path to the .scalafix.conf file.
Should be an absolute path and use forward slashes <code>/</code> for file separators (even on Windows).</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;scalafixConfigPath&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;project/.scalafix.conf&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="ammonite-jvm-properties">Ammonite JVM Properties<a class="hash-link" href="#ammonite-jvm-properties" title="Direct link to heading">‚Äã</a></h3><p>Optional list of JVM properties to pass along to the Ammonite server.
Each property needs to be a separate item.\n\nExample: <code>-Xmx1G</code> or <code>-Xms100M</code>&quot;</p><p><strong>Default</strong>: <code>[]</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;ammoniteJvmProperties&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-Xmx1G&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="excluded-packages">Excluded Packages<a class="hash-link" href="#excluded-packages" title="Direct link to heading">‚Äã</a></h3><p>Packages that will be excluded from completions, imports, and symbol searches.</p><p>Note that this is in addition to some default packages that are already excluded.
The default excluded packages are listed below:</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token constant" style="color:rgb(130, 170, 255)">META</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">INF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">images</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">toolbarButtonGraphics</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">jdk</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sun</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">oracle</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">java</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">awt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">desktop</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">org</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">jcp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">org</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">omg</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">org</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">graalvm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">com</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">oracle</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">com</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">sun</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">com</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">apple</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">apple</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">com</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">sourcegraph</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">shaded</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>If there is a need to remove one of the defaults, you are able to do so by including the
package in your list and prepending <code>--</code> to it.</p><p>Example:</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;--sun&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>Default</strong>: <code>[]</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;excludedPackages&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;akka.actor.typed.javadsl&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="dont-generate-bloop-plugin-file-for-sbt">Don&#x27;t generate Bloop plugin file for sbt<a class="hash-link" href="#dont-generate-bloop-plugin-file-for-sbt" title="Direct link to heading">‚Äã</a></h3><p>If true, Metals will not generate <code>metals.sbt</code> files under the assumption that sbt-bloop is already manually installed in the sbt build. Build import will fail with a &#x27;not valid command bloopInstall&#x27; error in case Bloop is not manually installed in the build when using this option.</p><p><strong>Default</strong>: false</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;bloopSbtAlreadyInstalled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="version-of-bloop">Version of Bloop<a class="hash-link" href="#version-of-bloop" title="Direct link to heading">‚Äã</a></h3><p>This version will be used for the Bloop build tool plugin, for any supported build tool,
while importing in Metals as well as for running the embedded server</p><p><strong>Default</strong>: 1.4.13-45-7848b602</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;bloopVersion&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;1.4.0-RC1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="should-display-lenses-with-links-to-super-methods">Should display lenses with links to super methods<a class="hash-link" href="#should-display-lenses-with-links-to-super-methods" title="Direct link to heading">‚Äã</a></h3><p>Super method lenses are visible above methods definition that override another methods. Clicking on a lens jumps to super method definition.
Disabled lenses are not calculated for opened documents which might speed up document processing.</p><p><strong>Default</strong>: false</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;superMethodLensesEnabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="should-display-type-annotations-for-inferred-types">Should display type annotations for inferred types<a class="hash-link" href="#should-display-type-annotations-for-inferred-types" title="Direct link to heading">‚Äã</a></h3><p>When this option is enabled, each method that can have inferred types has them
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p><p><strong>Default</strong>: false</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;showInferredType&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="should-display-implicit-parameter-at-usage-sites">Should display implicit parameter at usage sites<a class="hash-link" href="#should-display-implicit-parameter-at-usage-sites" title="Direct link to heading">‚Äã</a></h3><p>When this option is enabled, each method that has implicit arguments has them
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p><p><strong>Default</strong>: false</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;showImplicitArguments&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="should-display-implicit-conversion-at-usage-sites">Should display implicit conversion at usage sites<a class="hash-link" href="#should-display-implicit-conversion-at-usage-sites" title="Direct link to heading">‚Äã</a></h3><p>When this option is enabled, each place where an implicit method or class is used has it
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p><p><strong>Default</strong>: false</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;showImplicitConversionsAndClasses&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="should-try-adjust-indentation-on-range-formatting">Should try adjust indentation on range formatting.<a class="hash-link" href="#should-try-adjust-indentation-on-range-formatting" title="Direct link to heading">‚Äã</a></h3><p>When this option is enabled, when user pastes any snippet into a Scala file, Metals
will try to adjust the indentation to that of the current cursor.</p><p><strong>Default</strong>: false</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;enableIndentOnPaste&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="remote-language-server">Remote language server<a class="hash-link" href="#remote-language-server" title="Direct link to heading">‚Äã</a></h3><p>A URL pointing to an endpoint that implements a remote language server.</p><p>See <a href="https://scalameta.org/metals/docs/contributors/remote-language-server.html" target="_blank" rel="noopener noreferrer">https://scalameta.org/metals/docs/contributors/remote-language-server.html</a> for
documentation on remote language servers.</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;remoteLanguageServer&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://language-server.company.com/message&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="default-fallback-scala-version">Default fallback Scala version<a class="hash-link" href="#default-fallback-scala-version" title="Direct link to heading">‚Äã</a></h3><p>The Scala compiler version that is used as the default or fallback in case a file
doesn&#x27;t belong to any build target or the specified Scala version isn&#x27;t supported by Metals.
This applies to standalone Scala files, worksheets, and Ammonite scripts.</p><p><strong>Default</strong>: 3.1.1</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;fallbackScalaVersion&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3.1</span><span class="token plain">.</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="test-ui-used-for-tests-and-test-suites">Test UI used for tests and test suites<a class="hash-link" href="#test-ui-used-for-tests-and-test-suites" title="Direct link to heading">‚Äã</a></h3><p>Default way of handling tests and test suites.</p><p><strong>Default</strong>: Code Lenses</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;testUserInterface&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> test explorer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="eclipse-java-formatter-config-path">Eclipse Java formatter config path<a class="hash-link" href="#eclipse-java-formatter-config-path" title="Direct link to heading">‚Äã</a></h3><p>Optional custom path to the eclipse-formatter.xml file.
Should be an absolute path and use forward slashes <code>/</code> for file separators (even on Windows).</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;javaFormat.eclipseConfigPath&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;formatters/eclipse-formatter.xml&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="eclipse-java-formatting-profile">Eclipse Java formatting profile<a class="hash-link" href="#eclipse-java-formatting-profile" title="Direct link to heading">‚Äã</a></h3><p>If the Eclipse formatter file contains more than one profile then specify the required profile name.</p><p><strong>Default</strong>: empty string <code>&quot;&quot;</code>.</p><p><strong>Example</strong>:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;metals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;javaFormat.eclipseProfile&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GoogleStyle&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="create-new-project-from-template">Create new project from template<a class="hash-link" href="#create-new-project-from-template" title="Direct link to heading">‚Äã</a></h2><p>It is possible using Metals to easily setup a new project using the exiting <a href="https://github.com/foundweekends/giter8/wiki/giter8-templates" target="_blank" rel="noopener noreferrer">giter8</a> templates.
This is an equivalent to the <code>sbt new</code> command, which uses the same mechanism.
There is a great number of templates already available and it should be easy to find something for yourself.
To start the setup you can use the new-scala-project command, which works as following:</p><ol><li>Choose the template and then:<ol><li>Use the proposed templates.</li><li>Choose &quot;Discover more&quot; and then choose from the list downloaded from the Giter8 wiki page.</li><li>Input a custom Github repository following the <code>organization/repo</code> schema.</li></ol></li><li>Navigate to the parent directory that you want to create your new project in.</li><li>Choose the name or accept the default one.</li></ol><p>If you feel like a template should be included in the default displayed ones do not hesitate to create a
<a href="https://github.com/scalameta/metals/blob/cda5b8c2029e5f201fb8d0636e0365d796407bd9/metals/src/main/scala/scala/meta/internal/builds/NewProjectProvider.scala#L308" target="_blank" rel="noopener noreferrer">PR</a>
or file an issue.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="enable-on-type-formatting-for-multiline-string-formatting">Enable on type formatting for multiline string formatting<a class="hash-link" href="#enable-on-type-formatting-for-multiline-string-formatting" title="Direct link to heading">‚Äã</a></h2><p><img src="https://i.imgur.com/astTOKu.gif" alt="on-type"></p><p>To properly support some of the multiline string options like adding <code>|</code> in
the multiline string, we are using the <code>onTypeFormatting</code> method. To enable the
functionality you need to enable <code>coc.preferences.formatOnType</code> setting.</p><p><img src="https://i.imgur.com/RWPHt2q.png" alt="coc-preferences-formatOnType"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="close-buffer-without-exiting">Close buffer without exiting<a class="hash-link" href="#close-buffer-without-exiting" title="Direct link to heading">‚Äã</a></h2><p>To close a buffer and return to the previous buffer, run the following command.</p><div class="codeBlockContainer_I0IT language-vim theme-code-block"><div class="codeBlockContent_wNvx vim"><pre tabindex="0" class="prism-code language-vim codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">:bd</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This command is helpful when navigating in library dependency sources in the .metals/readonly directory.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="shut-down-the-language-server">Shut down the language server<a class="hash-link" href="#shut-down-the-language-server" title="Direct link to heading">‚Äã</a></h2><p>The Metals server is shutdown when you exit vim as usual.</p><div class="codeBlockContainer_I0IT language-vim theme-code-block"><div class="codeBlockContent_wNvx vim"><pre tabindex="0" class="prism-code language-vim codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">:wq</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="statusline-integration">Statusline integration<a class="hash-link" href="#statusline-integration" title="Direct link to heading">‚Äã</a></h2><p>It&#x27;s recommended to use a statusline integration with <code>coc-metals</code> in order to
allow messages to be displayed in your status line rather than as a message.
This will allow for a better experience as you can continue to get status
information while entering a command or responding to a prompt. However, we
realize that not everyone by default will have this setup, and since the user
needs to see messages about the status of their build, the following is
defaulted to false.</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token property">&quot;metals.statusBarEnabled&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Again, it&#x27;s recommended to make this active, and use a statusline plugin, or
manually add the coc status information into your statusline. <code>coc.nvim</code> has
multiple ways to integrate with various statusline plugins. You can find
instructions for each of them located
<a href="https://github.com/neoclide/coc.nvim/wiki/Statusline-integration" target="_blank" rel="noopener noreferrer">here</a>.  If
you&#x27;re unsure of what to use,
<a href="https://github.com/vim-airline/vim-airline" target="_blank" rel="noopener noreferrer">vim-airline</a> is a great minimal
choice that will work out of the box.</p><p>With <a href="https://github.com/vim-airline/vim-airline" target="_blank" rel="noopener noreferrer">vim-airline</a> you&#x27;ll notice
two noteworthy things. The first will be that you&#x27;ll have diagnostic
information on the far right of your screen.</p><p><img src="https://i.imgur.com/7uNYTYl.png" alt="Diagnostic statusline"></p><p>You&#x27;ll also have metals status information in your status bar.</p><p><img src="https://i.imgur.com/eCAgrCn.png" alt="Status bar info"></p><p>Without a statusline integration, you&#x27;ll get messages like you see below.</p><p><img src="https://i.imgur.com/XF7A1BJ.png" alt="No status line"></p><p>If you don&#x27;t use a statusline plugin, but would still like to see this
information, the easiest way is to make sure you have the following in your
<code>.vimrc</code>.</p><div class="codeBlockContainer_I0IT language-vim theme-code-block"><div class="codeBlockContent_wNvx vim"><pre tabindex="0" class="prism-code language-vim codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">set statusline^=%{coc#status()}%{get(b:,&#x27;coc_current_function&#x27;,&#x27;&#x27;)}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="formatting-on-save">Formatting on save<a class="hash-link" href="#formatting-on-save" title="Direct link to heading">‚Äã</a></h2><p>Add the following configuration to <code>:CocConfig</code> if you&#x27;d like to have <code>:w</code> format using Metals and
Scalafmt.</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token property">&quot;coc.preferences.formatOnSaveFiletypes&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;scala&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This step cleans up resources that are used by the server.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="files-and-directories-to-include-in-your-gitignore">Files and Directories to include in your Gitignore<a class="hash-link" href="#files-and-directories-to-include-in-your-gitignore" title="Direct link to heading">‚Äã</a></h2><p>The Metals server places logs and other files in the <code>.metals</code> directory. The
Bloop compile server places logs and compilation artifacts in the <code>.bloop</code>
directory. The Bloop plugin that generates Bloop configuration is added in the
<code>metals.sbt</code> file, which is added at <code>project/metals.sbt</code> as well as further
<code>project</code> directories depending on how deep <code>*.sbt</code> files need to be supported.
To support each <code>*.sbt</code> file Metals needs to create an additional file at
<code>./project/project/metals.sbt</code> relative to the sbt file.
Working with Ammonite scripts will place compiled scripts into the <code>.ammonite</code> directory.
It&#x27;s recommended to exclude these directories and files
from version control systems like git.</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># ~/.gitignore</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">.metals/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">.bloop/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">.ammonite/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">metals.sbt</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="using-an-alternative-lsp-client">Using an alternative LSP Client<a class="hash-link" href="#using-an-alternative-lsp-client" title="Direct link to heading">‚Äã</a></h2><p>While we recommend using the <code>coc-metals</code> extension with <code>coc.nvim</code>, or
<code>nvim-metals</code> with Neovim, Metals will work with these alternative LSP clients.
Keep in mind that they have varying levels of LSP support, and you need to
bootstrap Metals yourself.</p><ul><li><a href="https://github.com/natebosch/vim-lsc/" target="_blank" rel="noopener noreferrer"><code>vim-lsc</code></a>: simple installation and written in Vimscript.</li><li><a href="https://github.com/autozimu/LanguageClient-neovim/" target="_blank" rel="noopener noreferrer"><code>LanguageClient-neovim</code></a>: client written in Rust.</li><li><a href="https://github.com/prabirshrestha/vim-lsp" target="_blank" rel="noopener noreferrer"><code>vim-lsp</code></a>: simple installation and written in
Vimscript.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="generating-metals-binary">Generating metals binary<a class="hash-link" href="#generating-metals-binary" title="Direct link to heading">‚Äã</a></h3><p>If you only want to use the latest stable version of Metals, the easiest way to
install Metals is using <a href="https://get-coursier.io/" target="_blank" rel="noopener noreferrer">coursier</a>. Once installed you
can simply do a <code>cs install metals</code> to install the latest stable version of
Metals. You can then also do a <code>cs update metals</code> to update it.</p><p>If you&#x27;d like to bootstrap your own Metals for a specific version, you&#x27;re also
able to do so like this:</p><p>Next, build a <code>metals-vim</code> binary for the latest Metals release using the
<a href="https://github.com/coursier/coursier" target="_blank" rel="noopener noreferrer">Coursier</a> command-line interface.</p><table><thead><tr><th>Version</th><th>Published</th><th>Resolver</th></tr></thead><tbody><tr><td>0.11.2</td><td>08 Mar 2022 13:30</td><td><code>-r sonatype:releases</code></td></tr><tr><td>0.11.2+61-929751cc-SNAPSHOT</td><td>16 Mar 2022 17:50</td><td><code>-r sonatype:snapshots</code></td></tr></tbody></table><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Make sure to use coursier v1.1.0-M9 or newer.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -L -o coursier https://git.io/coursier-cli</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">chmod +x coursier</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">./coursier bootstrap \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --java-opt -Xss4m \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --java-opt -Xms100m \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --java-opt -Dmetals.client=vim-lsc \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  org.scalameta:metals_2.12:0.11.2 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -r bintray:scalacenter/releases \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -r sonatype:snapshots \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -o /usr/local/bin/metals-vim -f</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Make sure the generated <code>metals-vim</code> binary is available on your <code>$PATH</code>.</p><p>You can check version of your binary by executing <code>metals-vim -version</code>.</p><p>Configure the system properties <code>-Dhttps.proxyHost=‚Ä¶ -Dhttps.proxyPort=‚Ä¶</code>
if you are behind an HTTP proxy.
The <code>-Dmetals.client=vim-lsc</code> flag is there just as a helper to match your
potential client. So make sure it matches your client name. This line isn&#x27;t
mandatory though as your client can fully be configured via
<code>InitializationOptions</code>, which should be easily configurable by your client. You
can read more about his
<a href="https://scalameta.org/metals/blog/2020/07/23/configuring-a-client#initializationoptions" target="_blank" rel="noopener noreferrer">here</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/scalameta/metals/edit/main/docs/editors/vim.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/metals/docs/editors/vscode"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">VS Code</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/metals/docs/editors/sublime"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sublime Text</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#installing-vim" class="table-of-contents__link toc-highlight">Installing Vim</a></li><li><a href="#installing-node" class="table-of-contents__link toc-highlight">Installing Node</a></li><li><a href="#installing-cocnvim" class="table-of-contents__link toc-highlight">Installing coc.nvim</a><ul><li><a href="#recommended-cocnvim-mappings" class="table-of-contents__link toc-highlight">Recommended coc.nvim mappings</a></li><li><a href="#installing-coc-metals" class="table-of-contents__link toc-highlight">Installing coc-metals</a></li></ul></li><li><a href="#importing-a-build" class="table-of-contents__link toc-highlight">Importing a build</a><ul><li><a href="#custom-sbt-launcher" class="table-of-contents__link toc-highlight">Custom sbt launcher</a></li><li><a href="#speeding-up-import" class="table-of-contents__link toc-highlight">Speeding up import</a></li><li><a href="#importing-changes" class="table-of-contents__link toc-highlight">Importing changes</a></li></ul></li><li><a href="#configure-java-version" class="table-of-contents__link toc-highlight">Configure Java version</a></li><li><a href="#using-latest-metals-snapshot" class="table-of-contents__link toc-highlight">Using latest Metals SNAPSHOT</a></li><li><a href="#list-all-workspace-compile-errors" class="table-of-contents__link toc-highlight">List all workspace compile errors</a></li><li><a href="#worksheets" class="table-of-contents__link toc-highlight">Worksheets</a><ul><li><a href="#getting-started-with-worksheets" class="table-of-contents__link toc-highlight">Getting started with Worksheets</a></li><li><a href="#evaluations" class="table-of-contents__link toc-highlight">Evaluations</a></li><li><a href="#using-dependencies-in-worksheets" class="table-of-contents__link toc-highlight">Using dependencies in worksheets</a></li></ul></li><li><a href="#tree-view-protocol" class="table-of-contents__link toc-highlight">Tree View Protocol</a><ul><li><a href="#tree-view-protocol-configuration-options" class="table-of-contents__link toc-highlight">Tree View Protocol configuration options</a></li></ul></li><li><a href="#goto-super-method" class="table-of-contents__link toc-highlight">Goto Super Method</a></li><li><a href="#run-doctor" class="table-of-contents__link toc-highlight">Run doctor</a></li><li><a href="#other-available-commands" class="table-of-contents__link toc-highlight">Other Available Commands</a></li><li><a href="#show-document-symbols" class="table-of-contents__link toc-highlight">Show document symbols</a></li><li><a href="#available-configuration-options" class="table-of-contents__link toc-highlight">Available Configuration Options</a><ul><li><a href="#java-home-directory" class="table-of-contents__link toc-highlight">Java Home directory</a></li><li><a href="#sbt-script" class="table-of-contents__link toc-highlight">sbt script</a></li><li><a href="#gradle-script" class="table-of-contents__link toc-highlight">Gradle script</a></li><li><a href="#maven-script" class="table-of-contents__link toc-highlight">Maven script</a></li><li><a href="#mill-script" class="table-of-contents__link toc-highlight">Mill script</a></li><li><a href="#scalafmt-config-path" class="table-of-contents__link toc-highlight">Scalafmt config path</a></li><li><a href="#scalafix-config-path" class="table-of-contents__link toc-highlight">Scalafix config path</a></li><li><a href="#ammonite-jvm-properties" class="table-of-contents__link toc-highlight">Ammonite JVM Properties</a></li><li><a href="#excluded-packages" class="table-of-contents__link toc-highlight">Excluded Packages</a></li><li><a href="#dont-generate-bloop-plugin-file-for-sbt" class="table-of-contents__link toc-highlight">Don&#39;t generate Bloop plugin file for sbt</a></li><li><a href="#version-of-bloop" class="table-of-contents__link toc-highlight">Version of Bloop</a></li><li><a href="#should-display-lenses-with-links-to-super-methods" class="table-of-contents__link toc-highlight">Should display lenses with links to super methods</a></li><li><a href="#should-display-type-annotations-for-inferred-types" class="table-of-contents__link toc-highlight">Should display type annotations for inferred types</a></li><li><a href="#should-display-implicit-parameter-at-usage-sites" class="table-of-contents__link toc-highlight">Should display implicit parameter at usage sites</a></li><li><a href="#should-display-implicit-conversion-at-usage-sites" class="table-of-contents__link toc-highlight">Should display implicit conversion at usage sites</a></li><li><a href="#should-try-adjust-indentation-on-range-formatting" class="table-of-contents__link toc-highlight">Should try adjust indentation on range formatting.</a></li><li><a href="#remote-language-server" class="table-of-contents__link toc-highlight">Remote language server</a></li><li><a href="#default-fallback-scala-version" class="table-of-contents__link toc-highlight">Default fallback Scala version</a></li><li><a href="#test-ui-used-for-tests-and-test-suites" class="table-of-contents__link toc-highlight">Test UI used for tests and test suites</a></li><li><a href="#eclipse-java-formatter-config-path" class="table-of-contents__link toc-highlight">Eclipse Java formatter config path</a></li><li><a href="#eclipse-java-formatting-profile" class="table-of-contents__link toc-highlight">Eclipse Java formatting profile</a></li></ul></li><li><a href="#create-new-project-from-template" class="table-of-contents__link toc-highlight">Create new project from template</a></li><li><a href="#enable-on-type-formatting-for-multiline-string-formatting" class="table-of-contents__link toc-highlight">Enable on type formatting for multiline string formatting</a></li><li><a href="#close-buffer-without-exiting" class="table-of-contents__link toc-highlight">Close buffer without exiting</a></li><li><a href="#shut-down-the-language-server" class="table-of-contents__link toc-highlight">Shut down the language server</a></li><li><a href="#statusline-integration" class="table-of-contents__link toc-highlight">Statusline integration</a></li><li><a href="#formatting-on-save" class="table-of-contents__link toc-highlight">Formatting on save</a></li><li><a href="#files-and-directories-to-include-in-your-gitignore" class="table-of-contents__link toc-highlight">Files and Directories to include in your Gitignore</a></li><li><a href="#using-an-alternative-lsp-client" class="table-of-contents__link toc-highlight">Using an alternative LSP Client</a><ul><li><a href="#generating-metals-binary" class="table-of-contents__link toc-highlight">Generating metals binary</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Overview</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/metals/docs/overview/editor-support">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/build-tools/overview">Build Tools</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/contributors/project-goals">Project Goals</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/contributors/getting-started">Contributing</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/scalameta/metals" target="_blank">
                      <img src="https://img.shields.io/github/stars/scalameta/metals.svg?color=%23087e8b&label=stars&logo=github&style=social">
                    </a></li><li class="footer__item"><a href="https://discord.gg/RFpSVth" target="_blank">
                      <img src="https://img.shields.io/discord/632642981228314653?logo=discord&style=social">
                    </a></li><li class="footer__item"><a href="https://twitter.com/scalameta" target="_blank">
                      <img src="https://img.shields.io/twitter/follow/scalameta.svg?logo=twitter&style=social">
                    </a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/metals/img/scalameta-logo.png" alt="" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/metals/img/scalameta-logo.png" alt="" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></div><div class="footer__copyright">Copyright ¬© 2022 Metals</div></div></div></footer></div>
<script src="/metals/assets/js/runtime~main.533e59be.js"></script>
<script src="/metals/assets/js/main.1aa7b347.js"></script>
</body>
</html>