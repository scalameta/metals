<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-contributors/releasing" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Making a release | Metals</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=http://scalameta.org/metals/img/scalameta-logo.png><meta data-rh=true name=twitter:image content=http://scalameta.org/metals/img/scalameta-logo.png><meta data-rh=true property=og:url content=http://scalameta.org/metals/docs/contributors/releasing><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Making a release | Metals"><meta data-rh=true name=description content=Metals><meta data-rh=true property=og:description content=Metals><link data-rh=true rel=icon href=/metals/img/favicon.ico><link data-rh=true rel=canonical href=http://scalameta.org/metals/docs/contributors/releasing><link data-rh=true rel=alternate href=http://scalameta.org/metals/docs/contributors/releasing hreflang=en><link data-rh=true rel=alternate href=http://scalameta.org/metals/docs/contributors/releasing hreflang=x-default><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"http://scalameta.org/metals/docs/contributors/releasing","name":"Making a release","position":1}]}</script><link rel=alternate type=application/rss+xml href=/metals/blog/rss.xml title="Metals RSS Feed"><link rel=alternate type=application/atom+xml href=/metals/blog/atom.xml title="Metals Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140140828-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-140140828-1",{})</script><link rel=stylesheet href=/metals/assets/css/styles.0dac80d8.css><script src=/metals/assets/js/runtime~main.64c755ca.js defer></script><script src=/metals/assets/js/main.e7d36b3d.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/metals/img/scalameta-logo.png><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/metals/><div class=navbar__logo><img src=/metals/img/scalameta-logo.png alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/metals/img/scalameta-logo.png alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Metals</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/metals/docs/>Docs</a><a class="navbar__item navbar__link" href=/metals/blog/>Blog</a><a href=https://github.com/scalameta/metals target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class="navbar__search searchBarContainer_NW3z" dir=ltr><input placeholder=Search aria-label=Search class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/>Text Editors</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/features/codeactions>Features</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/build-tools/overview>Build Tools</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/metals/docs/contributors/project-goals>Contributing</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/contributors/project-goals>Project Goals</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/contributors/getting-started>Contributing to Metals</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/contributors/updating-website>Contributing to the website</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/metals/docs/contributors/releasing>Making a release</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/integrations/new-build-tool>Integrating with Metals</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/troubleshooting/proxy>Troubleshooting</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/acknowledgements/development>Acknowledgements</a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/metals/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Contributing</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Making a release</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Making a release</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id=metals>Metals<a href=#metals class=hash-link aria-label="Direct link to Metals" title="Direct link to Metals">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=tag-the-release>Tag the release<a href=#tag-the-release class=hash-link aria-label="Direct link to Tag the release" title="Direct link to Tag the release">​</a></h3>
<ul>
<li>
<p>Choose the right version number:</p>
<ul>
<li><code>x.0.0</code> should not be used unless Metals is totally reworked.</li>
<li><code>x.y.0</code> is reserved for changes that require adjustments in the plugins for
different editors.</li>
<li><code>x.y.z</code> is reserved in remaining cases, where the changes do not require any
adjustments in the plugins.</li>
</ul>
<p>For most releases bumping <code>z</code> is enough especially that Metals not being used
as a library anywhere and do not have a public API.</p>
<ul>
<li>The tag must be called <code>vx.y.z</code>, e.g. <code>v3.0.0</code>.</li>
<li><code>git tag -a vx.y.z -m "vx.y.z"</code></li>
</ul>
<p>You will need the tag to fill in some information in the release notes. It can
always be deleted and tagged again if you want to include more commits.
<code>git tag -d vx.y.z</code></p>
<p>Please wait with pushing the tag until the release notes are accepted.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=draft-the-release-notes>Draft the release notes<a href=#draft-the-release-notes class=hash-link aria-label="Direct link to Draft the release notes" title="Direct link to Draft the release notes">​</a></h3>
<p>First of all, if you are bumping the minor part of the version choose a new
metal or an alloy as a new for the release! Use that in the release notes and in
the release title on GitHub. Otherwise, use the metal from the previous release.</p>
<p>You might use the <code>./bin/merged_prs.sc</code> script to generate a draft of release
notes with merged PRs list between two last release tags. It can be run using
scala-cli:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">cs install scala-cli</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">scala-cli ./bin/merged_prs.scala -- &lt;tag1> &lt;tag2> "&lt;github_api_token>"</span><br></span></code></pre></div></div>
<p>Make sure that required tags, the previous one and the new one, are available.
You might need to do <code>git fetch &lt;main_fork> --tags</code> to fetch the older tag. You
need to create the new one.</p>
<p>It will need a <a href=https://github.com/settings/tokens target=_blank rel="noopener noreferrer">basic github API token</a>
(don't need any additional scopes) to run, which may be specified via the last
argument.</p>
<p>The script will generate a new markdown file in <code>website/blog</code> filled with a
basic release template.</p>
<p>You can fill in the number of closed issues from the last milestone, though you
will need to make sure everything is included there. In most cases you can just
add all the closed issues since the last milestone.</p>
<p>Please also fill in any missing details like the author or author image.</p>
<p>To write the actual release notes you can look through the list of closed PR,
put any smaller changes that you think are worth mentioning to the users in the
<code>Miscellaneous</code> section and any large ones as their own section with more
explanation and examples.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=update-metals-version>Update Metals version<a href=#update-metals-version class=hash-link aria-label="Direct link to Update Metals version" title="Direct link to Update Metals version">​</a></h3>
<ul>
<li><code>build.sbt</code> - update <code>localSnapshotVersion</code> and <code>mimaPreviousArtifacts</code></li>
<li><code>.github/ISSUE_TEMPLATE/bug_report.yml</code> - update <code>Version of Metals</code></li>
<li><code>./bin/test-release.sh</code> - remove any unsupported Scala versions and add newly
supported ones. This will be needed later to test the new release.</li>
<li><code>.github/workflows/mtags-auto-release.yml</code> - update <code>metals_version</code> and
<code>metals_ref</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=open-a-pr-with-release-notes>Open a PR with release notes<a href=#open-a-pr-with-release-notes class=hash-link aria-label="Direct link to Open a PR with release notes" title="Direct link to Open a PR with release notes">​</a></h3>
<p>Open the PR to the repo and wait until they are approved to merge them. This
might take some time if the release is large enough.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=start-the-release-process>Start the release process:<a href=#start-the-release-process class=hash-link aria-label="Direct link to Start the release process:" title="Direct link to Start the release process:">​</a></h3>
<ul>
<li><code>git push &lt;main_fork> &lt;tag_name></code> will trigger release workflow on the main
fork of the metals repository. This for example can be
<code>git push git@github.com:scalameta/metals.git v1.0.0</code> or if you have the
remote set up:</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">> git remote -v</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">primary	git@github.com:scalameta/metals.git (fetch)</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">primary	git@github.com:scalameta/metals.git (push)</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">> git push primary v1.0.0</span><br></span></code></pre></div></div>
<ul>
<li>
<p>Do not create a release on GitHub just yet. Creating a release on GitHub sends
out a notification to repository watchers, and the release isn't ready for
that yet.</p>
</li>
<li>
<p>Wait for
<a href="https://github.com/scalameta/metals/actions?query=workflow%3ARelease" target=_blank rel="noopener noreferrer">the Github Actions job</a>
to build the binaries and stage them to Sonatype.</p>
</li>
<li>
<p>While waiting for Github Actions, update the milestones:</p>
<ul>
<li><a href=https://github.com/scalameta/metals/milestones target=_blank rel="noopener noreferrer">https://github.com/scalameta/metals/milestones</a></li>
<li>Close the milestone or milestones corresponding to the release. For example,
for a v3.3.0 release, we close both 3.3.0 and 3.2.1 (because we never
released 3.2.1, so all its tickets went straight to 3.3.0).</li>
<li>Create the milestone or milestones corresponding to future releases. For
example, for a v3.3.0 release, we create both v3.3.1 and v3.4.0.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=before-release-announcement>Before release announcement<a href=#before-release-announcement class=hash-link aria-label="Direct link to Before release announcement" title="Direct link to Before release announcement">​</a></h3>
<ul>
<li>
<p>Verify the Sonatype release:</p>
<ul>
<li>Make sure that the release shows up at
<a href=https://oss.sonatype.org/content/repositories/releases/org/scalameta/ target=_blank rel="noopener noreferrer">https://oss.sonatype.org/content/repositories/releases/org/scalameta/</a>.</li>
<li>Run <code>./bin/test-release.sh $VERSION</code> to ensure that all artifacts have
successfully been released. It's important to ensure that this script passes
before announcing the release since it takes a while for all published
artifacts to sync with Maven Central. You might need to update the script if
the list of supported versions changed in the meantime.</li>
<li>To check that the release to Sonatype succeed even if the artifacts are not
yet available on Maven Central run:
<code>./bin/test-release.sh $VERSION -r sonatype:public</code></li>
</ul>
</li>
<li>
<p>Double check if the release starts up and some basic features work.</p>
</li>
<li>
<p>Merge the release notes PR</p>
</li>
<li>
<p>Wait until it's available on <a href=https://scalameta.org/metals/blog/ target=_blank rel="noopener noreferrer">https://scalameta.org/metals/blog/</a></p>
</li>
<li>
<p>Upgrade downstream projects:</p>
<ul>
<li><a href=https://github.com/scalameta/metals-vscode target=_blank rel="noopener noreferrer">https://github.com/scalameta/metals-vscode</a>:<!-- -->
<ul>
<li>generate metals website with <code>sbt docs/run</code></li>
<li>open <code>website/target/docs/editors/vscode.md</code> and copy everything from
"Installation" over to the scalameta/metals-vscode README<!-- -->
<ul>
<li>remove "Using latest SNAPSHOT" section, this table is only up-to-date on
the website</li>
</ul>
</li>
<li>check or update <code>enum</code> values of <code>fallbackScalaVersion</code> property in
<code>package.json</code>. They should be the same as <code>V.supportedScalaVersions</code> in
<code>build.sbt</code></li>
<li>open a PR, feel free to merge after CI is green</li>
<li>open the last generated release draft, tag with a new version and publish
the release. The new version should always be the next minor since patches
are used for prerelease versions, so if the last full release was <code>1.24.0</code>
then the next should be <code>1.25.0</code>. This will start github actions job and
publish the extension to both the Visual Studio Code Marketplace and
openvsx.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=official-release>Official release<a href=#official-release class=hash-link aria-label="Direct link to Official release" title="Direct link to Official release">​</a></h3>
<ul>
<li>
<p>Publish the release on GitHub:</p>
<ul>
<li><a href=https://github.com/scalameta/metals/releases target=_blank rel="noopener noreferrer">https://github.com/scalameta/metals/releases</a></li>
<li>Copy-paste the release from the website blog</li>
<li>In the dropdown, pick the recently pushed tag.</li>
<li>In the release title, say <code>Metals vX.Y.Z</code>.</li>
<li>Once the VS Code extension has been updated on the Marketplace, click
"Publish release".</li>
</ul>
</li>
<li>
<p>Announce the new release with the link to the release notes:</p>
<ul>
<li>on <a href=https://discord.com/invite/RFpSVth target=_blank rel="noopener noreferrer">Discord</a></li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=post-release>Post release<a href=#post-release class=hash-link aria-label="Direct link to Post release" title="Direct link to Post release">​</a></h3>
<p>See if any docs need to be updated due to the changes in the last PR. This could
potentially be done also before the release, but might be easier as a follow up
afterwards without the release pressure.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=sanity-check>Sanity check<a href=#sanity-check class=hash-link aria-label="Direct link to Sanity check" title="Direct link to Sanity check">​</a></h2>
<ul class="contains-task-list containsTaskList_mC6p">
<li class=task-list-item><input type=checkbox disabled> <!-- -->draft release notes and create with PR with them</li>
<li class=task-list-item><input type=checkbox disabled> <!-- -->bump Metals version</li>
<li class=task-list-item><input type=checkbox disabled> <!-- -->push a tag to the repository</li>
<li class=task-list-item><input type=checkbox disabled> <!-- -->merge PR with release notes</li>
<li class=task-list-item><input type=checkbox disabled> <!-- -->check if artifacts are published to the sonatype</li>
<li class=task-list-item><input type=checkbox disabled> <!-- -->update downstream projects like metals-vscode</li>
<li class=task-list-item><input type=checkbox disabled> <!-- -->do release on GitHub</li>
<li class=task-list-item><input type=checkbox disabled> <!-- -->announce it</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=add-new-scala-version-support-to-the-existing-release>Add new Scala version support to the existing release<a href=#add-new-scala-version-support-to-the-existing-release class=hash-link aria-label="Direct link to Add new Scala version support to the existing release" title="Direct link to Add new Scala version support to the existing release">​</a></h2>
<ul>
<li>
<p>If it's a Scala2 you need to release semanticdb plugin for it first.</p>
<ul>
<li>Find out which scalameta version the existing release uses</li>
<li>In scalameta project:<!-- -->
<ul>
<li>checkout on the tag for this version</li>
<li>apply required changes for supporting new Scala2 compiler</li>
<li>create and push tag with the following name:
<code>semanticdb_v${existing-scalameta-version}_${scala-version}</code> Notice this
tag should include
<a href=https://github.com/scalameta/scalameta/pull/2562/commits/1dfc99677659f5a9919c0dc9166547a0b332d35c target=_blank rel="noopener noreferrer">these changes in <code>release.yml</code></a></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Release mtags artifact. To do this push a tag to the metals repository in a form of:</p>
<p><code>v1.3.5@2.13.16@mtags/publishSigned@mtagsShared/publishSigned</code></p>
<p>This will trigger a release workflow that will publish the mtags artifact to
Sonatype. Replace <code>v1.3.5</code> and <code>2.13.16</code> with the version of the release you are making.</p>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/scalameta/metals/edit/main/docs/contributors/releasing.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/metals/docs/contributors/updating-website><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Contributing to the website</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/metals/docs/integrations/new-build-tool><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Integrating a new build tool</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#metals class="table-of-contents__link toc-highlight">Metals</a><ul><li><a href=#tag-the-release class="table-of-contents__link toc-highlight">Tag the release</a><li><a href=#draft-the-release-notes class="table-of-contents__link toc-highlight">Draft the release notes</a><li><a href=#update-metals-version class="table-of-contents__link toc-highlight">Update Metals version</a><li><a href=#open-a-pr-with-release-notes class="table-of-contents__link toc-highlight">Open a PR with release notes</a><li><a href=#start-the-release-process class="table-of-contents__link toc-highlight">Start the release process:</a><li><a href=#before-release-announcement class="table-of-contents__link toc-highlight">Before release announcement</a><li><a href=#official-release class="table-of-contents__link toc-highlight">Official release</a><li><a href=#post-release class="table-of-contents__link toc-highlight">Post release</a></ul><li><a href=#sanity-check class="table-of-contents__link toc-highlight">Sanity check</a><li><a href=#add-new-scala-version-support-to-the-existing-release class="table-of-contents__link toc-highlight">Add new Scala version support to the existing release</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Overview</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/metals/docs/>Overview</a><li class=footer__item><a class=footer__link-item href=/metals/docs/build-tools/overview>Build Tools</a><li class=footer__item><a class=footer__link-item href=/metals/docs/contributors/project-goals>Project Goals</a><li class=footer__item><a class=footer__link-item href=/metals/docs/contributors/getting-started>Contributing</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Social</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/scalameta/metals target=_blank>
                      <img src="https://img.shields.io/github/stars/scalameta/metals.svg?color=%23087e8b&label=stars&logo=github&style=social">
                    </a><li class=footer__item><a href=https://discord.gg/RFpSVth target=_blank>
                      <img src="https://img.shields.io/discord/632642981228314653?logo=discord&style=social">
                    </a><li class=footer__item><a href=https://twitter.com/scalameta target=_blank>
                      <img src="https://img.shields.io/twitter/follow/scalameta.svg?logo=twitter&style=social">
                    </a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/metals/img/scalameta-logo.png class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src=/metals/img/scalameta-logo.png class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class=footer__copyright>Copyright © 2025 Metals</div></div></div></footer></div>