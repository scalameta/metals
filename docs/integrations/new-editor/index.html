<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-integrations/new-editor" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Integrating a new editor | Metals</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:image content=http://scalameta.org/metals/img/scalameta-logo.png /><meta data-rh=true name=twitter:image content=http://scalameta.org/metals/img/scalameta-logo.png /><meta data-rh=true property=og:url content=http://scalameta.org/metals/docs/integrations/new-editor /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="Integrating a new editor | Metals"/><meta data-rh=true name=description content="Metals is a language server implemented in Scala that communicates with a single"/><meta data-rh=true property=og:description content="Metals is a language server implemented in Scala that communicates with a single"/><link data-rh=true rel=icon href=/metals/img/favicon.ico /><link data-rh=true rel=canonical href=http://scalameta.org/metals/docs/integrations/new-editor /><link data-rh=true rel=alternate href=http://scalameta.org/metals/docs/integrations/new-editor hreflang=en /><link data-rh=true rel=alternate href=http://scalameta.org/metals/docs/integrations/new-editor hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"http://scalameta.org/metals/docs/integrations/new-editor","name":"Integrating a new editor","position":1}]}</script><link rel=alternate type=application/rss+xml href=/metals/blog/rss.xml title="Metals RSS Feed"><link rel=alternate type=application/atom+xml href=/metals/blog/atom.xml title="Metals Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140140828-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-140140828-1",{})</script><link rel=stylesheet href=/metals/assets/css/styles.0a68ebe2.css /><script src=/metals/assets/js/runtime~main.869527d0.js defer></script><script src=/metals/assets/js/main.2be8a00b.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/metals/img/scalameta-logo.png /><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/metals/><div class=navbar__logo><img src=/metals/img/scalameta-logo.png alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/metals/img/scalameta-logo.png alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">Metals</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/metals/docs/>Docs</a><a class="navbar__item navbar__link" href=/metals/blog/>Blog</a><a href=https://github.com/scalameta/metals target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class="navbar__search searchBarContainer_NW3z" dir=ltr><input placeholder=Search aria-label=Search class="navbar__search-input searchInput_YFbd" value="" /><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/><span title="Text Editors" class=categoryLinkLabel_W154>Text Editors</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/features/codeactions><span title=Features class=categoryLinkLabel_W154>Features</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/build-tools/overview><span title="Build Tools" class=categoryLinkLabel_W154>Build Tools</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/contributors/project-goals><span title=Contributing class=categoryLinkLabel_W154>Contributing</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/metals/docs/integrations/new-build-tool><span title="Integrating with Metals" class=categoryLinkLabel_W154>Integrating with Metals</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/integrations/new-build-tool><span title="Integrating a new build tool" class=linkLabel_WmDU>Integrating a new build tool</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/metals/docs/integrations/new-editor><span title="Integrating a new editor" class=linkLabel_WmDU>Integrating a new editor</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/integrations/test-explorer><span title="Test Explorer" class=linkLabel_WmDU>Test Explorer</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/integrations/tree-view-protocol><span title="Tree View Protocol" class=linkLabel_WmDU>Tree View Protocol</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/integrations/debug-adapter-protocol><span title="Running and debugging" class=linkLabel_WmDU>Running and debugging</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/troubleshooting/proxy><span title=Troubleshooting class=categoryLinkLabel_W154>Troubleshooting</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/acknowledgements/development><span title=Acknowledgements class=categoryLinkLabel_W154>Acknowledgements</span></a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/metals/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Integrating with Metals</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Integrating a new editor</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Integrating a new editor</h1></header><p>Metals is a language server implemented in Scala that communicates with a single
client over <a href=https://www.jsonrpc.org/specification target=_blank rel="noopener noreferrer" class="">JSON-RPC</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=requirements>Requirements<a href=#requirements class=hash-link aria-label="Direct link to Requirements" title="Direct link to Requirements" translate=no>â€‹</a></h2>
<p><strong>Java 11, 17 provided by OpenJDK or Oracle</strong>. Eclipse OpenJ9 is not
supported, please make sure the <code>JAVA_HOME</code> environment variable
points to a valid Java 11 or 17 installation.</p>
<p><strong>macOS, Linux or Windows</strong>. Metals is developed on many operating systems and
every PR is tested on Ubuntu, Windows and MacOS.</p>
<p><strong>Scala 2.13, 2.12, 2.11 and Scala 3</strong>. Metals supports these Scala versions:</p>
<ul>
<li class="">
<p><strong>Scala 2.11</strong>:
2.11.12</p>
</li>
<li class="">
<p><strong>Scala 2.12</strong>:
2.12.17, 2.12.18, 2.12.19, 2.12.20</p>
</li>
<li class="">
<p><strong>Scala 2.13</strong>:
2.13.15, 2.13.16, 2.13.17, 2.13.18</p>
</li>
</ul>
<p>Scala 3 versions from 3.3.4 are automatically supported by Metals.</p>
<p>Any older Scala versions will no longer get bugfixes, but should still
work properly with newest Metals.</p>
<p>Note that 2.11.x support is deprecated and it will be removed in future releases.
It's recommended to upgrade to Scala 2.12 or Scala 2.13</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=starting-the-server>Starting the server<a href=#starting-the-server class=hash-link aria-label="Direct link to Starting the server" title="Direct link to Starting the server" translate=no>â€‹</a></h2>
<p>Use <a href=https://github.com/coursier/coursier target=_blank rel="noopener noreferrer" class="">Coursier</a> to obtain the JVM classpath
of Metals:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">coursier bootstrap org.scalameta:metals_2.13:1.6.4 -o metals -f</span><br/></span></code></pre></div></div>
<p>(optional) It's recommended to enable JVM string de-duplication and provide a
generous stack size and memory options.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">coursier bootstrap \</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  --java-opt -XX:+UseG1GC \</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  --java-opt -XX:+UseStringDeduplication  \</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  --java-opt -Xss4m \</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  --java-opt -Xms100m \</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  org.scalameta:metals_2.13:1.6.4 -o metals -f</span><br/></span></code></pre></div></div>
<p>See <a href=#metals-server-properties class="">Metals server properties</a> for additional system
properties that are supported by the server.</p>
<p>JSON-RPC communication takes place over standard input/output so the Metals
server doesn't print anything to the console when it starts. Instead, before
establishing a connection with the client, Metals logs notifications to a global
directory:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain"># macOS</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">~/Library/Caches/org.scalameta.metals/global.log</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># Linux</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">$XDG_CACHE_HOME/org.scalameta.metals/global.log</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># Linux (alternative)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">$HOME/.cache/org.scalameta.metals/global.log</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># Windows</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">{FOLDERID_LocalApplicationData}\.cache\org.scalameta.metals\global.log</span><br/></span></code></pre></div></div>
<p>After establishing a connection with the client, Metals redirects logs to the
<code>.metals/metals.log</code> file in the LSP workspace root directory.</p>
<p>Metals supports two kinds of JSON-RPC endpoints:</p>
<ul>
<li class=""><a href=#language-server-protocol class="">Language Server Protocol</a>: for the main
functionality of the server, including editor text synchronization and
semantic features such as goto definition.</li>
<li class=""><a href=#metals-lsp-extensions class="">Metals extensions</a>: for additional functionality that
is missing in LSP but improves the user experience.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=configuring-the-server>Configuring the server<a href=#configuring-the-server class=hash-link aria-label="Direct link to Configuring the server" title="Direct link to Configuring the server" translate=no>â€‹</a></h2>
<p>Over time the recommended way to configure Metals has shifted from heavily
relying on the <a href=#metals-server-properties class="">Metals server properties</a> to being
fully able to be configured via <code>InitializationOptions</code> which are exchanged
during the
<a href=https://microsoft.github.io/language-server-protocol/specification#initialize target=_blank rel="noopener noreferrer" class=""><code>initialize</code></a>
process. While Metals will still work being fully configured by server
properties, we strongly recommend that instead you rely on the
<code>InitializationOptions</code> which are thoroughly covered below in the
<a href=#initialize class=""><code>initialize</code></a> section.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=language-server-protocol>Language Server Protocol<a href=#language-server-protocol class=hash-link aria-label="Direct link to Language Server Protocol" title="Direct link to Language Server Protocol" translate=no>â€‹</a></h2>
<p>Consult the
<a href=https://microsoft.github.io/language-server-protocol/specification target=_blank rel="noopener noreferrer" class="">LSP specification</a>
to learn more about how LSP works. Metals uses the following endpoints from the
specification.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=initialize><code>initialize</code><a href=#initialize class=hash-link aria-label="Direct link to initialize" title="Direct link to initialize" translate=no>â€‹</a></h3>
<ul>
<li class="">the <code>rootUri</code> field is used to configure Metals for that workspace directory.
The working directory for where server is started has no significant meaning.</li>
<li class="">at this point, Metals uses only full text synchronization. In the future, it
will be able to use incremental text synchronization.</li>
<li class=""><code>didChangeWatchedFiles</code> client capability is used to determine whether to
register file watchers.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=initializationoptions><code>InitializationOptions</code><a href=#initializationoptions class=hash-link aria-label="Direct link to initializationoptions" title="Direct link to initializationoptions" translate=no>â€‹</a></h4>
<p>During <code>initialize</code> we also have the ability to pass in <code>InitializationOptions</code>.
This is the primary way to configure Metals. In Metals we have a few different
"providers". Some are LSP extensions, such as <code>metals/inputBox</code> which you read
about below, and others used to be server properties that have been migrated to
<code>InitializationOptions</code>. M</p>
<p>The currently available settings for <code>InitializationOptions</code> are listed below.</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">InitializationOptions</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      compilerOptions</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        completionCommand</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isCompletionItemDetailEnabled</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isCompletionItemDocumentationEnabled</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isCompletionItemResolve</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isHoverDocumentationEnabled</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        isSignatureHelpDocumentationEnabled</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        overrideDefFormat</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"ascii"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"unicode"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        parameterHintsCommand</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        snippetAutoIndent</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      debuggingProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      didFocusProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      doctorProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"json"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"html"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      executeClientCommandProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      globSyntax</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"vscode"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"uri"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      icons</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"vscode"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"octicons"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"atom"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"unicode"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      inputBoxProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      isVirtualDocumentSupported</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      isExitOnShutdown</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      isHttpEnabled</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      openFilesOnRenameProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      quickPickProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      renameFileThreshold</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      statusBarProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"on"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"off"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"log-message"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"show-message"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      treeViewProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      testExplorerProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      openNewWindowProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      copyWorksheetOutputProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      commandInHtmlFormat</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"vscode"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"sublime"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      doctorVisibilityProvider</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br/></span></code></pre></div></div>
<p>You can also always check these in the
<a href=https://github.com/scalameta/metals/blob/main/metals/src/main/scala/scala/meta/internal/metals/InitializationOptions.scala target=_blank rel="noopener noreferrer" class=""><code>InitializationOptions.scala</code></a>
file where you'll find all of the options and descriptions. Alternatively you can check out the typescript equivalent - <a href=https://github.com/scalameta/metals-languageclient/blob/main/src/interfaces/MetalsInitializationOptions.ts target=_blank rel="noopener noreferrer" class=""><code>MetalsInitializationOptions.ts</code></a></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=compileroptionscompletioncommand><code>compilerOptions.completionCommand</code><a href=#compileroptionscompletioncommand class=hash-link aria-label="Direct link to compileroptionscompletioncommand" title="Direct link to compileroptionscompletioncommand" translate=no>â€‹</a></h5>
<p>An optional string value for a command identifier to trigger completion
(<code>textDocument/signatureHelp</code>) in the editor.</p>
<p>Possible values:</p>
<ul>
<li class=""><code>"editor.action.triggerSuggest"</code>: currently used by Visual Studio Code and
coc.nvim.</li>
<li class="">empty: for all other editors.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=compileroptionsiscompletionitemdetailenabled><code>compilerOptions.isCompletionItemDetailEnabled</code><a href=#compileroptionsiscompletionitemdetailenabled class=hash-link aria-label="Direct link to compileroptionsiscompletionitemdetailenabled" title="Direct link to compileroptionsiscompletionitemdetailenabled" translate=no>â€‹</a></h5>
<p>Boolean value signifying whether or not the <code>CompletionItem.detail</code> field should
be populated.</p>
<p>Default value: <code>true</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=compileroptionsiscompletionitemdocumentationenabled><code>compilerOptions.isCompletionItemDocumentationEnabled</code><a href=#compileroptionsiscompletionitemdocumentationenabled class=hash-link aria-label="Direct link to compileroptionsiscompletionitemdocumentationenabled" title="Direct link to compileroptionsiscompletionitemdocumentationenabled" translate=no>â€‹</a></h5>
<p>Boolean value signifying whether or not the <code>CompletionItem.documentation</code> field
should be populated.</p>
<p>Default value: <code>true</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=compileroptionsiscompletionitemresolve><code>compilerOptions.isCompletionItemResolve</code><a href=#compileroptionsiscompletionitemresolve class=hash-link aria-label="Direct link to compileroptionsiscompletionitemresolve" title="Direct link to compileroptionsiscompletionitemresolve" translate=no>â€‹</a></h5>
<p>Boolean value signifying whether the client wants Metals to handle the
<code>completionItem/resolve</code> request.</p>
<p><a href=https://microsoft.github.io/language-server-protocol/specification#completionItem_resolve target=_blank rel="noopener noreferrer" class="">https://microsoft.github.io/language-server-protocol/specification#completionItem_resolve</a></p>
<p>Default value: <code>true</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=compileroptionsishoverdocumentationenabled><code>compilerOptions.isHoverDocumentationEnabled</code><a href=#compileroptionsishoverdocumentationenabled class=hash-link aria-label="Direct link to compileroptionsishoverdocumentationenabled" title="Direct link to compileroptionsishoverdocumentationenabled" translate=no>â€‹</a></h5>
<p>Boolean value signifying whether to include docstrings in a <code>textDocument/hover</code>
request.</p>
<p>Default value: <code>true</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=compileroptionsissignaturehelpdocumentationenabled><code>compilerOptions.isSignatureHelpDocumentationEnabled</code><a href=#compileroptionsissignaturehelpdocumentationenabled class=hash-link aria-label="Direct link to compileroptionsissignaturehelpdocumentationenabled" title="Direct link to compileroptionsissignaturehelpdocumentationenabled" translate=no>â€‹</a></h5>
<p>Boolean value signifying whether or not the <code>SignatureHelp.documentation</code> field
should be populated.</p>
<p>Default value: <code>true</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=compileroptionsoverridedefformat><code>compilerOptions.overrideDefFormat</code><a href=#compileroptionsoverridedefformat class=hash-link aria-label="Direct link to compileroptionsoverridedefformat" title="Direct link to compileroptionsoverridedefformat" translate=no>â€‹</a></h5>
<p>Whether or not the presentation compiler overrides should show unicode icon or
just be in ascii format.</p>
<p>Possible Values:</p>
<ul>
<li class=""><code>"ascii"</code> (default)</li>
<li class=""><code>unicode</code> show the "ðŸ”¼" icon in overrides.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=compileroptionsparameterhintscommand><code>compilerOptions.parameterHintsCommand</code><a href=#compileroptionsparameterhintscommand class=hash-link aria-label="Direct link to compileroptionsparameterhintscommand" title="Direct link to compileroptionsparameterhintscommand" translate=no>â€‹</a></h5>
<p>An optional string value for a command identifier to trigger parameter hints
(<code>textDocument/signatureHelp</code>) in the editor. Metals uses this setting to
populate <code>CompletionItem.command</code> for completion items that move the cursor
inside an argument list. For example, when completing <code>"".stripSu@@</code> into
<code>"".stripSuffix(@@)</code>, Metals will automatically trigger parameter hints if this
setting is provided by the editor.</p>
<p>Possible values:</p>
<ul>
<li class=""><code>"editor.action.triggerParameterHints"</code>: Used by Visual Studio Code and
coc.nvim.</li>
<li class="">empty: for all other editors.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=compileroptionssnippetautoindent><code>compilerOptions.snippetAutoIndent</code><a href=#compileroptionssnippetautoindent class=hash-link aria-label="Direct link to compileroptionssnippetautoindent" title="Direct link to compileroptionssnippetautoindent" translate=no>â€‹</a></h5>
<p>Certain editors will automatically insert indentation equal to that of the
reference line that the operation started on. This is relevant in the case of
multiline textEdits such as the "implement all methods" completion.</p>
<p>Possible values:</p>
<ul>
<li class=""><code>on</code>: (default): the client automatically adds in the indentation. This is the
case for VS Code, Sublime, and coc.nvim.</li>
<li class=""><code>off</code>: the client does not add any indentation when receiving a multi-line
textEdit</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=copyworksheetoutputprovider><code>copyWorksheetOutputProvider</code><a href=#copyworksheetoutputprovider class=hash-link aria-label="Direct link to copyworksheetoutputprovider" title="Direct link to copyworksheetoutputprovider" translate=no>â€‹</a></h5>
<p>Boolean value signifying whether or not the client supports running
CopyWorksheetOutput server command and copying its results into the local
buffer.</p>
<p>Default value: <code>false</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=debuggingprovider><code>debuggingProvider</code><a href=#debuggingprovider class=hash-link aria-label="Direct link to debuggingprovider" title="Direct link to debuggingprovider" translate=no>â€‹</a></h5>
<p>Boolean value to signify that the client supports the
<a class="" href=/metals/docs/integrations/debug-adapter-protocol>Debug Adapter Protocol</a>.</p>
<p>Default value: <code>false</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=didfocusprovider><code>didFocusProvider</code><a href=#didfocusprovider class=hash-link aria-label="Direct link to didfocusprovider" title="Direct link to didfocusprovider" translate=no>â€‹</a></h5>
<p>Boolean value to signify that the client supports the
<a href=#metalsdidfocustextdocument class=""><code>metals/didFocusTextDocument</code></a> extension.</p>
<p>Default value: <code>false</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=disablecoloroutput><code>disableColorOutput</code><a href=#disablecoloroutput class=hash-link aria-label="Direct link to disablecoloroutput" title="Direct link to disablecoloroutput" translate=no>â€‹</a></h5>
<p>Useful for certain DAP clients that are unable to handle color codes for output.
This will remove the color codes coming from whatever DAP server is currently
being used.</p>
<p>Default value: <code>false</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=doctorprovider><code>doctorProvider</code><a href=#doctorprovider class=hash-link aria-label="Direct link to doctorprovider" title="Direct link to doctorprovider" translate=no>â€‹</a></h5>
<p>Format that you'd like Doctor to return information in.</p>
<p>Possible values:</p>
<ul>
<li class=""><code>html</code>: (default): Metals will return html that can be rendered directly in
the browser or web view</li>
<li class=""><code>json</code>: json representation of the information returned by Doctor. See the
json format <a href=#run-doctor class="">here</a>.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=executeclientcommandprovider><code>executeClientCommandProvider</code><a href=#executeclientcommandprovider class=hash-link aria-label="Direct link to executeclientcommandprovider" title="Direct link to executeclientcommandprovider" translate=no>â€‹</a></h5>
<p>Possible values:</p>
<ul>
<li class=""><code>off</code> (default): the <code>metals/executeClientCommand</code> notification is not
supported. Client commands can still be handled by enabling
<code>-Dmetals.http=on</code>.</li>
<li class=""><code>on</code>: the <code>metals/executeClientCommand</code> notification is supported and all
<a href=#metals-client-commands class="">Metals client commands</a> are handled.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=globsyntax><code>globSyntax</code><a href=#globsyntax class=hash-link aria-label="Direct link to globsyntax" title="Direct link to globsyntax" translate=no>â€‹</a></h5>
<p>Controls the glob syntax for registering file watchers on absolute directories.
Registration happens via <code>client/registerCapability</code> for the
<a href=#workspacedidchangewatchedfiles class=""><code>workspace/didChangeWatchedFiles</code></a> method, if
the editor client supports it.</p>
<p>Possible values:</p>
<ul>
<li class=""><code>uri</code> (default): URI-encoded file paths, with forward slash <code>/</code> for file
separators regardless of the operating system. Includes <code>file://</code> prefix.</li>
<li class=""><code>vscode</code>: use regular Path.toString for the absolute directory parts (<code>/</code> on
macOS+Linux and <code>\</code> on Windows) and forward slashes <code>/</code> for relative parts.
For example, <code>C:\Users\IEUser\workspace\project/*.{scala,sbt,properties}</code>.
This mode is used by the VS Code client.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=icons><code>icons</code><a href=#icons class=hash-link aria-label="Direct link to icons" title="Direct link to icons" translate=no>â€‹</a></h5>
<p>Possible values:</p>
<ul>
<li class=""><code>none</code> (default): don't display icons in messages.</li>
<li class=""><code>vscode</code>: use <a href=https://octicons.github.com target=_blank rel="noopener noreferrer" class="">Octicons</a> such as <code>$(rocket)</code> for
status bar messages, as supported by th
<a href=https://code.visualstudio.com/docs/extensionAPI/vscode-api#StatusBarItem target=_blank rel="noopener noreferrer" class="">VS Code status bar</a>.</li>
<li class=""><code>unicode</code>: use unicode emojis like ðŸš€ for status bar messages.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=inputboxprovider><code>inputBoxProvider</code><a href=#inputboxprovider class=hash-link aria-label="Direct link to inputboxprovider" title="Direct link to inputboxprovider" translate=no>â€‹</a></h5>
<p>Possible values:</p>
<ul>
<li class=""><code>off</code> (default): the <code>metals/inputBox</code> request is not supported. In this case,
Metals tries to fall back to <code>window/showMessageRequest</code> when possible.</li>
<li class=""><code>on</code>: the <code>metals/inputBox</code> request is fully supported.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=isexitonshutdown><code>isExitOnShutdown</code><a href=#isexitonshutdown class=hash-link aria-label="Direct link to isexitonshutdown" title="Direct link to isexitonshutdown" translate=no>â€‹</a></h5>
<p>Possible values:</p>
<ul>
<li class=""><code>off</code> (default): run <code>System.exit</code> only on the <code>exit</code> notification, as
required by the LSP specification.</li>
<li class=""><code>on</code>: run <code>System.exit</code> after the <code>shutdown</code> request, going against the LSP
specification. This option is enabled by default for Sublime Text to prevent
the Metals process from staying alive after Sublime Text has quit with
<code>Cmd+Q</code>. It's not possible for Sublime Text packages to register a callback
when the editor has quit. See
<a href=https://github.com/tomv564/LSP/issues/410 target=_blank rel="noopener noreferrer" class="">LSP#410</a> for more details.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=ishttpenabled><code>isHttpEnabled</code><a href=#ishttpenabled class=hash-link aria-label="Direct link to ishttpenabled" title="Direct link to ishttpenabled" translate=no>â€‹</a></h5>
<p>Possible values:</p>
<ul>
<li class=""><code>off</code> (default): don't start a server with the Metals HTTP client.</li>
<li class=""><code>on</code>: start a server with the [Metals HTTP client] to interact with the server
through a basic web UI. This option is needed for editor clients that don't
support necessary requests such as <code>window/showMessageRequest</code>.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=openfilesonrenameprovider><code>openFilesOnRenameProvider</code><a href=#openfilesonrenameprovider class=hash-link aria-label="Direct link to openfilesonrenameprovider" title="Direct link to openfilesonrenameprovider" translate=no>â€‹</a></h5>
<p>Boolean value to signify whether or not the client opens files when doing a
rename.</p>
<p>Default: <code>false</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=opennewwindowprovider><code>openNewWindowProvider</code><a href=#opennewwindowprovider class=hash-link aria-label="Direct link to opennewwindowprovider" title="Direct link to opennewwindowprovider" translate=no>â€‹</a></h5>
<p>Boolean value signifying whether or not the client supports opening up a new
window with the newly created project. Used in conjunction with the New Project
Provider.</p>
<p>Default value: <code>false</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=quickpickprovider><code>quickPickProvider</code><a href=#quickpickprovider class=hash-link aria-label="Direct link to quickpickprovider" title="Direct link to quickpickprovider" translate=no>â€‹</a></h5>
<p>Boolean value to signify whether or not the client implements the
<a href=#metalsquickpick class=""><code>metals/quickPick</code></a> extensions.</p>
<p>Default value: <code>false</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=renamefilethreshold><code>renameFileThreshold</code><a href=#renamefilethreshold class=hash-link aria-label="Direct link to renamefilethreshold" title="Direct link to renamefilethreshold" translate=no>â€‹</a></h5>
<p>The max amount of files that you would like the client to open if the client is
a <code>openFilesOnRenameProvider</code>.</p>
<p>Default value: <code>300</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=statusbarprovider><code>statusBarProvider</code><a href=#statusbarprovider class=hash-link aria-label="Direct link to statusbarprovider" title="Direct link to statusbarprovider" translate=no>â€‹</a></h5>
<p>Possible values:</p>
<ul>
<li class=""><code>off</code> (default): the <code>metals/status</code> notification is not supported.</li>
<li class=""><code>on</code>: the <code>metals/status</code> notification is supported.</li>
<li class=""><code>log-message</code>: translate <code>metals/status</code> notifications to <code>window/logMessage</code>
notifications.</li>
<li class=""><code>show-message</code>: translate <code>metals/status</code> notifications to
<code>window/showMessage</code> show notifications however the client displays messages
to the user.</li>
</ul>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=treeviewprovider><code>treeViewProvider</code><a href=#treeviewprovider class=hash-link aria-label="Direct link to treeviewprovider" title="Direct link to treeviewprovider" translate=no>â€‹</a></h5>
<p>Boolean value signifying whether or not the client supports the
<a class="" href=/metals/docs/integrations/tree-view-protocol>Tree View Protocol</a>.</p>
<p>Default value: <code>false</code></p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=testexplorerprovider><code>testExplorerProvider</code><a href=#testexplorerprovider class=hash-link aria-label="Direct link to testexplorerprovider" title="Direct link to testexplorerprovider" translate=no>â€‹</a></h5>
<p>Boolean value to signify whether or not the client implements the Test Explorer.</p>
<h5 class="anchor anchorTargetStickyNavbar_Vzrq" id=doctorvisibilityprovider><code>doctorVisibilityProvider</code><a href=#doctorvisibilityprovider class=hash-link aria-label="Direct link to doctorvisibilityprovider" title="Direct link to doctorvisibilityprovider" translate=no>â€‹</a></h5>
<p>Boolean value to signify whether or not the client implements the <code>"metals/doctorVisibilityDidChange"</code>.
This JSON notification is used to keep track of doctor state. If client implements this provider then Metals server
will send updates to the doctor view.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=experimental-capabilities>Experimental Capabilities<a href=#experimental-capabilities class=hash-link aria-label="Direct link to Experimental Capabilities" title="Direct link to Experimental Capabilities" translate=no>â€‹</a></h4>
<p>All of the features that used to be set with <code>experimental</code> can now all be set
via <code>InitializationOptions</code>. This is the preferred way to configure Metals.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=initialized><code>initialized</code><a href=#initialized class=hash-link aria-label="Direct link to initialized" title="Direct link to initialized" translate=no>â€‹</a></h3>
<p>Triggers build server initialization and workspace indexing. The <code>initialized</code>
notification is critical for any Metals functionality to work.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=shutdown><code>shutdown</code><a href=#shutdown class=hash-link aria-label="Direct link to shutdown" title="Direct link to shutdown" translate=no>â€‹</a></h3>
<p>It is very important that the client sends a shutdown request in order for
Metals to clean up open resources.</p>
<ul>
<li class="">persists incremental compilation analysis files. Without a <code>shutdown</code> hook,
Metals will need to re-compile the entire workspace on next startup.</li>
<li class="">stops ongoing processes such as <code>sbt bloopInstall</code></li>
<li class="">closes database connections</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=exit><code>exit</code><a href=#exit class=hash-link aria-label="Direct link to exit" title="Direct link to exit" translate=no>â€‹</a></h3>
<p>Kills the process using <code>System.exit</code>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=clientregistercapability><code>client/registerCapability</code><a href=#clientregistercapability class=hash-link aria-label="Direct link to clientregistercapability" title="Direct link to clientregistercapability" translate=no>â€‹</a></h3>
<p>If the client declares the <code>workspace.didChangeWatchedFiles</code> capability during
the <code>initialize</code> request, then Metals follows up with a
<code>client/registerCapability</code> request to register file watchers for certain glob
patterns.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=textdocumentdidopen><code>textDocument/didOpen</code><a href=#textdocumentdidopen class=hash-link aria-label="Direct link to textdocumentdidopen" title="Direct link to textdocumentdidopen" translate=no>â€‹</a></h3>
<p>Triggers compilation in the build server for the build target containing the
opened document. Related, see <code>metals/didFocusTextDocument</code>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=textdocumentdidchange><code>textDocument/didChange</code><a href=#textdocumentdidchange class=hash-link aria-label="Direct link to textdocumentdidchange" title="Direct link to textdocumentdidchange" translate=no>â€‹</a></h3>
<p>Required to know the text contents of the current unsaved buffer.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=textdocumentdidclose><code>textDocument/didClose</code><a href=#textdocumentdidclose class=hash-link aria-label="Direct link to textdocumentdidclose" title="Direct link to textdocumentdidclose" translate=no>â€‹</a></h3>
<p>Cleans up resources.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=textdocumentdidsave><code>textDocument/didSave</code><a href=#textdocumentdidsave class=hash-link aria-label="Direct link to textdocumentdidsave" title="Direct link to textdocumentdidsave" translate=no>â€‹</a></h3>
<p>Triggers compilation in the build server and analyses if the build needs to be
re-imported.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=textdocumentpublishdiagnostics><code>textDocument/publishDiagnostics</code><a href=#textdocumentpublishdiagnostics class=hash-link aria-label="Direct link to textdocumentpublishdiagnostics" title="Direct link to textdocumentpublishdiagnostics" translate=no>â€‹</a></h3>
<p>Metals forwards diagnostics from the build server to the editor client.
Additionally, Metals publishes <code>Information</code> diagnostics for unexpected
compilation errors when navigating external library sources.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=textdocumentdefinition><code>textDocument/definition</code><a href=#textdocumentdefinition class=hash-link aria-label="Direct link to textdocumentdefinition" title="Direct link to textdocumentdefinition" translate=no>â€‹</a></h3>
<p>Metals supports goto definition for workspace sources in addition to external
library sources.</p>
<ul>
<li class="">Library sources live under the directory <code>.metals/readonly</code> and they are
marked as read-only to prevent the user from editing them.</li>
<li class="">The destination location can either be a Scala or Java source file. It is
recommended to have a Java language server installed to navigate Java sources.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=textdocumentreferences><code>textDocument/references</code><a href=#textdocumentreferences class=hash-link aria-label="Direct link to textdocumentreferences" title="Direct link to textdocumentreferences" translate=no>â€‹</a></h3>
<p>Metals finds symbol references for workspace sources but not external library
dependencies.</p>
<p>LSP does not support streaming references so when project sources have not been
compiled at the point of a request, Metals returns immediately with potentially
incomplete results and triggers a background cascade compilation to find new
symbol references. If new symbol references are discovered after the background
compilation completes, Metals sends a notification via <code>metals/status</code> and
<code>window/logMessage</code> asking the user to run "find references" again.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=textdocumentdocumentsymbol><code>textDocument/documentSymbol</code><a href=#textdocumentdocumentsymbol class=hash-link aria-label="Direct link to textdocumentdocumentsymbol" title="Direct link to textdocumentdocumentsymbol" translate=no>â€‹</a></h3>
<p>Returns <code>DocumentSymbol[]</code> if the client declares support for hierarchical
document symbol or <code>SymbolInformation[]</code> otherwise.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=textdocumentformatting><code>textDocument/formatting</code><a href=#textdocumentformatting class=hash-link aria-label="Direct link to textdocumentformatting" title="Direct link to textdocumentformatting" translate=no>â€‹</a></h3>
<p>Formats the sources with the <a href=https://scalameta.org/scalafmt/ target=_blank rel="noopener noreferrer" class="">Scalafmt</a> version
that is declared in <code>.scalafmt.conf</code>.</p>
<ul>
<li class="">when <code>.scalafmt.conf</code> is missing, Metals sends a <code>window/showMessageRequest</code>
to create the file.</li>
<li class="">when <code>.scalafmt.conf</code> exists but doesn't declare a <code>version</code> setting, Metals
sends a <code>metals/inputBox</code> when supported (with fallback to
<code>window/showMessageRequest</code> when unsupported) to prepend <code>version=$VERSION</code> to
the <code>.scalafmt.conf</code> file.</li>
<li class="">the first format request is usually slow because Metals needs to download
Scalafmt artifacts from Maven Central. While the download happens, Metals adds
a message in the status bar via <code>metals/status</code> and detailed download progress
information is logged to <code>.metals/metals.log</code>.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=textdocumenthover><code>textDocument/hover</code><a href=#textdocumenthover class=hash-link aria-label="Direct link to textdocumenthover" title="Direct link to textdocumenthover" translate=no>â€‹</a></h3>
<p>Returns <code>Hover</code> for specified text document and position - <a href=https://microsoft.github.io/language-server-protocol/specifications/specification-3-17/#textDocument_hover target=_blank rel="noopener noreferrer" class="">lsp spec</a>.</p>
<p>Metals also support an extended version of this method that supports hover for selection range.
The extended stucture of request params is the following:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HoverExtParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  textDocument</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> TextDocumentIdentifier</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/** Either `position` or `range` should be specified */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  position</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> Position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  range</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> Range</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=workspacedidchangewatchedfiles><code>workspace/didChangeWatchedFiles</code><a href=#workspacedidchangewatchedfiles class=hash-link aria-label="Direct link to workspacedidchangewatchedfiles" title="Direct link to workspacedidchangewatchedfiles" translate=no>â€‹</a></h3>
<p>Optional. Metals uses a built-in file watcher for critical functionality such as
Goto Definition so it is OK if an editor does not send
<code>workspace/didChangeWatchedFiles</code> notifications.</p>
<p>Metals listens to <code>workspace/didChangeWatchedFiles</code> notifications from the
editor for nice-to-have but non-critical file watching events. Metals
automatically registers for the following glob patterns if the editor supports
dynamic registration for file watching.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "watchers": [</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/*.sbt"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/pom.xml"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/*.sc"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/*?.gradle"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/*.gradle.kts"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/project/*.{scala,sbt}"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/project/project/*.{scala,sbt}"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/project/build.properties"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/.metals/.reports/bloop/*/*"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/**/.bsp/*.json"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/**/BUILD"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/**/BUILD.bazel"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/WORKSPACE"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/WORKSPACE.bazel"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/**/*.bzl"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "globPattern": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        "left": "file:///to/workspace/*.bazelproject"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  ]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>The editor is responsible for manually watching these file patterns if the
editor does not support dynamic file watching registration but can still send
<code>workspace/didChangeWatchedFiles</code> notifications.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=workspaceexecutecommands><code>workspace/executeCommands</code><a href=#workspaceexecutecommands class=hash-link aria-label="Direct link to workspaceexecutecommands" title="Direct link to workspaceexecutecommands" translate=no>â€‹</a></h3>
<p>Used to trigger a <a href=#metals-server-commands class="">Metals server command</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=workspacedidchangeconfiguration><code>workspace/didChangeConfiguration</code><a href=#workspacedidchangeconfiguration class=hash-link aria-label="Direct link to workspacedidchangeconfiguration" title="Direct link to workspacedidchangeconfiguration" translate=no>â€‹</a></h3>
<p>Used to update <a href=#metals-user-configuration class="">Metals user configuration</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=windowlogmessage><code>window/logMessage</code><a href=#windowlogmessage class=hash-link aria-label="Direct link to windowlogmessage" title="Direct link to windowlogmessage" translate=no>â€‹</a></h3>
<p>Used to log non-critical and non-actionable information. The user is only
expected to use the logs for troubleshooting or finding metrics for how long
certain events take.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=windowshowmessage><code>window/showMessage</code><a href=#windowshowmessage class=hash-link aria-label="Direct link to windowshowmessage" title="Direct link to windowshowmessage" translate=no>â€‹</a></h3>
<p>Used to send critical but non-actionable notifications to the user. For
non-critical notifications, see <code>metals/status</code>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=windowshowmessagerequest><code>window/showMessageRequest</code><a href=#windowshowmessagerequest class=hash-link aria-label="Direct link to windowshowmessagerequest" title="Direct link to windowshowmessagerequest" translate=no>â€‹</a></h3>
<p>Used to send critical and actionable notifications to the user. To notify the
user about long running tasks that can be cancelled.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=metals-server-properties>Metals server properties<a href=#metals-server-properties class=hash-link aria-label="Direct link to Metals server properties" title="Direct link to Metals server properties" translate=no>â€‹</a></h2>
<p>There are various Metals server properties that can be configured through JVM
system properties. A system property is passed to the server like this:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain"># with `java` binary</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">java -Dmetals.statistics=all ...</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># with `coursier bootstrap`</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">coursier bootstrap --java-opt -Dmetals.statistics=all ...</span><br/></span></code></pre></div></div>
<p>Below are the available server properties:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=-dmetalsverbose><code>-Dmetals.verbose</code><a href=#-dmetalsverbose class=hash-link aria-label="Direct link to -dmetalsverbose" title="Direct link to -dmetalsverbose" translate=no>â€‹</a></h3>
<p>Possible values:</p>
<ul>
<li class=""><code>off</code> (default): don't log unnecessary details.</li>
<li class=""><code>on</code>: emit very detailed logs, should only be used when debugging problems.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=-dmetalsstatistics><code>-Dmetals.statistics</code><a href=#-dmetalsstatistics class=hash-link aria-label="Direct link to -dmetalsstatistics" title="Direct link to -dmetalsstatistics" translate=no>â€‹</a></h3>
<p>By default, Metals logs only the most relevant metrics like time it takes to run
sbt and import a workspace. To enable further metrics, update this property
with a comma separated list of the following supported values:</p>
<ul>
<li class=""><code>memory</code>: print memory usage of the navigation index after build import.</li>
<li class=""><code>definition</code>: print total time to respond to <code>textDocument/definition</code>
requests.</li>
</ul>
<p>Set the value to <code>-Dmetals.statistics=all</code> to enable all statistics.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=-dmetalsh2auto-server><code>-Dmetals.h2.auto-server</code><a href=#-dmetalsh2auto-server class=hash-link aria-label="Direct link to -dmetalsh2auto-server" title="Direct link to -dmetalsh2auto-server" translate=no>â€‹</a></h3>
<p>Possible values:</p>
<ul>
<li class=""><code>on</code> (default): use
<a href=http://www.h2database.com/html/features.html#auto_mixed_mode target=_blank rel="noopener noreferrer" class="">H2 <code>AUTO_SERVER=TRUE</code> mode</a>
to support multiple concurrent Metals servers in the same workspace. If this
option is enabled, the Metals H2 database communicate to other concurrently
running Metals servers via TCP through a free port. In case of failure to
establish a <code>AUTO_SERVER=TRUE</code> connection, Metals falls back to
<code>AUTO_SERVER=FALSE</code>.</li>
<li class=""><code>off</code>: do not use <code>AUTO_SERVER=TRUE</code>. By disabling this option, it's not
possible to run concurrent Metals servers in the same workspace directory. For
example, it's not possible to have both VS Code and Vim installed with Metals
running in the same directory. In case there are multiple Metals servers
running in the same workspace directory, Metals falls back to using an
in-memory database resulting in a degraded user experience.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=-dmetalspcdebug><code>-Dmetals.pc.debug</code><a href=#-dmetalspcdebug class=hash-link aria-label="Direct link to -dmetalspcdebug" title="Direct link to -dmetalspcdebug" translate=no>â€‹</a></h3>
<p>Possible values:</p>
<ul>
<li class=""><code>off</code> (default): do not log verbose debugging information for the presentation
compiler.</li>
<li class=""><code>on</code>: log verbose debugging information for the presentation compiler.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=-dbloopsbtversion><code>-Dbloop.sbt.version</code><a href=#-dbloopsbtversion class=hash-link aria-label="Direct link to -dbloopsbtversion" title="Direct link to -dbloopsbtversion" translate=no>â€‹</a></h3>
<p>Version number of the sbt-bloop plugin to use for the "Install build" command.
Default value is <code>-Dbloop.sbt.version=2.0.17</code>.</p>
<p>The below properties are also available as user configuration options. It's
preferable to set these there:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=-dmetalsbloop-port><code>-Dmetals.bloop-port</code><a href=#-dmetalsbloop-port class=hash-link aria-label="Direct link to -dmetalsbloop-port" title="Direct link to -dmetalsbloop-port" translate=no>â€‹</a></h3>
<p>Port number of the Bloop server to connect to. Should only be used if Bloop
server was set up in a custom way. Default value is <code>8212</code>.</p>
<p>Possible values are any allowed port number that the Bloop server is able to run
on.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=metals-user-configuration>Metals user configuration<a href=#metals-user-configuration class=hash-link aria-label="Direct link to Metals user configuration" title="Direct link to Metals user configuration" translate=no>â€‹</a></h2>
<p>Users can customize the Metals server through the LSP
<code>workspace/didChangeConfiguration</code> notification. Unlike server properties, it is
normal for regular Metals users to configure these options.</p>
<p>User configuration options can optionally be provided via server properties
using the <code>-Dmetals.</code> prefix. System properties may be helpful for editor
clients that don't support <code>workspace/didChangeConfiguration</code>. In case user
configuration is defined both via system properties and
<code>workspace/didChangeConfiguration</code>, then <code>workspace/didChangeConfiguration</code>
takes precedence.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=java-home-directory>Java Home directory<a href=#java-home-directory class=hash-link aria-label="Direct link to Java Home directory" title="Direct link to Java Home directory" translate=no>â€‹</a></h3>
<p>The Java Home directory used for indexing JDK sources and locating the <code>java</code> binary.</p>
<p><strong>Default</strong>: <code>JAVA_HOME</code> environment variable with fallback to <code>user.home</code> system property.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "javaHome": "/Library/Java/JavaVirtualMachines/jdk1.8.0_192.jdk/Contents/Home"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=sbt-script>sbt script<a href=#sbt-script class=hash-link aria-label="Direct link to sbt script" title="Direct link to sbt script" translate=no>â€‹</a></h3>
<p>Optional absolute path to an <code>sbt</code> executable to use for running <code>sbt bloopInstall</code>.
By default, Metals uses <code>java -jar sbt-launch.jar</code> with an embedded launcher while respecting
<code>.jvmopts</code> and <code>.sbtopts</code>. Update this setting if your <code>sbt</code> script requires more customizations
like using environment variables.</p>
<p><strong>Default</strong>: empty string <code>""</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "sbtScript": "/usr/local/bin/sbt"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=gradle-script>Gradle script<a href=#gradle-script class=hash-link aria-label="Direct link to Gradle script" title="Direct link to Gradle script" translate=no>â€‹</a></h3>
<p>Optional absolute path to a <code>gradle</code> executable to use for running <code>gradle bloopInstall</code>.
By default, Metals uses gradlew with 7.5.0 gradle version. Update this setting if your <code>gradle</code> script requires more customizations
like using environment variables.</p>
<p><strong>Default</strong>: empty string <code>""</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "gradleScript": "/usr/local/bin/gradle"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=maven-script>Maven script<a href=#maven-script class=hash-link aria-label="Direct link to Maven script" title="Direct link to Maven script" translate=no>â€‹</a></h3>
<p>Optional absolute path to a <code>maven</code> executable to use for generating bloop config.
By default, Metals uses mvnw maven wrapper with 3.6.1 maven version. Update this setting if your <code>maven</code> script requires more customizations</p>
<p><strong>Default</strong>: empty string <code>""</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "mavenScript": "/usr/local/bin/mvn"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=mill-script>Mill script<a href=#mill-script class=hash-link aria-label="Direct link to Mill script" title="Direct link to Mill script" translate=no>â€‹</a></h3>
<p>Optional absolute path to a <code>mill</code> executable to use for running <code>mill mill.contrib.bloop.Bloop/install</code>.
By default, Metals uses mill wrapper script with 0.5.0 mill version. Update this setting if your <code>mill</code> script requires more customizations
like using environment variables.</p>
<p><strong>Default</strong>: empty string <code>""</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "millScript": "/usr/local/bin/mill"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=scalafmt-config-path>Scalafmt config path<a href=#scalafmt-config-path class=hash-link aria-label="Direct link to Scalafmt config path" title="Direct link to Scalafmt config path" translate=no>â€‹</a></h3>
<p>Optional custom path to the .scalafmt.conf file.
It should be a path (relative or absolute - though an absolute path is recommended) and use
forward slashes <code>/</code> for file separators (even on Windows).</p>
<p><strong>Default</strong>: empty string <code>""</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "scalafmtConfigPath": "project/.scalafmt.conf"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=scalafix-config-path>Scalafix config path<a href=#scalafix-config-path class=hash-link aria-label="Direct link to Scalafix config path" title="Direct link to Scalafix config path" translate=no>â€‹</a></h3>
<p>Optional custom path to the .scalafix.conf file.
It should be a path (relative or absolute - though an absolute path is recommended) and use
forward slashes <code>/</code> for file separators (even on Windows).</p>
<p><strong>Default</strong>: empty string <code>""</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "scalafixConfigPath": "project/.scalafix.conf"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=excluded-packages>Excluded Packages<a href=#excluded-packages class=hash-link aria-label="Direct link to Excluded Packages" title="Direct link to Excluded Packages" translate=no>â€‹</a></h3>
<p>Packages that will be excluded from completions, imports, and symbol searches.</p>
<p>Note that this is in addition to some default packages that are already excluded.
The default excluded packages are listed below:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-js codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token constant" style="color:rgb(130, 170, 255)">META</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">INF</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">images</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">toolbarButtonGraphics</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">jdk</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">sun</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">oracle</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">java</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">awt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">desktop</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">org</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">jcp</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">org</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">omg</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">org</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">graalvm</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">com</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">oracle</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">com</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">sun</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">com</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">apple</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">apple</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">com</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">sourcegraph</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">shaded</span><br/></span></code></pre></div></div>
<p>If there is a need to remove one of the defaults, you are able to do so by including the
package in your list and prepending <code>--</code> to it.</p>
<p>Example:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-js codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">"--sun"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br/></span></code></pre></div></div>
<p><strong>Default</strong>: <code>[]</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "excludedPackages": ["akka.actor.typed.javadsl"]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=dont-generate-bloop-plugin-file-for-sbt>Don't generate Bloop plugin file for sbt<a href=#dont-generate-bloop-plugin-file-for-sbt class=hash-link aria-label="Direct link to Don't generate Bloop plugin file for sbt" title="Direct link to Don't generate Bloop plugin file for sbt" translate=no>â€‹</a></h3>
<p>If true, Metals will not generate <code>metals.sbt</code> files under the assumption that sbt-bloop is already manually installed in the sbt build. Build import will fail with a 'not valid command bloopInstall' error in case Bloop is not manually installed in the build when using this option.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "bloopSbtAlreadyInstalled": false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=version-of-bloop>Version of Bloop<a href=#version-of-bloop class=hash-link aria-label="Direct link to Version of Bloop" title="Direct link to Version of Bloop" translate=no>â€‹</a></h3>
<p>This version will be used for the Bloop build tool plugin, for any supported build tool,
while importing in Metals as well as for running the embedded server</p>
<p><strong>Default</strong>: 2.0.17</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "bloopVersion": "1.4.0-RC1"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=bloop-jvm-properties>Bloop JVM Properties<a href=#bloop-jvm-properties class=hash-link aria-label="Direct link to Bloop JVM Properties" title="Direct link to Bloop JVM Properties" translate=no>â€‹</a></h3>
<p>Optional list of JVM properties to pass along to the Bloop server.
Please follow this guide for the format <a href=https://scalacenter.github.io/bloop/docs/server-reference#global-settings-for-the-server target=_blank rel="noopener noreferrer" class="">https://scalacenter.github.io/bloop/docs/server-reference#global-settings-for-the-server</a>"</p>
<p><strong>Default</strong>: ["-Xmx1G"].</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "bloopJvmProperties": ["-Xmx1G"]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=should-display-lenses-with-links-to-super-methods>Should display lenses with links to super methods<a href=#should-display-lenses-with-links-to-super-methods class=hash-link aria-label="Direct link to Should display lenses with links to super methods" title="Direct link to Should display lenses with links to super methods" translate=no>â€‹</a></h3>
<p>Super method lenses are visible above methods definition that override another methods. Clicking on a lens jumps to super method definition.
Disabled lenses are not calculated for opened documents which might speed up document processing.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "superMethodLensesEnabled": false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=should-display-type-annotations-for-inferred-types>Should display type annotations for inferred types<a href=#should-display-type-annotations-for-inferred-types class=hash-link aria-label="Direct link to Should display type annotations for inferred types" title="Direct link to Should display type annotations for inferred types" translate=no>â€‹</a></h3>
<p>When this option is enabled, each method that can have inferred types has them
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "inlayHints.inferredTypes.enable": false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=should-display-parameter-names-next-to-arguments>Should display parameter names next to arguments<a href=#should-display-parameter-names-next-to-arguments class=hash-link aria-label="Direct link to Should display parameter names next to arguments" title="Direct link to Should display parameter names next to arguments" translate=no>â€‹</a></h3>
<p>When this option is enabled, each method has an added parameter name next to its arguments
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "inlayHints.namedParameters.enable": false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=should-display-if-a-parameter-is-by-name-at-usage-sites>Should display if a parameter is by-name at usage sites<a href=#should-display-if-a-parameter-is-by-name-at-usage-sites class=hash-link aria-label="Direct link to Should display if a parameter is by-name at usage sites" title="Direct link to Should display if a parameter is by-name at usage sites" translate=no>â€‹</a></h3>
<p>When this option is enabled, each method that has by-name parameters has them
displayed either as additional '=>' decorations if they are supported by the editor or
shown in the hover.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "inlayHints.byNameParameters.enable": false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=should-display-implicit-parameter-at-usage-sites>Should display implicit parameter at usage sites<a href=#should-display-implicit-parameter-at-usage-sites class=hash-link aria-label="Direct link to Should display implicit parameter at usage sites" title="Direct link to Should display implicit parameter at usage sites" translate=no>â€‹</a></h3>
<p>When this option is enabled, each method that has implicit arguments has them
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "inlayHints.implicitArguments.enable": false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=should-display-implicit-conversion-at-usage-sites>Should display implicit conversion at usage sites<a href=#should-display-implicit-conversion-at-usage-sites class=hash-link aria-label="Direct link to Should display implicit conversion at usage sites" title="Direct link to Should display implicit conversion at usage sites" translate=no>â€‹</a></h3>
<p>When this option is enabled, each place where an implicit method or class is used has it
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "inlayHints.implicitConversions.enable": false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=should-display-type-annotations-for-type-parameters>Should display type annotations for type parameters<a href=#should-display-type-annotations-for-type-parameters class=hash-link aria-label="Direct link to Should display type annotations for type parameters" title="Direct link to Should display type annotations for type parameters" translate=no>â€‹</a></h3>
<p>When this option is enabled, each place when a type parameter is applied has it
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "inlayHints.typeParameters.enable": false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=should-display-type-annotations-in-pattern-matches>Should display type annotations in pattern matches<a href=#should-display-type-annotations-in-pattern-matches class=hash-link aria-label="Direct link to Should display type annotations in pattern matches" title="Direct link to Should display type annotations in pattern matches" translate=no>â€‹</a></h3>
<p>When this option is enabled, each place when a type is inferred in a pattern match has it
displayed either as additional decorations if they are supported by the editor or
shown in the hover.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "inlayHints.hintsInPatternMatch.enable": false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=should-display-type-annotations-for-intermediate-types-of-multi-line-expressions>Should display type annotations for intermediate types of multi-line expressions<a href=#should-display-type-annotations-for-intermediate-types-of-multi-line-expressions class=hash-link aria-label="Direct link to Should display type annotations for intermediate types of multi-line expressions" title="Direct link to Should display type annotations for intermediate types of multi-line expressions" translate=no>â€‹</a></h3>
<p>When this option is enabled, each method/attribute call in a multi-line chain will get
its own type annotation.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "inlayHints.hintsXRayMode.enable": false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=should-display-closing-label-hints-for-methodsclassesobjects-next-to-their-closing-braces>Should display closing label hints for methods/classes/objects next to their closing braces<a href=#should-display-closing-label-hints-for-methodsclassesobjects-next-to-their-closing-braces class=hash-link aria-label="Direct link to Should display closing label hints for methods/classes/objects next to their closing braces" title="Direct link to Should display closing label hints for methods/classes/objects next to their closing braces" translate=no>â€‹</a></h3>
<p>When this option is enabled, each method/class/object definition that uses braces syntax,
will get a closing label hint next to the closing brace with the name of the definition.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "inlayHints.closingLabels.enable": false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=use-semantic-tokens-highlight>Use semantic tokens highlight<a href=#use-semantic-tokens-highlight class=hash-link aria-label="Direct link to Use semantic tokens highlight" title="Direct link to Use semantic tokens highlight" translate=no>â€‹</a></h3>
<p>When this option is enabled, Metals will provide semantic tokens for clients that support it.
The feature should work within all supported files extensions aside from Java.</p>
<p><strong>Default</strong>: true</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "enableSemanticHighlighting": false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=indent-snippets-when-pasted>Indent snippets when pasted.<a href=#indent-snippets-when-pasted class=hash-link aria-label="Direct link to Indent snippets when pasted." title="Direct link to Indent snippets when pasted." translate=no>â€‹</a></h3>
<p>When this option is enabled, when a snippet is pasted into a Scala file, Metals will
try to adjust the indentation to that of the current cursor.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "enableIndentOnPaste": false</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=default-fallback-scala-version>Default fallback Scala version<a href=#default-fallback-scala-version class=hash-link aria-label="Direct link to Default fallback Scala version" title="Direct link to Default fallback Scala version" translate=no>â€‹</a></h3>
<p>The Scala compiler version that is used as the default or fallback in case a file
doesn't belong to any build target or the specified Scala version isn't supported by Metals.
This applies to standalone Scala files, worksheets and Scala CLI scripts.</p>
<p><strong>Default</strong>: 3.3.6</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "fallbackScalaVersion": 3.3.6</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=test-ui-used-for-tests-and-test-suites>Test UI used for tests and test suites<a href=#test-ui-used-for-tests-and-test-suites class=hash-link aria-label="Direct link to Test UI used for tests and test suites" title="Direct link to Test UI used for tests and test suites" translate=no>â€‹</a></h3>
<p>Default way of handling tests and test suites.  The only valid values are
"code lenses" and "test explorer".  See <a href=https://scalameta.org/metals/docs/integrations/test-explorer target=_blank rel="noopener noreferrer" class="">https://scalameta.org/metals/docs/integrations/test-explorer</a>
for information on how to work with the test explorer.</p>
<p><strong>Default</strong>: Code Lenses</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "testUserInterface": test explorer</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=eclipse-java-formatter-config-path>Eclipse Java formatter config path<a href=#eclipse-java-formatter-config-path class=hash-link aria-label="Direct link to Eclipse Java formatter config path" title="Direct link to Eclipse Java formatter config path" translate=no>â€‹</a></h3>
<p>Optional custom path to the eclipse-formatter.xml file.
It should be a path (relative or absolute - though an absolute path is recommended) and use
forward slashes <code>/</code> for file separators (even on Windows).</p>
<p><strong>Default</strong>: empty string <code>""</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "javaFormat.eclipseConfigPath": "formatters/eclipse-formatter.xml"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=eclipse-java-formatting-profile>Eclipse Java formatting profile<a href=#eclipse-java-formatting-profile class=hash-link aria-label="Direct link to Eclipse Java formatting profile" title="Direct link to Eclipse Java formatting profile" translate=no>â€‹</a></h3>
<p>If the Eclipse formatter file contains more than one profile, this option can be used to control which is used.</p>
<p><strong>Default</strong>: empty string <code>""</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "javaFormat.eclipseProfile": "GoogleStyle"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=scala-cli-launcher>Scala CLI launcher<a href=#scala-cli-launcher class=hash-link aria-label="Direct link to Scala CLI launcher" title="Direct link to Scala CLI launcher" translate=no>â€‹</a></h3>
<p>Optional absolute path to a <code>scala-cli</code> executable to use for running a Scala CLI BSP server.
By default, Metals uses the scala-cli from the PATH, or it's not found, downloads and runs Scala
CLI on the JVM (slower than native Scala CLI). Update this if you want to use a custom Scala CLI
launcher, not available in PATH.</p>
<p><strong>Default</strong>: empty string <code>""</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "scalaCliLauncher": "/usr/local/bin/scala-cli"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=custom-project-root>Custom project root<a href=#custom-project-root class=hash-link aria-label="Direct link to Custom project root" title="Direct link to Custom project root" translate=no>â€‹</a></h3>
<p>Optional relative path to your project's root.
If you want your project root to be the workspace/workspace root set it to "." .</p>
<p><strong>Default</strong>: empty string <code>""</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "customProjectRoot": "backend/scalaProject/"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=show-all-compilation-debugging-information>Show all compilation debugging information<a href=#show-all-compilation-debugging-information class=hash-link aria-label="Direct link to Show all compilation debugging information" title="Direct link to Show all compilation debugging information" translate=no>â€‹</a></h3>
<p>If a build server supports it (for example Bloop or Scala CLI), setting it to true
will make the logs contain all the possible debugging information including
about incremental compilation in Zinc.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "verboseCompilation": true</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=import-build-when-changes-detected-without-prompting>Import build when changes detected without prompting<a href=#import-build-when-changes-detected-without-prompting class=hash-link aria-label="Direct link to Import build when changes detected without prompting" title="Direct link to Import build when changes detected without prompting" translate=no>â€‹</a></h3>
<p>Automatically import builds rather than prompting the user to choose. "initial" will
only automatically import a build when a project is first opened, "all" will automate
build imports after subsequent changes as well.</p>
<p><strong>Default</strong>: off</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "autoImportBuilds": all</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=preferred-build-tool-when-multiple-are-detected>Preferred build tool when multiple are detected<a href=#preferred-build-tool-when-multiple-are-detected class=hash-link aria-label="Direct link to Preferred build tool when multiple are detected" title="Direct link to Preferred build tool when multiple are detected" translate=no>â€‹</a></h3>
<p>The preferred build tool to use when multiple build definitions are detected in the workspace.
This prevents the build tool selection dialog from appearing on startup.
Valid values are: "sbt", "gradle", "mvn", "mill", "scala-cli", "bazel".</p>
<p><strong>Default</strong>: empty string <code>""</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "targetBuildTool": "bazel"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=default-to-using-build-tool-as-your-build-server>Default to using build tool as your build server.<a href=#default-to-using-build-tool-as-your-build-server class=hash-link aria-label="Direct link to Default to using build tool as your build server." title="Direct link to Default to using build tool as your build server." translate=no>â€‹</a></h3>
<p>If your build tool can also serve as a build server,
default to using it instead of Bloop.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "defaultBspToBuildTool": true</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=use-best-effort-compilation-for-scala-3>Use best effort compilation for Scala 3.<a href=#use-best-effort-compilation-for-scala-3 class=hash-link aria-label="Direct link to Use best effort compilation for Scala 3." title="Direct link to Use best effort compilation for Scala 3." translate=no>â€‹</a></h3>
<p>When using Scala 3, use best effort compilation to improve Metals
correctness when the workspace doesn't compile.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "enableBestEffort": true</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=full-path-to-the-shell-executable-to-be-used-as-the-default>Full path to the shell executable to be used as the default<a href=#full-path-to-the-shell-executable-to-be-used-as-the-default class=hash-link aria-label="Direct link to Full path to the shell executable to be used as the default" title="Direct link to Full path to the shell executable to be used as the default" translate=no>â€‹</a></h3>
<p>Optionally provide a default shell executable to use for build operations.
This allows customizing the shell environment before build execution.
When specified, must use absolute path to the shell.
The configured shell will be used for all build-related subprocesses.</p>
<p><strong>Default</strong>: empty string <code>""</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "defaultShell": /usr/bin/fish</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=start-mcp-server>Start MCP server<a href=#start-mcp-server class=hash-link aria-label="Direct link to Start MCP server" title="Direct link to Start MCP server" translate=no>â€‹</a></h3>
<p>If Metals should start the MCP (SSE) server, that an AI agent can connect to.</p>
<p><strong>Default</strong>: false</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "startMcpServer": true</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=mcp-client-name>MCP Client Name<a href=#mcp-client-name class=hash-link aria-label="Direct link to MCP Client Name" title="Direct link to MCP Client Name" translate=no>â€‹</a></h3>
<p>This is used in situations where the client you're using doesn't match the editor
you're using or you also want an extra config generated, which is what Metals will
default to. For example if you use claude code cli in your terminal while you have
Metals running you would set this to "claude".
NOTE: This will generate an extra config if Metals supports the client you are passing in
and it will still generate the one matching your editor if it's also supported.</p>
<p><strong>Default</strong>: empty string <code>""</code>.</p>
<p><strong>Example</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "metals": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "mcpClient": claude</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=metals-server-commands>Metals server commands<a href=#metals-server-commands class=hash-link aria-label="Direct link to Metals server commands" title="Direct link to Metals server commands" translate=no>â€‹</a></h2>
<p>The client can trigger one of the following commands through the
<code>workspace/executeCommand</code> request.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=analyze-stacktrace>Analyze stacktrace<a href=#analyze-stacktrace class=hash-link aria-label="Direct link to Analyze stacktrace" title="Direct link to Analyze stacktrace" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"analyze-stacktrace"</code></p>
<p><strong>Arguments</strong>: [string], where the string is a stacktrace.</p>
<p>Converts provided stacktrace in the parameter to a format that contains links
to locations of places where the exception was raised.</p>
<p>If the configuration parameter of the client <code>commandInHtmlFormat</code> is set
then client is requested to display html with links
already pointing to proper locations in user codebase.
Otherwise client will display simple scala file
but with code lenses that direct user to proper location in codebase.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=resolve-stacktrace-location>Resolve stacktrace location<a href=#resolve-stacktrace-location class=hash-link aria-label="Direct link to Resolve stacktrace location" title="Direct link to Resolve stacktrace location" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"resolve-stacktrace-location"</code></p>
<p><strong>Arguments</strong>: [string], where the string is a single line from a stacktrace.</p>
<p>Resolves a single line of a stacktrace to its source location.</p>
<p>Returns a Location object containing the URI and line number of the
source file where the stacktrace line originated, if it can be resolved
to a location in the workspace.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=switch-build-server>Switch build server<a href=#switch-build-server class=hash-link aria-label="Direct link to Switch build server" title="Direct link to Switch build server" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"bsp-switch"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Prompt the user to select a new build server to connect to.</p>
<p>This command does nothing in case there are less than two installed build
servers on the computer. In case the user has multiple BSP servers installed
then Metals will prompt the user to select which server to use.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=handle-module-status-bar-click>Handle module status bar click<a href=#handle-module-status-bar-click class=hash-link aria-label="Direct link to Handle module status bar click" title="Direct link to Handle module status bar click" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"module-status-bar-clicked"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Handle click on the module status bar.</p>
<p>For Scala CLI workspaces, offers to regenerate BSP configuration.
Otherwise, opens the doctor.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=connect-to-build-server>Connect to build server<a href=#connect-to-build-server class=hash-link aria-label="Direct link to Connect to build server" title="Direct link to Connect to build server" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"build-connect"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Establish a new connection to the build server and reindex the workspace.</p>
<p>This command can be helpful in scenarios when Metals feels unresponsive, for example
when reopening Metals after the computer it has been sleeping.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=cancel-compilation>Cancel compilation<a href=#cancel-compilation class=hash-link aria-label="Direct link to Cancel compilation" title="Direct link to Cancel compilation" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"compile-cancel"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Cancel the currently ongoing compilation, if any.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=cascade-compile>Cascade compile<a href=#cascade-compile class=hash-link aria-label="Direct link to Cascade compile" title="Direct link to Cascade compile" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"compile-cascade"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Compile the current open files along with all build targets in this workspace that depend on those files.</p>
<p>By default, Metals compiles only the current build target and its dependencies when saving a file.
Run the cascade compile task to additionally compile the inverse dependencies of the current build target.
For example, if you change the API in main sources and run cascade compile then it will also compile the
test sources that depend on main.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=clean-compile>Clean compile<a href=#clean-compile class=hash-link aria-label="Direct link to Clean compile" title="Direct link to Clean compile" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"compile-clean"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Recompile all build targets in this workspace.</p>
<p>By default, Metals compiles the files incrementally. In case of any compile artifacts corruption
this command might be run to make sure everything is recompiled correctly.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=compiletarget>CompileTarget<a href=#compiletarget class=hash-link aria-label="Direct link to CompileTarget" title="Direct link to CompileTarget" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"compile-target"</code></p>
<p><strong>Arguments</strong>: BuildTargetIdentifier</p>
<p>Compile the currently open file.</p>
<p>Can be used as an explicit command in order
to force compilation to start and finish e.g. before executing a codeLens.
Returns CompileResult with field 'statusCode' being 1 for success, 2 for errors or 3 for compile cancelled.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=copy-worksheet-output>Copy Worksheet Output<a href=#copy-worksheet-output class=hash-link aria-label="Direct link to Copy Worksheet Output" title="Direct link to Copy Worksheet Output" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"copy-worksheet-output"</code></p>
<p><strong>Arguments</strong>: [uri], the uri of the worksheet that you'd like to copy the contents of.</p>
<p>Copy the contents of a worksheet to your local buffer.</p>
<p>Note: This command returns the contents of the worksheet, and the LSP client
is in charge of taking that content and putting it into your local buffer.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=copy-fully-qualified-name-of-symbol>Copy fully qualified name of symbol<a href=#copy-fully-qualified-name-of-symbol class=hash-link aria-label="Direct link to Copy fully qualified name of symbol" title="Direct link to Copy fully qualified name of symbol" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"copy-fqn"</code></p>
<p><strong>Arguments</strong>: This command should be sent in with the LSP <a href=https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams target=_blank rel="noopener noreferrer" class=""><code>TextDocumentPositionParams</code></a></p>
<p>Copy the fully qualified name of a symbol to the clipboard.</p>
<p>Note: This command returns the fully qualified name of the symbol, and the LSP client
is in charge of taking that content and putting it into your local buffer.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=discover-main-classes-to-run-and-return-the-object>Discover main classes to run and return the object<a href=#discover-main-classes-to-run-and-return-the-object class=hash-link aria-label="Direct link to Discover main classes to run and return the object" title="Direct link to Discover main classes to run and return the object" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"discover-jvm-run-command"</code></p>
<p><strong>Arguments</strong>: DebugUnresolvedTestClassParams object
Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "path": "path/to/file.scala",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "runType": "run"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>Response:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "targets": ["id1"],</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "dataKind": "scala-main-class",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "data": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "class": "Foo",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "arguments": [],</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "jvmOptions": [],</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "environmentVariables": [],</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "shellCommand": "java ..."</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>Gets the DebugSession object that also contains a command to run in shell based
on JVM environment including classpath, jvmOptions and environment parameters.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=discover-tests>Discover tests<a href=#discover-tests class=hash-link aria-label="Direct link to Discover tests" title="Direct link to Discover tests" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"discover-tests"</code></p>
<p><strong>Arguments</strong>:
An object with uri, when request is meant to discover test cases for uri</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  uri: file:///home/dev/foo/Bar.scala</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>or empty object if request is meant to discover all test suites</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{}</span><br/></span></code></pre></div></div>
<p>Discovers all tests in project or a file.
See ClientCommands.UpdateTestExplorer to see how response looks like.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=extract-member-definition>Extract member definition<a href=#extract-member-definition class=hash-link aria-label="Direct link to Extract member definition" title="Direct link to Extract member definition" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"extract-member-definition"</code></p>
<p><strong>Arguments</strong>: This command should be sent in with the LSP <a href=https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams target=_blank rel="noopener noreferrer" class=""><code>TextDocumentPositionParams</code></a></p>
<p>Whenever a user chooses a code action to extract a definition of a Class/Trait/Object/Enum this
command is later ran to extract the code and create a new file with it</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=generate-bsp-config>Generate BSP Config<a href=#generate-bsp-config class=hash-link aria-label="Direct link to Generate BSP Config" title="Direct link to Generate BSP Config" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"generate-bsp-config"</code></p>
<p><strong>Arguments</strong>: [string], name of the build server.</p>
<p>Checks to see if your build tool can serve as a BSP server. If so, generate
the necessary BSP config to connect to the server. If there is more than one
build tool for a workspace, you can then choose the desired one and that
one will be used to generate the config.</p>
<p>After the config is generated, Metals will attempt to auto-connect to it.</p>
<p>The build servers that Metals knows how to detect and start:</p>
<ul>
<li class="">sbt</li>
<li class="">mill-bsp</li>
</ul>
<p>Note: while Metals does know how to start Bloop, Bloop will be started when you trigger a build
import or when you use <code>bsp-switch</code> to switch to Bloop.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=goto-location-for-position>Goto location for position<a href=#goto-location-for-position class=hash-link aria-label="Direct link to Goto location for position" title="Direct link to Goto location for position" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"goto-position"</code></p>
<p><strong>Arguments</strong>: [location], where the location is a lsp location object.</p>
<p>Move the cursor to the location provided in arguments.
It simply forwards request to client.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=go-to-super-methodfield-definition>Go to super method/field definition<a href=#go-to-super-methodfield-definition class=hash-link aria-label="Direct link to Go to super method/field definition" title="Direct link to Go to super method/field definition" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"goto-super-method"</code></p>
<p><strong>Arguments</strong>: This command should be sent in with the LSP <a href=https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams target=_blank rel="noopener noreferrer" class=""><code>TextDocumentPositionParams</code></a></p>
<p>Jumps to super method/field definition of a symbol under cursor according to inheritance rules.
When <code>A {override def x()} &lt;:&lt; B &lt;:&lt; C {def x()}</code> and on method 'A.x' it will jump directly to 'C.x'
as method x() is not overridden in B.
If symbol is a reference of a method it will jump to a definition.
If symbol under cursor is invalid or does not override anything then command is ignored.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=goto-location-for-symbol>Goto location for symbol<a href=#goto-location-for-symbol class=hash-link aria-label="Direct link to Goto location for symbol" title="Direct link to Goto location for symbol" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"goto"</code></p>
<p><strong>Arguments</strong>: [string], where the string is a SemanticDB symbol.</p>
<p>Move the cursor to the definition of the argument symbol.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=import-build>Import build<a href=#import-build class=hash-link aria-label="Direct link to Import build" title="Direct link to Import build" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"build-import"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Import the latest changes from the build to for example pick up new library dependencies.</p>
<p>By default, Metals automatically prompts you to import the build when sources of the build change.
Use this command to manually trigger an import build instead of relying on the automatic prompt.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=insert-inferred-type-of-a-value>Insert inferred type of a value<a href=#insert-inferred-type-of-a-value class=hash-link aria-label="Direct link to Insert inferred type of a value" title="Direct link to Insert inferred type of a value" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"insert-inferred-type"</code></p>
<p><strong>Arguments</strong>: This command should be sent in with the LSP <a href=https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams target=_blank rel="noopener noreferrer" class=""><code>TextDocumentPositionParams</code></a></p>
<p>Whenever a user chooses code action to insert the inferred type this command is later ran to
calculate the type and insert it in the correct location.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=insert-inferred-method>Insert inferred method<a href=#insert-inferred-method class=hash-link aria-label="Direct link to Insert inferred method" title="Direct link to Insert inferred method" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"insert-inferred-method"</code></p>
<p><strong>Arguments</strong>: Object with <code>document</code> and <code>position</code></p>
<p>Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  document: "file:///home/dev/foo/Bar.scala",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  position: {line: 5, character: 12}</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>Try and create a method from the error symbol at the current position
where that position points to a name of form for example:</p>
<ul>
<li class=""><code>nonExisting(param)</code></li>
<li class=""><code>obj.nonExisting()</code></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=inline-value>Inline value<a href=#inline-value class=hash-link aria-label="Direct link to Inline value" title="Direct link to Inline value" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"inline-value"</code></p>
<p><strong>Arguments</strong>: This command should be sent in with the LSP <a href=https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams target=_blank rel="noopener noreferrer" class=""><code>TextDocumentPositionParams</code></a></p>
<p>Whenever a user chooses code action to inline a value this command is later ran to
find all the references to choose the correct inline version (if possible to perform)</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=create-new-scala-file>Create new scala file<a href=#create-new-scala-file class=hash-link aria-label="Direct link to Create new scala file" title="Direct link to Create new scala file" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"new-scala-file"</code></p>
<p><strong>Arguments</strong>: [string[]], where the first is a directory location for the new file.
The second and third positions correspond to the file name and file type to allow for quick
creation of a file if all are present.</p>
<p>Create and open new Scala file.</p>
<p>The currently allowed Scala file types that can be passed in are:</p>
<ul>
<li class="">scala-file (Empty file)</li>
<li class="">scala-class (Class)</li>
<li class="">scala-case-class (Case Class)</li>
<li class="">scala-enum (Enum)</li>
<li class="">scala-object (Object)</li>
<li class="">scala-trait (Trait)</li>
<li class="">scala-package-object (Package Object)</li>
<li class="">scala-worksheet (Worksheet)</li>
<li class="">scala-script (Scala Script(Scala CLI))</li>
</ul>
<p>Note: requires 'metals/inputBox' capability from language client.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=create-new-java-file>Create new java file<a href=#create-new-java-file class=hash-link aria-label="Direct link to Create new java file" title="Direct link to Create new java file" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"new-java-file"</code></p>
<p><strong>Arguments</strong>: [string[]], where the first is a directory location for the new file.
The second and third positions correspond to the file name and file type to allow for quick
creation of a file if all are present.</p>
<p>Create and open a new Java file.</p>
<p>The currently allowed Java file types that ca be passed in are:</p>
<ul>
<li class="">java-class (Class)</li>
<li class="">java-interface (Interface)</li>
<li class="">java-enum (Enum)</li>
<li class="">java-record (Record)</li>
</ul>
<p>Note: requires 'metals/inputBox' capability from language client.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=new-scala-project>New Scala Project<a href=#new-scala-project class=hash-link aria-label="Direct link to New Scala Project" title="Direct link to New Scala Project" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"new-scala-project"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Create a new Scala project using one of the available g8 templates.
This includes simple projects as well as samples for most of the popular Scala frameworks.
The command reuses the Metals quick pick extension to work and can function with <code>window/showMessageRequest</code>,
however the experience will not be optimal in that case. Some editors might also offer to open the newly created
project via <code>openNewWindowProvider</code>, but it is not necessary for the main functionality to work.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=restart-presentation-compiler>Restart presentation compiler<a href=#restart-presentation-compiler class=hash-link aria-label="Direct link to Restart presentation compiler" title="Direct link to Restart presentation compiler" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"presentation-compiler-restart"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Restart running presentation compiler instances.</p>
<p>Metals automatically restarts the presentation compiler after every successful compilation
in the build tool so this command should not be needed for normal usage. Please report
an issue if you need to use this command.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=reset-choice-popup>Reset Choice Popup<a href=#reset-choice-popup class=hash-link aria-label="Direct link to Reset Choice Popup" title="Direct link to Reset Choice Popup" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"reset-choice"</code></p>
<p><strong>Arguments</strong>: [string?], where string is a choice value.</p>
<p>ResetChoicePopup command allows you to reset a decision you made about different settings.
E.g. If you choose to import workspace with sbt you can decide to reset and change it again.</p>
<p>Provided string is optional but if present it must be one of defined in <code>PopupChoiceReset.scala</code>
If a choice is not provided it will execute interactive mode where user is prompt to select
which choice to reset.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=reset-notifications>Reset notifications<a href=#reset-notifications class=hash-link aria-label="Direct link to Reset notifications" title="Direct link to Reset notifications" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"reset-notifications"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>ResetNotifications command allows you to reset all the dismissed notifications.
E.g. If you choose to dismiss build import forever, this command will make the notification show up again.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=restart-build-server>Restart build server<a href=#restart-build-server class=hash-link aria-label="Direct link to Restart build server" title="Direct link to Restart build server" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"build-restart"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Unconditionally stop the current running Bloop server and start a new one using Bloop launcher</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=run-doctor>Run doctor<a href=#run-doctor class=hash-link aria-label="Direct link to Run doctor" title="Direct link to Run doctor" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"doctor-run"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Open the Metals doctor to troubleshoot potential problems with the build.</p>
<p>This command can be helpful in scenarios where features are not working as expected such
as compile errors are not appearing or completions are not correct.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=run-all-scalafix-rules>Run all Scalafix Rules<a href=#run-all-scalafix-rules class=hash-link aria-label="Direct link to Run all Scalafix Rules" title="Direct link to Run all Scalafix Rules" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"scalafix-run"</code></p>
<p><strong>Arguments</strong>: This command should be sent in with the LSP <a href=https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams target=_blank rel="noopener noreferrer" class=""><code>TextDocumentPositionParams</code></a></p>
<p>Run all the supported scalafix rules in your codebase.</p>
<p>If the rules are missing please add them to user configuration <code>metals.scalafixRulesDependencies</code>.
Their format is the coursier one <a href=https://get-coursier.io/ target=_blank rel="noopener noreferrer" class="">https://get-coursier.io/</a></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=run-a-set-of-scalafix-rules>Run a set of Scalafix Rules<a href=#run-a-set-of-scalafix-rules class=hash-link aria-label="Direct link to Run a set of Scalafix Rules" title="Direct link to Run a set of Scalafix Rules" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"scalafix-run-only"</code></p>
<p><strong>Arguments</strong>: RunScalafixRulesParams object
Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "textDocumentPositionParams": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "textDocument": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "uri": "path/to/file.scala"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "position": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "line": 70,</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      "character": 33</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "rules": ["ExplicitResultTypes"]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>Run a set of Scalafix rules in your codebase.</p>
<p>If no rules are specified, this command will prompt the user to select one from a list
of their project's enabled rules.</p>
<p>If you want to run all rules, use the <code>scalafix-run</code> command instead.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=decode-file>Decode file<a href=#decode-file class=hash-link aria-label="Direct link to Decode file" title="Direct link to Decode file" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"file-decode"</code></p>
<p><strong>Arguments</strong>: [uri], uri of the file with any parameters required for decoding.
Examples:</p>
<ul>
<li class="">javap:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.java.javap</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.scala.javap</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.class.javap</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.java.javap-verbose</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.scala.javap-verbose</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.class.javap-verbose</span><br/></span></code></pre></div></div>
</li>
<li class="">semanticdb:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.java.semanticdb-compact</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.java.semanticdb-detailed</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.scala.semanticdb-compact</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.scala.semanticdb-detailed</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.java.semanticdb.semanticdb-compact</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.java.semanticdb.semanticdb-detailed</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.scala.semanticdb.semanticdb-compact</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.scala.semanticdb.semanticdb-detailed</span><br/></span></code></pre></div></div>
</li>
<li class="">tasty:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.scala.tasty-decoded</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///somePath/someFile.tasty.tasty-decoded</span><br/></span></code></pre></div></div>
</li>
<li class="">jar:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:jar:file:///somePath/someFile-sources.jar!/somePackage/someFile.java</span><br/></span></code></pre></div></div>
</li>
<li class="">build target:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">metalsDecode:file:///workspacePath/buildTargetName.metals-buildtarget</span><br/></span></code></pre></div></div>
</li>
</ul>
<p>Response:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">DecoderResponse</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  requestedUri</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  value</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  error</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br/></span></code></pre></div></div>
<p>Decode a file into a human readable format.</p>
<p>Compilation involves various binary files that can't be read directly
in a text editor so they need to be decoded into a human readable format.
Examples include <code>.class</code> and <code>.semanticdb</code>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=disconnect-from-old-build-server>Disconnect from old build server<a href=#disconnect-from-old-build-server class=hash-link aria-label="Direct link to Disconnect from old build server" title="Direct link to Disconnect from old build server" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"build-disconnect"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Unconditionally cancel existing build server connection without reconnecting</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=list-build-targets>List build targets<a href=#list-build-targets class=hash-link aria-label="Direct link to List build targets" title="Direct link to List build targets" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"list-build-targets"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Retrieve a list of build targets for the workspace.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=scan-sources>Scan sources<a href=#scan-sources class=hash-link aria-label="Direct link to Scan sources" title="Direct link to Scan sources" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"sources-scan"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Walk all files in the workspace and index where symbols are defined.</p>
<p>Is automatically run once after <code>initialized</code> notification and incrementally
updated on file watching events. A language client that doesn't support
file watching can run this manually instead. It should not be much slower
than walking the entire file tree and reading <code>*.scala</code> files to string,
indexing itself is cheap.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=start-debug-adapter>Start debug adapter<a href=#start-debug-adapter class=hash-link aria-label="Direct link to Start debug adapter" title="Direct link to Start debug adapter" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"debug-adapter-start"</code></p>
<p><strong>Arguments</strong>: DebugSessionParameters object
Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "targets": ["mybuild://workspace/foo/?id=foo"],</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   dataKind: "scala-main-class",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   data: {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      className: "com.foo.App"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>Start a new debugger session with fully specified DebugSessionParams</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=start-main-class>Start main class<a href=#start-main-class class=hash-link aria-label="Direct link to Start main class" title="Direct link to Start main class" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"debug-adapter-start"</code></p>
<p><strong>Arguments</strong>: DebugUnresolvedMainClassParams object
Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "mainClass": "path/to/file.scala",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "buildTarget": "metals"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>Start a new debugger session by resolving a main class by name and target</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=start-test-suite>Start test suite<a href=#start-test-suite class=hash-link aria-label="Direct link to Start test suite" title="Direct link to Start test suite" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"debug-adapter-start"</code></p>
<p><strong>Arguments</strong>: ScalaTestSuitesDebugRequest object
Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "target": "metals"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "requestData" : {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "suites": ["com.foo.FooSuite"],</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "jvmOptions": []],</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "environmentVariables": [],</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>Start a new debugger session for a test suite, can be used to run a single test case</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=start-test-suite-1>Start test suite<a href=#start-test-suite-1 class=hash-link aria-label="Direct link to Start test suite" title="Direct link to Start test suite" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"debug-adapter-start"</code></p>
<p><strong>Arguments</strong>: DebugUnresolvedTestClassParams object
Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   "testClass": "com.foo.FooSuite"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>Start a new debugger session by resolving a test suite by name and possibly target.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=attach-to-a-running-jvm-process>Attach to a running jvm process<a href=#attach-to-a-running-jvm-process class=hash-link aria-label="Direct link to Attach to a running jvm process" title="Direct link to Attach to a running jvm process" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"debug-adapter-start"</code></p>
<p><strong>Arguments</strong>: DebugUnresolvedAttachRemoteParams object
Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "hostName": "localhost",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "port": 1234,</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "buildTarget": "metals",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>Start a new debugger session by attaching to existing jvm process.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=try-to-discover-a-test-or-main-to-run>Try to discover a test or main to run.<a href=#try-to-discover-a-test-or-main-to-run class=hash-link aria-label="Direct link to Try to discover a test or main to run." title="Direct link to Try to discover a test or main to run." translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"debug-adapter-start"</code></p>
<p><strong>Arguments</strong>: DebugDiscoveryParams object
Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "path": "path/to/file.scala",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "runType": "run",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>Start a new debugger session by running the discovered test or main class.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=go-to-super-methodfield-definition-in-hierarchy>Go to super method/field definition in hierarchy<a href=#go-to-super-methodfield-definition-in-hierarchy class=hash-link aria-label="Direct link to Go to super method/field definition in hierarchy" title="Direct link to Go to super method/field definition in hierarchy" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"super-method-hierarchy"</code></p>
<p><strong>Arguments</strong>: This command should be sent in with the LSP <a href=https://microsoft.github.io/language-server-protocol/specifications/specification-current/#textDocumentPositionParams target=_blank rel="noopener noreferrer" class=""><code>TextDocumentPositionParams</code></a></p>
<p>When user executes this command it will calculate inheritance hierarchy of a class that contains given method.
Then it will filter out classes not overriding given method and a list using 'metalsQuickPick' will be
displayed to which super method user would like to go to.
Command has no effect on other symbols than method definition.
QuickPick will show up only if more than one result is found.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=start-scala-cli-server>Start Scala CLI server<a href=#start-scala-cli-server class=hash-link aria-label="Direct link to Start Scala CLI server" title="Direct link to Start Scala CLI server" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"scala-cli-start"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Start Scala CLI server</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=stop-scala-cli-server>Stop Scala CLI server<a href=#stop-scala-cli-server class=hash-link aria-label="Direct link to Stop Scala CLI server" title="Direct link to Stop Scala CLI server" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"scala-cli-stop"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Stop Scala CLI server</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=open-an-issue-on-github>Open an issue on GitHub<a href=#open-an-issue-on-github class=hash-link aria-label="Direct link to Open an issue on GitHub" title="Direct link to Open an issue on GitHub" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"open-new-github-issue"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Open the Metals repository on GitHub to ask a question or report a bug.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=open-a-feature-request>Open a feature request<a href=#open-a-feature-request class=hash-link aria-label="Direct link to Open a feature request" title="Direct link to Open a feature request" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"browser-open-url:https://github.com/scalameta/metals-feature-requests/issues/new?template=feature-request.yml"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Open the Metals repository on GitHub to open a feature request.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=create-a-zip-with-error-reports>Create a zip with error reports<a href=#create-a-zip-with-error-reports class=hash-link aria-label="Direct link to Create a zip with error reports" title="Direct link to Create a zip with error reports" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"zip-reports"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Creates a zip from incognito and bloop reports with additional information about build targets.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=clean-and-restart-build-server>Clean and restart build server<a href=#clean-and-restart-build-server class=hash-link aria-label="Direct link to Clean and restart build server" title="Direct link to Clean and restart build server" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"reset-workspace"</code></p>
<p><strong>Arguments</strong>: [boolean], force the reset without asking the user</p>
<p>Clean metals cache and restart build server.</p>
<p>When using Bloop, clears all directories in .bloop.
This will ensure that Bloop will have a fully reset state.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=show-error-reports-for-a-specific-build-target>Show error reports for a specific build target.<a href=#show-error-reports-for-a-specific-build-target class=hash-link aria-label="Direct link to Show error reports for a specific build target." title="Direct link to Show error reports for a specific build target." translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"show-reports-for-build-target"</code></p>
<p><strong>Arguments</strong>: [string], the build target for which to show the error reports.</p>
<p>Show error reports for a specific build target.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=metals-client-commands>Metals client commands<a href=#metals-client-commands class=hash-link aria-label="Direct link to Metals client commands" title="Direct link to Metals client commands" translate=no>â€‹</a></h2>
<p>The Metals server can send one of the following client commands if the client
supports the <code>metals/executeClientCommand</code> notification,</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=open-a-specified-folder-either-in-the-same-or-new-window>Open a specified folder either in the same or new window<a href=#open-a-specified-folder-either-in-the-same-or-new-window class=hash-link aria-label="Direct link to Open a specified folder either in the same or new window" title="Direct link to Open a specified folder either in the same or new window" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"metals-open-folder"</code></p>
<p><strong>Arguments</strong>: An object with <code>uri</code> and <code>newWindow</code> fields.
Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "uri": "file://path/to/directory",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "newWindow": true</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>Open a new window with the specified directory.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=run-doctor-1>Run doctor<a href=#run-doctor-1 class=hash-link aria-label="Direct link to Run doctor" title="Direct link to Run doctor" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"metals-doctor-run"</code></p>
<p><strong>Arguments</strong>: <code>string</code>, the HTML to display in the focused window.</p>
<p>Focus on a window displaying troubleshooting help from the Metals doctor.</p>
<p>If <code>doctorProvider</code> is set to <code>"json"</code> then the schema is as follows:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">export interface DoctorOutput {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Metals Doctor title */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  title: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Version of the doctor json format, 0 if empty</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   * The latest version is: 6</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  version: String;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   * Contains metals version and jdk info and a brief information about understanding</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   * the Doctor placed in here as well. (since version 3 (replaces headerText))</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   header: DoctorHeader;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   /**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   * Troubleshooting help for each workspace folder.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   folders: DoctorFolderResult[];</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span></code></pre></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">export interface DoctorFolderResult {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   /**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   * Contains decisions that were made about what build tool or build server</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   * the user has chosen.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   header: DoctorFolderHeader</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   /**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    * If build targets are detected in your workspace, they will be listed here with</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    * the status of related functionality of Metals for each build target.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   targets?: DoctorBuildTarget[];</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   /** Messages given if build targets cannot be found */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   messages?: DoctorRecommendation[];</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   /** Explanations for the various statuses present in the doctor */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   explanations?: DoctorExplanation[];</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   /** Error reports reported from Metals */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   errorReports: ErrorReportInfo[];</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">export interface DoctorHeader {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** java version and location information */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  jdkInfo?: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** the version of the server that is being used */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  serverInfo: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** small description on what a build target is */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  buildTargetDescription: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">export interface DoctorFolderHeader {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** information about java used for project */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  projectsJavaInfo?: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** if Metals detected multiple build tools, this specifies the one the user has chosen */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  buildTool?: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** the build server that is being used */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  buildServer: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** if the user has turned the import prompt off, this will include a message on</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   *  how to get it back.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  importBuildStatus?: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">export interface DoctorBuildTarget {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Name of the build target */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  buildTarget: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Status of compilation for build this build target (since version 2) */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  compilationStatus: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Can contain Scala version, sbt version or Java */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  targetType: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Status of diagnostics */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  diagnostics: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Status of completions, hovers and other interactive features*/</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  interactive: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Status of semanticdb indexes */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  semanticdb: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Status of debugging */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  debugging: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Status of java support */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  java: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Any recommendations in how to fix any issues that are found above */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  recommendation: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">export interface DoctorRecommendation {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Title of the recommendation */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  title: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Recommendations related to the found issue. */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  recommendations: string[]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">export interface DoctorExplanation {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Title of the explanation */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  title: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Explanations of statuses that can be found in the doctor  */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  recommendations: string[]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">export interface ErrorReportInfo {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Display name of the error */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  name: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Timestamp of the report creation date */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  timestamp: number;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Error report file uri */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  uri: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Build target that the error is associated with */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  buildTarget?: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** Short error summary */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  shortSummary: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  /** The type of error -- This can be metals, metals-full, or bloop currently */</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  errorReportType: string;</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=reload-doctor>Reload doctor<a href=#reload-doctor class=hash-link aria-label="Direct link to Reload doctor" title="Direct link to Reload doctor" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"metals-doctor-reload"</code></p>
<p><strong>Arguments</strong>: <code>string</code>, the HTML to display in the focused window.</p>
<p>Reload the HTML contents of an open Doctor window, if any. Should be ignored if there is no open doctor window.
If <code>doctorProvider</code> is set to <code>"json"</code>, then the schema is the same as found above in <code>"metals-run-doctor"</code></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=toggle-logs>Toggle logs<a href=#toggle-logs class=hash-link aria-label="Direct link to Toggle logs" title="Direct link to Toggle logs" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"metals-logs-toggle"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Focus or remove focus on the output logs reported by the server via <code>window/logMessage</code>.</p>
<p>In VS Code, this opens the "output" channel for the Metals extension.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=open-problems>Open problems<a href=#open-problems class=hash-link aria-label="Direct link to Open problems" title="Direct link to Open problems" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"metals-diagnostics-focus"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Focus on the window that lists all published diagnostics.</p>
<p>In VS Code, this opens the "problems" window.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=goto-location>Goto location<a href=#goto-location class=hash-link aria-label="Direct link to Goto location" title="Direct link to Goto location" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"metals-goto-location"</code></p>
<p><strong>Arguments</strong>: First required parameter is LSP <code>Location</code> object with <code>uri</code> and <code>range</code> fields.
Second parameter is optional and has signature <code>otherWindow: Boolean</code>.
It gives a hint to client that if possible it would be good to open location in
another buffer/window.
Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">[{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "uri": "file://path/to/Definition.scala",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "range": {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "start": {"line": 194, "character": 0},</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    "end":   {"line": 194, "character": 1}</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  },</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "otherWindow" : true</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">},</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">]</span><br/></span></code></pre></div></div>
<p>Move the cursor focus to the provided location</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=echo-command>Echo command<a href=#echo-command class=hash-link aria-label="Direct link to Echo command" title="Direct link to Echo command" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"metals-echo-command"</code></p>
<p><strong>Arguments</strong>: <code>string</code>, the command ID to execute on the client.</p>
<p>A client command that should be forwarded back to the Metals server.</p>
<p>Metals may register commands in client UIs like tree view nodes that should be
forwarded back to the Metals server if the client clicks on the UI elements.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=refresh-model>Refresh model<a href=#refresh-model class=hash-link aria-label="Direct link to Refresh model" title="Direct link to Refresh model" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"metals-model-refresh"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p><strong>Note</strong>: This request is deprecated and Metals will favor <a href=https://microsoft.github.io/language-server-protocol/specifications/specification-3-16/#codeLens_refresh target=_blank rel="noopener noreferrer" class="">Code Lens Refresh Request</a> if supported by the client.</p>
<p>Notifies the client that the model has been updated and it
should be refreshed (e.g. by resending code lens request)</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=show-the-stacktrace-in-the-client>Show the stacktrace in the client.<a href=#show-the-stacktrace-in-the-client class=hash-link aria-label="Direct link to Show the stacktrace in the client." title="Direct link to Show the stacktrace in the client." translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"metals-show-stacktrace"</code></p>
<p><strong>Arguments</strong>: [string], the markdown representation of the stacktrace</p>
<p>Show the stacktrace modified with links to specific files.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=copy-worksheet-output-1>Copy Worksheet Output<a href=#copy-worksheet-output-1 class=hash-link aria-label="Direct link to Copy Worksheet Output" title="Direct link to Copy Worksheet Output" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"metals.copy-worksheet-output"</code></p>
<p><strong>Arguments</strong>: [uri], the uri of the worksheet that you'd like to copy the contents of.</p>
<p>Copy the contents of a worksheet to your local buffer.</p>
<p>Note: This command should execute the copy-worksheet-output
server command to get the output to copy into the buffer.</p>
<p>Server will attempt to create code lens with this command if <code>copyWorksheetOutputProvider</code> option is set.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=start-run-session>Start run session<a href=#start-run-session class=hash-link aria-label="Direct link to Start run session" title="Direct link to Start run session" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"metals-run-session-start"</code></p>
<p><strong>Arguments</strong>: DebugSessionParameters object. It should be forwarded
to the debug-adapter-start command as is.</p>
<p>Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "targets": ["mybuild://workspace/foo/?id=foo"],</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   dataKind: "scala-main-class",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   data: {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      className: "com.foo.App"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>Starts a run session. The address of a new Debug Adapter can be obtained
by using the debug-adapter-start metals server command
with the same arguments as provided to this command.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=start-debug-session>Start debug session<a href=#start-debug-session class=hash-link aria-label="Direct link to Start debug session" title="Direct link to Start debug session" translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"metals-debug-session-start"</code></p>
<p><strong>Arguments</strong>: DebugSessionParameters object. It should be forwarded
to the debug-adapter-start command as is.</p>
<p>Example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">{</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  "targets": ["mybuild://workspace/foo/?id=foo"],</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   dataKind: "scala-main-class",</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   data: {</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">      className: "com.foo.App"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">   }</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">}</span><br/></span></code></pre></div></div>
<p>Starts a debug session. The address of a new Debug Adapter can be obtained
by using the debug-adapter-start metals server command
with the same arguments as provided to this command.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=connect-to-build-server-1>Connect to build server.<a href=#connect-to-build-server-1 class=hash-link aria-label="Direct link to Connect to build server." title="Direct link to Connect to build server." translate=no>â€‹</a></h3>
<p><strong>Command</strong>: <code>"metals-build-connect"</code></p>
<p><strong>Arguments</strong>: <code>null</code></p>
<p>Establish a new connection to the build server and reindex the workspace.</p>
<p>This command can be helpful in scenarios when Metals feels unresponsive, for example
when reopening Metals after the computer it has been sleeping.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=metals-http-client>Metals HTTP client<a href=#metals-http-client class=hash-link aria-label="Direct link to Metals HTTP client" title="Direct link to Metals HTTP client" translate=no>â€‹</a></h2>
<p>Metals has an optional web interface that can be used to trigger server commands
and respond to server requests. This interface is not intended for regular
users, it exists only to help editor plugin authors integrate with Metals.</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/new-editor/t5RJ3q6.png?raw=true" alt="Metals http client" class=img_ev3q /></p>
<p>The server is enabled by passing the <code>-Dmetals.http=on</code> system property. The
server runs by default at <a href=http://localhost:5031/ target=_blank rel="noopener noreferrer" class=""><code>http://localhost:5031</code></a>.
When the port 5031 is taken the next free increment is chosen instead (5032,
5033, ...).</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=metals-lsp-extensions>Metals LSP extensions<a href=#metals-lsp-extensions class=hash-link aria-label="Direct link to Metals LSP extensions" title="Direct link to Metals LSP extensions" translate=no>â€‹</a></h2>
<p>Editor clients can opt into receiving Metals-specific JSON-RPC requests and
notifications. Metals extensions are not defined in LSP and are not strictly
required for the Metals server to function but it is recommended to implement
them to improve the user experience.</p>
<p>To enable Metals extensions, start the main process with the system property
<code>-Dmetals.extensions=true</code>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=debug-adapter-protocol>Debug Adapter Protocol<a href=#debug-adapter-protocol class=hash-link aria-label="Direct link to Debug Adapter Protocol" title="Direct link to Debug Adapter Protocol" translate=no>â€‹</a></h3>
<p>Metals implements and additional protocol for running and debugging inside the
editor, see the
<a class="" href=/metals/docs/integrations/debug-adapter-protocol>Debug Adapter Protocol</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=tree-view-protocol>Tree View Protocol<a href=#tree-view-protocol class=hash-link aria-label="Direct link to Tree View Protocol" title="Direct link to Tree View Protocol" translate=no>â€‹</a></h3>
<p>Metals implements several custom JSON-RPC endpoints related to rendering tree
views in the editor client, the
<a class="" href=/metals/docs/integrations/tree-view-protocol>Tree View Protocol</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=metalsstatus><code>metals/status</code><a href=#metalsstatus class=hash-link aria-label="Direct link to metalsstatus" title="Direct link to metalsstatus" translate=no>â€‹</a></h3>
<p>The Metals status notification is sent from the server to the client to notify
about non-critical and non-actionable events that are happening in the server.
Metals status notifications are a complement to <code>window/showMessage</code> and
<code>window/logMessage</code>. Unlike <code>window/logMessage</code>, status notifications should
always be visible in the user interface. Unlike <code>window/showMessage</code>, status
notifications are not critical meaning that they should not demand too much
attention from the user.</p>
<p>In general, Metals uses status notifications to update the user about ongoing
events in the server such as batch compilation in the build server or when a
successful connection was established with the build server.</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/new-editor/XX9CLRH.gif?raw=true" alt="Metals status bar" class=img_ev3q /></p>
<p>The "ðŸš€ Imported build" and "ðŸ”„ Compiling explorer" messages at the bottom of
the window are <code>metals/status</code> notifications.</p>
<p><em>Notification</em>:</p>
<ul>
<li class="">method: <code>metals/status</code></li>
<li class="">params: <code>MetalsStatusParams</code> defined as follows:</li>
</ul>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MetalsStatusParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/** The text to display in the status bar. */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  text</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/** If true, show the status bar. */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  show</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/** If true, hide the status bar. */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  hide</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/** If set, display this message when user hovers over the status bar. */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  tooltip</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/** If set, execute this command when the user clicks on the status bar item. */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  command</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=metalsdidfocustextdocument><code>metals/didFocusTextDocument</code><a href=#metalsdidfocustextdocument class=hash-link aria-label="Direct link to metalsdidfocustextdocument" title="Direct link to metalsdidfocustextdocument" translate=no>â€‹</a></h3>
<p>The Metals did focus notification is sent from the client to the server when the
editor changes focus to a new text document. Unlike <code>textDocument/didOpen</code>, the
did focus notification is sent even when the text document is already open.</p>
<p><img decoding=async loading=lazy src="https://github.com/scalameta/gh-pages-images/blob/master/metals/new-editor/XjTtAZK.gif?raw=true" alt="Metals did focus" class=img_ev3q /></p>
<p>Observe that the compilation error appears as soon as <code>UserTest.scala</code> is
focused even if the text document was already open before. The LSP
<code>textDocument/didOpen</code> notification is only sent the first time a document so it
is not possible for the language server to re-trigger compilation when moves
focus back to <code>UserTest.scala</code> that depends on APIs defined in <code>User.scala</code>.</p>
<p><em>Notification</em>:</p>
<ul>
<li class="">method: <code>metals/didFocusTextDocument</code></li>
<li class="">params: <code>string</code>, the URI of the document where the focused was moved to.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=metalsexecuteclientcommand><code>metals/executeClientCommand</code><a href=#metalsexecuteclientcommand class=hash-link aria-label="Direct link to metalsexecuteclientcommand" title="Direct link to metalsexecuteclientcommand" translate=no>â€‹</a></h3>
<p>The Metals execute client command is sent from the server to the client to
trigger an action inside the editor. This notification is a copy of the
<code>workspace/executeCommand</code> except</p>
<ul>
<li class="">execute client command is a notification, not a request</li>
<li class="">execute client command is initiated from the server, not the client</li>
</ul>
<p>See <a href=https://scalameta.org/metals/docs/integrations/new-editor#metals-client-commands target=_blank rel="noopener noreferrer" class="">Metals client
commands</a>
for the list of supported client commands.</p>
<p><em>Notification</em>:</p>
<ul>
<li class="">method: <code>metals/executeClientCommand</code></li>
<li class="">params: <code>ExecuteCommandParams</code>, as defined in LSP.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=metalsinputbox><code>metals/inputBox</code><a href=#metalsinputbox class=hash-link aria-label="Direct link to metalsinputbox" title="Direct link to metalsinputbox" translate=no>â€‹</a></h3>
<p>The Metals input box request is sent from the server to the client to let the
user provide a string value for a given prompt. Unlike
<code>window/showMessageRequest</code>, the <code>metals/inputBox</code> request allows the user to
provide a custom response instead of picking a pre-selected value.</p>
<p><em>Request</em>:</p>
<ul>
<li class="">method: <code>metals/inputBox</code></li>
<li class="">params: <code>MetalsInputBoxParams</code> defined as follows. Note, matches
<a href=https://code.visualstudio.com/api/references/vscode-api#InputBoxOptions target=_blank rel="noopener noreferrer" class=""><code>InputBoxOptions</code></a>
in the Visual Studio Code API:</li>
</ul>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>export</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MetalsInputBoxParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * The value to prefill in the input box.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  value</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * The text to display underneath the input box.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  prompt</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * An optional string to show as place holder in the input box to guide the user what to type.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  placeHolder</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * Set to `true` to show a password prompt that will not show the typed value.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  password</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * Set to `true` to keep the input box open when focus moves to another part of the editor or to another window.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  ignoreFocusOut</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br/></span></code></pre></div></div>
<ul>
<li class="">result: <code>MetalsInputBoxResult</code> defined as follows:</li>
</ul>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>export</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MetalsInputBoxResult</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  value</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  cancelled</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=metalsquickpick><code>metals/quickPick</code><a href=#metalsquickpick class=hash-link aria-label="Direct link to metalsquickpick" title="Direct link to metalsquickpick" translate=no>â€‹</a></h3>
<p>The Metals quick pick request is sent from the server to the client to let the
user provide a string value by picking one out of a number of given options. It
is similar to <code>window/showMessageRequest</code>, but the <code>metals/quickPick</code> request
has richer parameters, that can be used to filter items to pick, like
<code>description</code> and <code>detail</code>.</p>
<p><em>Request</em>:</p>
<ul>
<li class="">method: <code>metals/quickPick</code></li>
<li class="">params: <code>MetalsQuickInputParams</code> defined as follows. It partially matches
<a href=https://code.visualstudio.com/api/references/vscode-api#QuickPickOptions target=_blank rel="noopener noreferrer" class=""><code>QuickPickOptions</code></a>
in the Visual Studio Code API, but it also contains <code>items</code> of
<a href=https://code.visualstudio.com/api/references/vscode-api#QuickPickItem target=_blank rel="noopener noreferrer" class=""><code>MetalsQuickPickItem</code></a>,
which, in it's turn, partially matches <code>QuickPickItem</code>, but these interfaces
do not contain options for picking many items:</li>
</ul>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>export</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MetalsQuickPickParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * An array of items that can be selected from.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  items</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> MetalsQuickPickItem</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * An optional flag to include the description when filtering the picks.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  matchOnDescription</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * An optional flag to include the detail when filtering the picks.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  matchOnDetail</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * An optional string to show as place holder in the input box to guide the user what to pick on.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  placeHolder</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * Set to `true` to keep the picker open when focus moves to another part of the editor or to another window.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  ignoreFocusOut</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>export</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MetalsQuickPickItem</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * An id for this items that should be return as a result of the picking.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * A human readable string which is rendered prominent.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  label</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * A human readable string which is rendered less prominent.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  description</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * A human readable string which is rendered less prominent.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  detail</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   * Always show this item.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  alwaysShow</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br/></span></code></pre></div></div>
<ul>
<li class="">result: <code>MetalsQuickPickResult</code> defined as follows:</li>
</ul>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>export</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MetalsQuickPickResult</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  itemId</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  cancelled</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=metalsopenwindow><code>metals/openWindow</code><a href=#metalsopenwindow class=hash-link aria-label="Direct link to metalsopenwindow" title="Direct link to metalsopenwindow" translate=no>â€‹</a></h3>
<p>The <code>metals/openWindow</code> params are used with the New Scala Project
functionality. After the new project has been created, if the editor has the
ability to open the project in a new window then these params are used with the
<code>metals-open-folder</code> command.</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MetalsOpenWindowParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/** Location of the newly created project. */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  uri</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/** Whether or not to open the project in a new window. */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  openNewWindow</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=metalsfindtextindependencyjars><code>metals/findTextInDependencyJars</code><a href=#metalsfindtextindependencyjars class=hash-link aria-label="Direct link to metalsfindtextindependencyjars" title="Direct link to metalsfindtextindependencyjars" translate=no>â€‹</a></h3>
<p>The <code>FindTextInDependencyJars</code> request is sent from the client to the server to perform a search though files in the classpath
including binary and sources jars. In response it returns a standard list of <code>Location</code> from the <a href=https://microsoft.github.io/language-server-protocol/specification#location target=_blank rel="noopener noreferrer" class="">LSP spec</a>.</p>
<p>In case if this endpoint was called with empty <code>query.pattern</code> or empty <code>options.include</code> server sends <a href=https://scalameta.org/metals/docs/integrations/new-editor#metalsinputbox target=_blank rel="noopener noreferrer" class=""><code>metals/inputBox</code></a>
request to the client to obtain these values.</p>
<p><em>Request</em>:</p>
<ul>
<li class="">method: <code>metals/findTextInDependecyJars</code></li>
<li class="">params: <code>FindTextInDependencyJarsRequest</code> defined as follows.</li>
</ul>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic"> * Currenly, only `pattern` field is used for search.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic"> * See: https://github.com/scalameta/metals/issues/3234</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic"> */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">TextSearchQuery</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">		 * The text pattern to search for.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">		 */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    pattern</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">		 * Whether or not `pattern` should be interpreted as a regular expression.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">		 */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    isRegExp</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">		 * Whether or not the search should be case-sensitive.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">		 */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    isCaseSensitive</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">		 * Whether or not to search for whole word matches only.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">		 */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    isWordMatch</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FindTextInFilesOptions</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/** Include file filter. Example: `*.conf` */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    include</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token doc-comment comment" style="color:rgb(105, 112, 152);font-style:italic">/** Exclude file filter. Example: `*.conf` */</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    exclude</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FindTextInDependencyJarsRequest</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    options</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> FindTextInFilesOptions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    query</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> TextSearchQuery</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br/></span></code></pre></div></div>
<p><em>Response</em>:</p>
<ul>
<li class="">result: <code>Location[]</code></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=metalsdoctorvisibilitydidchange><code>metals/doctorVisibilityDidChange</code><a href=#metalsdoctorvisibilitydidchange class=hash-link aria-label="Direct link to metalsdoctorvisibilitydidchange" title="Direct link to metalsdoctorvisibilitydidchange" translate=no>â€‹</a></h3>
<p>When the client opens the doctor view, it will send in <code>visible: true</code> to the
server and then <code>visible: false</code> when the doctor view is closed. This will
ensure that the doctor checks aren't calculated on the server side when they
aren't needed to since they won't be seen by the client anyways.</p>
<p><em>Notification</em>:</p>
<ul>
<li class="">method: <code>metals/doctorVisibilityDidChange</code></li>
<li class="">params: <code>DoctorVisibilityDidChangeParams</code></li>
</ul>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">DoctorVisibilityDidChangeParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  visible</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br/></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href=https://github.com/scalameta/metals/edit/main/docs/integrations/new-editor.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/metals/docs/integrations/new-build-tool><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Integrating a new build tool</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/metals/docs/integrations/test-explorer><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Test Explorer</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#requirements class="table-of-contents__link toc-highlight">Requirements</a><li><a href=#starting-the-server class="table-of-contents__link toc-highlight">Starting the server</a><li><a href=#configuring-the-server class="table-of-contents__link toc-highlight">Configuring the server</a><li><a href=#language-server-protocol class="table-of-contents__link toc-highlight">Language Server Protocol</a><ul><li><a href=#initialize class="table-of-contents__link toc-highlight"><code>initialize</code></a><li><a href=#initialized class="table-of-contents__link toc-highlight"><code>initialized</code></a><li><a href=#shutdown class="table-of-contents__link toc-highlight"><code>shutdown</code></a><li><a href=#exit class="table-of-contents__link toc-highlight"><code>exit</code></a><li><a href=#clientregistercapability class="table-of-contents__link toc-highlight"><code>client/registerCapability</code></a><li><a href=#textdocumentdidopen class="table-of-contents__link toc-highlight"><code>textDocument/didOpen</code></a><li><a href=#textdocumentdidchange class="table-of-contents__link toc-highlight"><code>textDocument/didChange</code></a><li><a href=#textdocumentdidclose class="table-of-contents__link toc-highlight"><code>textDocument/didClose</code></a><li><a href=#textdocumentdidsave class="table-of-contents__link toc-highlight"><code>textDocument/didSave</code></a><li><a href=#textdocumentpublishdiagnostics class="table-of-contents__link toc-highlight"><code>textDocument/publishDiagnostics</code></a><li><a href=#textdocumentdefinition class="table-of-contents__link toc-highlight"><code>textDocument/definition</code></a><li><a href=#textdocumentreferences class="table-of-contents__link toc-highlight"><code>textDocument/references</code></a><li><a href=#textdocumentdocumentsymbol class="table-of-contents__link toc-highlight"><code>textDocument/documentSymbol</code></a><li><a href=#textdocumentformatting class="table-of-contents__link toc-highlight"><code>textDocument/formatting</code></a><li><a href=#textdocumenthover class="table-of-contents__link toc-highlight"><code>textDocument/hover</code></a><li><a href=#workspacedidchangewatchedfiles class="table-of-contents__link toc-highlight"><code>workspace/didChangeWatchedFiles</code></a><li><a href=#workspaceexecutecommands class="table-of-contents__link toc-highlight"><code>workspace/executeCommands</code></a><li><a href=#workspacedidchangeconfiguration class="table-of-contents__link toc-highlight"><code>workspace/didChangeConfiguration</code></a><li><a href=#windowlogmessage class="table-of-contents__link toc-highlight"><code>window/logMessage</code></a><li><a href=#windowshowmessage class="table-of-contents__link toc-highlight"><code>window/showMessage</code></a><li><a href=#windowshowmessagerequest class="table-of-contents__link toc-highlight"><code>window/showMessageRequest</code></a></ul><li><a href=#metals-server-properties class="table-of-contents__link toc-highlight">Metals server properties</a><ul><li><a href=#-dmetalsverbose class="table-of-contents__link toc-highlight"><code>-Dmetals.verbose</code></a><li><a href=#-dmetalsstatistics class="table-of-contents__link toc-highlight"><code>-Dmetals.statistics</code></a><li><a href=#-dmetalsh2auto-server class="table-of-contents__link toc-highlight"><code>-Dmetals.h2.auto-server</code></a><li><a href=#-dmetalspcdebug class="table-of-contents__link toc-highlight"><code>-Dmetals.pc.debug</code></a><li><a href=#-dbloopsbtversion class="table-of-contents__link toc-highlight"><code>-Dbloop.sbt.version</code></a><li><a href=#-dmetalsbloop-port class="table-of-contents__link toc-highlight"><code>-Dmetals.bloop-port</code></a></ul><li><a href=#metals-user-configuration class="table-of-contents__link toc-highlight">Metals user configuration</a><ul><li><a href=#java-home-directory class="table-of-contents__link toc-highlight">Java Home directory</a><li><a href=#sbt-script class="table-of-contents__link toc-highlight">sbt script</a><li><a href=#gradle-script class="table-of-contents__link toc-highlight">Gradle script</a><li><a href=#maven-script class="table-of-contents__link toc-highlight">Maven script</a><li><a href=#mill-script class="table-of-contents__link toc-highlight">Mill script</a><li><a href=#scalafmt-config-path class="table-of-contents__link toc-highlight">Scalafmt config path</a><li><a href=#scalafix-config-path class="table-of-contents__link toc-highlight">Scalafix config path</a><li><a href=#excluded-packages class="table-of-contents__link toc-highlight">Excluded Packages</a><li><a href=#dont-generate-bloop-plugin-file-for-sbt class="table-of-contents__link toc-highlight">Don't generate Bloop plugin file for sbt</a><li><a href=#version-of-bloop class="table-of-contents__link toc-highlight">Version of Bloop</a><li><a href=#bloop-jvm-properties class="table-of-contents__link toc-highlight">Bloop JVM Properties</a><li><a href=#should-display-lenses-with-links-to-super-methods class="table-of-contents__link toc-highlight">Should display lenses with links to super methods</a><li><a href=#should-display-type-annotations-for-inferred-types class="table-of-contents__link toc-highlight">Should display type annotations for inferred types</a><li><a href=#should-display-parameter-names-next-to-arguments class="table-of-contents__link toc-highlight">Should display parameter names next to arguments</a><li><a href=#should-display-if-a-parameter-is-by-name-at-usage-sites class="table-of-contents__link toc-highlight">Should display if a parameter is by-name at usage sites</a><li><a href=#should-display-implicit-parameter-at-usage-sites class="table-of-contents__link toc-highlight">Should display implicit parameter at usage sites</a><li><a href=#should-display-implicit-conversion-at-usage-sites class="table-of-contents__link toc-highlight">Should display implicit conversion at usage sites</a><li><a href=#should-display-type-annotations-for-type-parameters class="table-of-contents__link toc-highlight">Should display type annotations for type parameters</a><li><a href=#should-display-type-annotations-in-pattern-matches class="table-of-contents__link toc-highlight">Should display type annotations in pattern matches</a><li><a href=#should-display-type-annotations-for-intermediate-types-of-multi-line-expressions class="table-of-contents__link toc-highlight">Should display type annotations for intermediate types of multi-line expressions</a><li><a href=#should-display-closing-label-hints-for-methodsclassesobjects-next-to-their-closing-braces class="table-of-contents__link toc-highlight">Should display closing label hints for methods/classes/objects next to their closing braces</a><li><a href=#use-semantic-tokens-highlight class="table-of-contents__link toc-highlight">Use semantic tokens highlight</a><li><a href=#indent-snippets-when-pasted class="table-of-contents__link toc-highlight">Indent snippets when pasted.</a><li><a href=#default-fallback-scala-version class="table-of-contents__link toc-highlight">Default fallback Scala version</a><li><a href=#test-ui-used-for-tests-and-test-suites class="table-of-contents__link toc-highlight">Test UI used for tests and test suites</a><li><a href=#eclipse-java-formatter-config-path class="table-of-contents__link toc-highlight">Eclipse Java formatter config path</a><li><a href=#eclipse-java-formatting-profile class="table-of-contents__link toc-highlight">Eclipse Java formatting profile</a><li><a href=#scala-cli-launcher class="table-of-contents__link toc-highlight">Scala CLI launcher</a><li><a href=#custom-project-root class="table-of-contents__link toc-highlight">Custom project root</a><li><a href=#show-all-compilation-debugging-information class="table-of-contents__link toc-highlight">Show all compilation debugging information</a><li><a href=#import-build-when-changes-detected-without-prompting class="table-of-contents__link toc-highlight">Import build when changes detected without prompting</a><li><a href=#preferred-build-tool-when-multiple-are-detected class="table-of-contents__link toc-highlight">Preferred build tool when multiple are detected</a><li><a href=#default-to-using-build-tool-as-your-build-server class="table-of-contents__link toc-highlight">Default to using build tool as your build server.</a><li><a href=#use-best-effort-compilation-for-scala-3 class="table-of-contents__link toc-highlight">Use best effort compilation for Scala 3.</a><li><a href=#full-path-to-the-shell-executable-to-be-used-as-the-default class="table-of-contents__link toc-highlight">Full path to the shell executable to be used as the default</a><li><a href=#start-mcp-server class="table-of-contents__link toc-highlight">Start MCP server</a><li><a href=#mcp-client-name class="table-of-contents__link toc-highlight">MCP Client Name</a></ul><li><a href=#metals-server-commands class="table-of-contents__link toc-highlight">Metals server commands</a><ul><li><a href=#analyze-stacktrace class="table-of-contents__link toc-highlight">Analyze stacktrace</a><li><a href=#resolve-stacktrace-location class="table-of-contents__link toc-highlight">Resolve stacktrace location</a><li><a href=#switch-build-server class="table-of-contents__link toc-highlight">Switch build server</a><li><a href=#handle-module-status-bar-click class="table-of-contents__link toc-highlight">Handle module status bar click</a><li><a href=#connect-to-build-server class="table-of-contents__link toc-highlight">Connect to build server</a><li><a href=#cancel-compilation class="table-of-contents__link toc-highlight">Cancel compilation</a><li><a href=#cascade-compile class="table-of-contents__link toc-highlight">Cascade compile</a><li><a href=#clean-compile class="table-of-contents__link toc-highlight">Clean compile</a><li><a href=#compiletarget class="table-of-contents__link toc-highlight">CompileTarget</a><li><a href=#copy-worksheet-output class="table-of-contents__link toc-highlight">Copy Worksheet Output</a><li><a href=#copy-fully-qualified-name-of-symbol class="table-of-contents__link toc-highlight">Copy fully qualified name of symbol</a><li><a href=#discover-main-classes-to-run-and-return-the-object class="table-of-contents__link toc-highlight">Discover main classes to run and return the object</a><li><a href=#discover-tests class="table-of-contents__link toc-highlight">Discover tests</a><li><a href=#extract-member-definition class="table-of-contents__link toc-highlight">Extract member definition</a><li><a href=#generate-bsp-config class="table-of-contents__link toc-highlight">Generate BSP Config</a><li><a href=#goto-location-for-position class="table-of-contents__link toc-highlight">Goto location for position</a><li><a href=#go-to-super-methodfield-definition class="table-of-contents__link toc-highlight">Go to super method/field definition</a><li><a href=#goto-location-for-symbol class="table-of-contents__link toc-highlight">Goto location for symbol</a><li><a href=#import-build class="table-of-contents__link toc-highlight">Import build</a><li><a href=#insert-inferred-type-of-a-value class="table-of-contents__link toc-highlight">Insert inferred type of a value</a><li><a href=#insert-inferred-method class="table-of-contents__link toc-highlight">Insert inferred method</a><li><a href=#inline-value class="table-of-contents__link toc-highlight">Inline value</a><li><a href=#create-new-scala-file class="table-of-contents__link toc-highlight">Create new scala file</a><li><a href=#create-new-java-file class="table-of-contents__link toc-highlight">Create new java file</a><li><a href=#new-scala-project class="table-of-contents__link toc-highlight">New Scala Project</a><li><a href=#restart-presentation-compiler class="table-of-contents__link toc-highlight">Restart presentation compiler</a><li><a href=#reset-choice-popup class="table-of-contents__link toc-highlight">Reset Choice Popup</a><li><a href=#reset-notifications class="table-of-contents__link toc-highlight">Reset notifications</a><li><a href=#restart-build-server class="table-of-contents__link toc-highlight">Restart build server</a><li><a href=#run-doctor class="table-of-contents__link toc-highlight">Run doctor</a><li><a href=#run-all-scalafix-rules class="table-of-contents__link toc-highlight">Run all Scalafix Rules</a><li><a href=#run-a-set-of-scalafix-rules class="table-of-contents__link toc-highlight">Run a set of Scalafix Rules</a><li><a href=#decode-file class="table-of-contents__link toc-highlight">Decode file</a><li><a href=#disconnect-from-old-build-server class="table-of-contents__link toc-highlight">Disconnect from old build server</a><li><a href=#list-build-targets class="table-of-contents__link toc-highlight">List build targets</a><li><a href=#scan-sources class="table-of-contents__link toc-highlight">Scan sources</a><li><a href=#start-debug-adapter class="table-of-contents__link toc-highlight">Start debug adapter</a><li><a href=#start-main-class class="table-of-contents__link toc-highlight">Start main class</a><li><a href=#start-test-suite class="table-of-contents__link toc-highlight">Start test suite</a><li><a href=#start-test-suite-1 class="table-of-contents__link toc-highlight">Start test suite</a><li><a href=#attach-to-a-running-jvm-process class="table-of-contents__link toc-highlight">Attach to a running jvm process</a><li><a href=#try-to-discover-a-test-or-main-to-run class="table-of-contents__link toc-highlight">Try to discover a test or main to run.</a><li><a href=#go-to-super-methodfield-definition-in-hierarchy class="table-of-contents__link toc-highlight">Go to super method/field definition in hierarchy</a><li><a href=#start-scala-cli-server class="table-of-contents__link toc-highlight">Start Scala CLI server</a><li><a href=#stop-scala-cli-server class="table-of-contents__link toc-highlight">Stop Scala CLI server</a><li><a href=#open-an-issue-on-github class="table-of-contents__link toc-highlight">Open an issue on GitHub</a><li><a href=#open-a-feature-request class="table-of-contents__link toc-highlight">Open a feature request</a><li><a href=#create-a-zip-with-error-reports class="table-of-contents__link toc-highlight">Create a zip with error reports</a><li><a href=#clean-and-restart-build-server class="table-of-contents__link toc-highlight">Clean and restart build server</a><li><a href=#show-error-reports-for-a-specific-build-target class="table-of-contents__link toc-highlight">Show error reports for a specific build target.</a></ul><li><a href=#metals-client-commands class="table-of-contents__link toc-highlight">Metals client commands</a><ul><li><a href=#open-a-specified-folder-either-in-the-same-or-new-window class="table-of-contents__link toc-highlight">Open a specified folder either in the same or new window</a><li><a href=#run-doctor-1 class="table-of-contents__link toc-highlight">Run doctor</a><li><a href=#reload-doctor class="table-of-contents__link toc-highlight">Reload doctor</a><li><a href=#toggle-logs class="table-of-contents__link toc-highlight">Toggle logs</a><li><a href=#open-problems class="table-of-contents__link toc-highlight">Open problems</a><li><a href=#goto-location class="table-of-contents__link toc-highlight">Goto location</a><li><a href=#echo-command class="table-of-contents__link toc-highlight">Echo command</a><li><a href=#refresh-model class="table-of-contents__link toc-highlight">Refresh model</a><li><a href=#show-the-stacktrace-in-the-client class="table-of-contents__link toc-highlight">Show the stacktrace in the client.</a><li><a href=#copy-worksheet-output-1 class="table-of-contents__link toc-highlight">Copy Worksheet Output</a><li><a href=#start-run-session class="table-of-contents__link toc-highlight">Start run session</a><li><a href=#start-debug-session class="table-of-contents__link toc-highlight">Start debug session</a><li><a href=#connect-to-build-server-1 class="table-of-contents__link toc-highlight">Connect to build server.</a></ul><li><a href=#metals-http-client class="table-of-contents__link toc-highlight">Metals HTTP client</a><li><a href=#metals-lsp-extensions class="table-of-contents__link toc-highlight">Metals LSP extensions</a><ul><li><a href=#debug-adapter-protocol class="table-of-contents__link toc-highlight">Debug Adapter Protocol</a><li><a href=#tree-view-protocol class="table-of-contents__link toc-highlight">Tree View Protocol</a><li><a href=#metalsstatus class="table-of-contents__link toc-highlight"><code>metals/status</code></a><li><a href=#metalsdidfocustextdocument class="table-of-contents__link toc-highlight"><code>metals/didFocusTextDocument</code></a><li><a href=#metalsexecuteclientcommand class="table-of-contents__link toc-highlight"><code>metals/executeClientCommand</code></a><li><a href=#metalsinputbox class="table-of-contents__link toc-highlight"><code>metals/inputBox</code></a><li><a href=#metalsquickpick class="table-of-contents__link toc-highlight"><code>metals/quickPick</code></a><li><a href=#metalsopenwindow class="table-of-contents__link toc-highlight"><code>metals/openWindow</code></a><li><a href=#metalsfindtextindependencyjars class="table-of-contents__link toc-highlight"><code>metals/findTextInDependencyJars</code></a><li><a href=#metalsdoctorvisibilitydidchange class="table-of-contents__link toc-highlight"><code>metals/doctorVisibilityDidChange</code></a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Overview</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/metals/docs/>Overview</a><li class=footer__item><a class=footer__link-item href=/metals/docs/build-tools/overview>Build Tools</a><li class=footer__item><a class=footer__link-item href=/metals/docs/contributors/project-goals>Project Goals</a><li class=footer__item><a class=footer__link-item href=/metals/docs/contributors/getting-started>Contributing</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Social</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/scalameta/metals target=_blank>
                      <img src="https://img.shields.io/github/stars/scalameta/metals.svg?color=%23087e8b&label=stars&logo=github&style=social"/>
                    </a><li class=footer__item><a href=https://discord.gg/RFpSVth target=_blank>
                      <img src="https://img.shields.io/discord/632642981228314653?logo=discord&style=social"/>
                    </a><li class=footer__item><a href=https://twitter.com/scalameta target=_blank>
                      <img src="https://img.shields.io/twitter/follow/scalameta.svg?logo=twitter&style=social"/>
                    </a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/metals/img/scalameta-logo.png class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/metals/img/scalameta-logo.png class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"/></div><div class=footer__copyright>Copyright Â© 2025 Metals</div></div></div></footer></div></body>