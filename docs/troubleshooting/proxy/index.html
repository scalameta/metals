<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/metals/blog/rss.xml" title="Metals RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/metals/blog/atom.xml" title="Metals Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-140140828-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-140140828-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Metals" href="/metals/opensearch.xml"><title data-react-helmet="true">Proxy and mirrors | Metals</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="http://scalameta.org/metals/img/scalameta-logo.png"><meta data-react-helmet="true" name="twitter:image" content="http://scalameta.org/metals/img/scalameta-logo.png"><meta data-react-helmet="true" property="og:url" content="http://scalameta.org/metals/docs/troubleshooting/proxy"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Proxy and mirrors | Metals"><meta data-react-helmet="true" name="description" content="There are several parts inside Metals and Bloop that require resolving"><meta data-react-helmet="true" property="og:description" content="There are several parts inside Metals and Bloop that require resolving"><link data-react-helmet="true" rel="icon" href="/metals/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://scalameta.org/metals/docs/troubleshooting/proxy"><link data-react-helmet="true" rel="alternate" href="http://scalameta.org/metals/docs/troubleshooting/proxy" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://scalameta.org/metals/docs/troubleshooting/proxy" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/metals/assets/css/styles.6f36e828.css">
<link rel="preload" href="/metals/assets/js/runtime~main.c6e35cad.js" as="script">
<link rel="preload" href="/metals/assets/js/main.1aa7b347.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/metals/"><div class="navbar__logo"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Metals</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/metals/docs/">Docs</a><a class="navbar__item navbar__link" href="/metals/blog/">Blog</a><a href="https://github.com/scalameta/metals" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">üåô</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">‚òÄÔ∏è</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/metals/docs/">Text Editors</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/metals/docs/build-tools/overview">Build Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/metals/docs/contributors/project-goals">Contributing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/metals/docs/integrations/remote-language-server">Integrating with Metals</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/metals/docs/troubleshooting/proxy">Troubleshooting</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/metals/docs/troubleshooting/proxy">Proxy and mirrors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/metals/docs/troubleshooting/faq">Frequently asked questions</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Proxy and mirrors</h1></header><p>There are several parts inside Metals and Bloop that require resolving
additional dependencies from the internet. Inside environments behind a proxy or
with private artifact repositories Metals might not be able to start, because it
cannot easily download the needed dependencies.</p><p>There are multiple ways of fixing these issues, but not all of them work in all
situations. While we are trying to make it as painless as possible to setup
everything, there are some steps that might need to be done manually.</p><p>Everything inside Metals uses Coursier to download its dependencies:</p><ul><li>The Visual Studio Code and coc-metals extensions use Coursier bootstrap to
download Metals server - Coursier boostrap is a minimal file, which only
purpose is to download a full Coursier version. It&#x27;s used to keep the
extension size down to a minimum.</li><li>Metals uses Coursier api to download dependencies needed for a particular
Scala version</li><li>Bloop uses Coursier api to download the SemanticDB plugin</li></ul><p>You can find some more information about particular topics on
<a href="https://get-coursier.io/docs/overview" target="_blank" rel="noopener noreferrer">Coursier&#x27;s website</a>, but we will try to
summarize the most useful solutions here.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="mirrors">Mirrors<a class="hash-link" href="#mirrors" title="Direct link to heading">‚Äã</a></h2><p>If Maven Central is not available for your workspace it might be best to use
Coursier&#x27;s mirrors. Especially since Coursier boostrap tries to download the
core of Coursier from Maven Central directly, which can only be changed using
the mirrors. Not all functionalities are yet available for the boostrapped
Coursier version, including custom repositories, so mirrors are really the only
way to fix this.</p><p>There are different ways to setup mirrors:</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="via-global-properties-file">Via global properties file<a class="hash-link" href="#via-global-properties-file" title="Direct link to heading">‚Äã</a></h3><p>Create <code>mirror.properties</code> file with the contents:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">central.from=https://repo1.maven.org/maven2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">central.to=http://exmaple.com:8080/nexus/content/groups/public</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You need to replace the uri after <code>central.to=</code> with your private repository.</p><p>The location of the mirror file varies depending on the operating system:</p><ul><li>Windows:
<code>C:\Users\&lt;user_name&gt;\AppData\Roaming\Coursier\config\mirror.properties</code></li><li>Linux: <code>~/.config/coursier/mirror.properties</code></li><li>MacOS: <code>~/Library/Preferences/Coursier/mirror.properties</code></li></ul><p>This solution will work in most cases for all previously mentioned usages of
Coursier, which is especially important in the case of the Bloop server, which
when started by Metals will not have any system properties forwarded.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="via-environment-variable">Via environment variable<a class="hash-link" href="#via-environment-variable" title="Direct link to heading">‚Äã</a></h3><p>You can set the environment variable <code>COURSIER_MIRRORS</code> with the location of the
file containing the mirror definition. That environment variable will need to
available either locally or globally for the Metals server. In case of the
Visual Studio Code extension it means you will need to start it from command
line with that variable in scope.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="via-properties">Via properties<a class="hash-link" href="#via-properties" title="Direct link to heading">‚Äã</a></h3><p>You can also use properties to specify the location of the mirror file, for
example:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">-Dcoursier.mirrors=~/.config/coursier/mirror.properties</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This property needs to be added to the Metals server and Coursier invocation.
However, this solution will not work for Bloop, because properties are not
forwarded to the invocation of the Bloop server. You will need to use a
different method for Bloop in this case or you can run the build server manually
with everything specified separately.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="custom-artifact-repositories-maven-or-ivy-resolvers">Custom artifact repositories (Maven or Ivy resolvers)<a class="hash-link" href="#custom-artifact-repositories-maven-or-ivy-resolvers" title="Direct link to heading">‚Äã</a></h2><p>In case you need to add custom repositories to resolve Metals server artifacts
you can use the <code>COURSIER_REPOSITORIES</code> environment variable. This will tell
Coursier to try to download artifacts from your private artifact repository.
This is also available as a setting in the Metals Visual Studio Code and
coc-metals extensions.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="proxy-settings">Proxy settings<a class="hash-link" href="#proxy-settings" title="Direct link to heading">‚Äã</a></h2><p>In some cases, workspaces might require a proxy in order to resolve the needed
artifacts. Depending on the way Metals server is started, proxy settings can be
specified using properties inside a <code>.jvmopts</code> file and
<code>metals.serverProperties</code> (for Visual Studio Code or coc-metals extensions) or
via properties for Coursier and Metals invocations.</p><p>However, because proxy properties might vary between workspaces and a Bloop
server must work for multiple clients at the same time they are not forwarded to
the Bloop itself. To make sure that Bloop uses the correct proxy settings, you
can specify them by copying the correct <code>.jvmopts</code> file to the <code>~/.bloop</code>
directory, which will make them global.</p><p>If you are using a manually installed Bloop server, each time you run <code>bloop</code>
from commandline, the proxy settings will be reapplied according to the current
workspace&#x27;s <code>.jvmopts</code>. This should not be an issue, since those settings are
required only to download the compiler bridges and SemanticDB plugin.</p><p><strong>Important</strong> Each setting needs to be on a separate line.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="troubleshooting">Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">‚Äã</a></h2><p>There has already been a couple of issues surrounding this topic, if you are
still having issues you can take a look at some of them:</p><ul><li><a href="https://github.com/scalameta/metals/issues/1315" target="_blank" rel="noopener noreferrer">https://github.com/scalameta/metals/issues/1315</a></li><li><a href="https://github.com/scalameta/metals/issues/1301" target="_blank" rel="noopener noreferrer">https://github.com/scalameta/metals/issues/1301</a></li><li><a href="https://github.com/scalameta/metals/issues/1306" target="_blank" rel="noopener noreferrer">https://github.com/scalameta/metals/issues/1306</a></li><li><a href="https://github.com/scalameta/metals/issues/1362" target="_blank" rel="noopener noreferrer">https://github.com/scalameta/metals/issues/1362</a></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="the-server-did-not-start-got-failedtoopenbspconnection">The server did not start, got FailedToOpenBspConnection<a class="hash-link" href="#the-server-did-not-start-got-failedtoopenbspconnection" title="Direct link to heading">‚Äã</a></h3><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">error: The command bsp --protocol tcp --port 44559 returned with an error</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">error: The launcher failed to establish a bsp connection, aborting...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ERROR Failed to connect with build server, no functionality will work.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">java.lang.RuntimeException: The server did not start, got FailedToOpenBspConnection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at bloop.launcher.LauncherMain.failPromise$1(Launcher.scala:92)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at bloop.launcher.LauncherMain.runLauncher(Launcher.scala:119)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.meta.internal.metals.BloopServers$$anon$1.run(BloopServers.scala:101)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.FutureTask.run(FutureTask.java:264)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.lang.Thread.run(Thread.java:834)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Exception in thread &quot;bloop-server-background&quot; java.io.IOException: Cannot run program &quot;java&quot; (in directory &quot;&lt;some path here ...&gt;&quot;): error=2, No such file or directory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This might mean that you don&#x27;t have your java installation on your PATH and
Bloop was unable to start.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="timeout-waiting-for-buildinitialize-response">Timeout waiting for &#x27;build/initialize&#x27; response<a class="hash-link" href="#timeout-waiting-for-buildinitialize-response" title="Direct link to heading">‚Äã</a></h3><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">INFO  tracing is disabled for protocol BSP, to enable tracing of incoming and outgoing JSON messages create an empty file at C:\Users\tgodzik\AppData\Local\scalameta\metals\cache\bsp.trace.json</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ERROR Timeout waiting for &#x27;build/initialize&#x27; response</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ERROR Failed to connect with build server, no functionality will work.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">java.util.concurrent.TimeoutException</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1886)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2021)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.meta.internal.metals.BuildServerConnection$.initialize(BuildServerConnection.scala:259)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.meta.internal.metals.BuildServerConnection$.$anonfun$fromSockets$1(BuildServerConnection.scala:203)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.util.Success.$anonfun$map$1(Try.scala:255)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.util.Success.map(Try.scala:213)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.concurrent.Future.$anonfun$map$1(Future.scala:292)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    at java.lang.Thread.run(Thread.java:834)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WARN  Stopped configuration of SemanticDB in Scala 2.13.1 projects: Error downloading org.scalameta:semanticdb-scalac_2.13.1:4.3.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  not found: C:\Users\tgodzik\.ivy2\local\org.scalameta\semanticdb-scalac_2.13.1\4.3.0\ivys\ivy.xml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  download error: Caught java.net.ConnectException: Connection timed out: connect (Connection timed out: connect) while downloading https://repo1.maven.org/maven2/org/scalameta/semanticdb-scalac_2.13.1/4.3.0/semanticdb-scalac_2.13.1-4.3.0.pom</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  not found: https://dl.bintray.com/scalacenter/releases/org/scalameta/semanticdb-scalac_2.13.1/4.3.0/semanticdb-scalac_2.13.1-4.3.0.pom</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This might mean you need to specify proxy settings for Bloop or add custom
repositories as specified above.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="mirrors-still-do-not-work-for-all-dependencies">Mirrors still do not work for all dependencies<a class="hash-link" href="#mirrors-still-do-not-work-for-all-dependencies" title="Direct link to heading">‚Äã</a></h3><p>In some specific configurations it might be needed to define additional mirrors
like:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">jcenter.from=https://repo1.maven.org/maven2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">jcenter.to=https://artifactory.mycomany.com/maven2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">typesafe.from=https://repo.typesafe.com/typesafe/ivy-releases</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">typesafe.to=https://artifactory.mycompany.com/typesafe-ivy-releases/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The number of repositories to add depends on how the company&#x27;s infrastructure is
set up. The key is to keep adding mirror entries until you&#x27;ve fixed each resolve
error. In case of sbt you can find out what the repos are named like
typesafe.from|to by checking
<a href="https://www.scala-sbt.org/1.x/docs/Resolvers.html#Predefined+resolvers" target="_blank" rel="noopener noreferrer">the official documentation</a>
and any custom resolvers your workspace has defined.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/scalameta/metals/edit/main/docs/troubleshooting/proxy.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/metals/docs/integrations/debug-adapter-protocol"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Debug Adapter Protocol</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/metals/docs/troubleshooting/faq"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Frequently asked questions</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#mirrors" class="table-of-contents__link toc-highlight">Mirrors</a><ul><li><a href="#via-global-properties-file" class="table-of-contents__link toc-highlight">Via global properties file</a></li><li><a href="#via-environment-variable" class="table-of-contents__link toc-highlight">Via environment variable</a></li><li><a href="#via-properties" class="table-of-contents__link toc-highlight">Via properties</a></li></ul></li><li><a href="#custom-artifact-repositories-maven-or-ivy-resolvers" class="table-of-contents__link toc-highlight">Custom artifact repositories (Maven or Ivy resolvers)</a></li><li><a href="#proxy-settings" class="table-of-contents__link toc-highlight">Proxy settings</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#the-server-did-not-start-got-failedtoopenbspconnection" class="table-of-contents__link toc-highlight">The server did not start, got FailedToOpenBspConnection</a></li><li><a href="#timeout-waiting-for-buildinitialize-response" class="table-of-contents__link toc-highlight">Timeout waiting for &#39;build/initialize&#39; response</a></li><li><a href="#mirrors-still-do-not-work-for-all-dependencies" class="table-of-contents__link toc-highlight">Mirrors still do not work for all dependencies</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Overview</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/metals/docs/overview/editor-support">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/build-tools/overview">Build Tools</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/contributors/project-goals">Project Goals</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/contributors/getting-started">Contributing</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/scalameta/metals" target="_blank">
                      <img src="https://img.shields.io/github/stars/scalameta/metals.svg?color=%23087e8b&label=stars&logo=github&style=social">
                    </a></li><li class="footer__item"><a href="https://discord.gg/RFpSVth" target="_blank">
                      <img src="https://img.shields.io/discord/632642981228314653?logo=discord&style=social">
                    </a></li><li class="footer__item"><a href="https://twitter.com/scalameta" target="_blank">
                      <img src="https://img.shields.io/twitter/follow/scalameta.svg?logo=twitter&style=social">
                    </a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/metals/img/scalameta-logo.png" alt="" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/metals/img/scalameta-logo.png" alt="" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></div><div class="footer__copyright">Copyright ¬© 2022 Metals</div></div></div></footer></div>
<script src="/metals/assets/js/runtime~main.c6e35cad.js"></script>
<script src="/metals/assets/js/main.1aa7b347.js"></script>
</body>
</html>