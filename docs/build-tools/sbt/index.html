<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-build-tools/sbt" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>sbt | Metals</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=http://scalameta.org/metals/img/scalameta-logo.png><meta data-rh=true name=twitter:image content=http://scalameta.org/metals/img/scalameta-logo.png><meta data-rh=true property=og:url content=http://scalameta.org/metals/docs/build-tools/sbt><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="sbt | Metals"><meta data-rh=true name=description content="sbt is the most commonly used build tool in the Scala community and works with"><meta data-rh=true property=og:description content="sbt is the most commonly used build tool in the Scala community and works with"><link data-rh=true rel=icon href=/metals/img/favicon.ico><link data-rh=true rel=canonical href=http://scalameta.org/metals/docs/build-tools/sbt><link data-rh=true rel=alternate href=http://scalameta.org/metals/docs/build-tools/sbt hreflang=en><link data-rh=true rel=alternate href=http://scalameta.org/metals/docs/build-tools/sbt hreflang=x-default><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"http://scalameta.org/metals/docs/build-tools/sbt","name":"sbt","position":1}]}</script><link rel=alternate type=application/rss+xml href=/metals/blog/rss.xml title="Metals RSS Feed"><link rel=alternate type=application/atom+xml href=/metals/blog/atom.xml title="Metals Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140140828-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-140140828-1",{})</script><link rel=stylesheet href=/metals/assets/css/styles.0dac80d8.css><script src=/metals/assets/js/runtime~main.1bfec5b1.js defer></script><script src=/metals/assets/js/main.e7d36b3d.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/metals/img/scalameta-logo.png><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/metals/><div class=navbar__logo><img src=/metals/img/scalameta-logo.png alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/metals/img/scalameta-logo.png alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Metals</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/metals/docs/>Docs</a><a class="navbar__item navbar__link" href=/metals/blog/>Blog</a><a href=https://github.com/scalameta/metals target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class="navbar__search searchBarContainer_NW3z" dir=ltr><input placeholder=Search aria-label=Search class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/>Text Editors</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/features/codeactions>Features</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/metals/docs/build-tools/overview>Build Tools</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/build-tools/overview>Overview</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/build-tools/bazel>Bazel</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/build-tools/bloop>Bloop</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/build-tools/gradle>Gradle</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/build-tools/maven>Maven</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/metals/docs/build-tools/mill>Mill</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/metals/docs/build-tools/sbt>sbt</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/contributors/project-goals>Contributing</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/integrations/new-build-tool>Integrating with Metals</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/troubleshooting/proxy>Troubleshooting</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/metals/docs/acknowledgements/development>Acknowledgements</a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/metals/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Build Tools</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>sbt</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>sbt</h1></header><p>sbt is the most commonly used build tool in the Scala community and works with
Metals out-of-the-box.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=automatic-installation>Automatic installation<a href=#automatic-installation class=hash-link aria-label="Direct link to Automatic installation" title="Direct link to Automatic installation">​</a></h2>
<p>The first time you open Metals in a new sbt workspace you will be
prompted to import the build. Select "Import Build" to start the
automatic installation. This will create all the needed Bloop config
files. You should then be able to edit and compile your code utilizing
all of the features.</p>
<p><img decoding=async loading=lazy src=https://i.imgur.com/t5RJ3q6.png alt="Import build" class=img_ev3q></p>
<p>The Automatic build import process for sbt happens through
<a href=https://scalacenter.github.io/bloop/ target=_blank rel="noopener noreferrer">Bloop</a>, a build server for Scala. Bloop
implements the <a href=https://build-server-protocol.github.io/docs/specification target=_blank rel="noopener noreferrer">Build Server Protocol
(BSP)</a> that Metals
uses to learn the directory structure of your project, its library dependencies,
and to build or run your code.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=manual-installation>Manual installation<a href=#manual-installation class=hash-link aria-label="Direct link to Manual installation" title="Direct link to Manual installation">​</a></h2>
<blockquote>
<p>It's recommended to use automatic installation over manual installation since
manual installation requires several independent steps that make it harder to
stay up-to-date with the latest Metals version.</p>
</blockquote>
<p>Instead of using automatic build import, you can manually install sbt-bloop and
generate the Bloop JSON files directly from your sbt shell. This approach may
speed up build import by avoiding Metals from starting sbt in a separate
process.</p>
<p>First, install the Bloop plugin globally or inside your <code>project</code> directory:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">// One of:</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">//   ~/.sbt/0.13/plugins/plugins.sbt</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">//   ~/.sbt/1.0/plugins/plugins.sbt</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">resolvers += "central-snapshots" at "https://central.sonatype.com/repository/maven-snapshots/"</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">addSbtPlugin("ch.epfl.scala" % "sbt-bloop" % "2.0.13")</span><br></span></code></pre></div></div>
<p>Next, run:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">sbt -Dbloop.export-jar-classifiers=sources bloopInstall</span><br></span></code></pre></div></div>
<p>to generate the Bloop JSON configuration files. You can also set the
<code>bloopExportJarClassifiers</code> setting inside your main build.sbt file, but using
the above command will do it automatically for you in the current sbt session.</p>
<p>Finally, once <code>bloopInstall</code> is finished, execute the "Connect to build server"
command (id: <code>build.connect</code>) command to tell Metals to establish a connection
with the Bloop build server.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=sbt-build-server>sbt Build Server<a href=#sbt-build-server class=hash-link aria-label="Direct link to sbt Build Server" title="Direct link to sbt Build Server">​</a></h2>
<p>As of sbt 1.4.1, Metals has integrated support for the sbt BSP server. If you'd
like to use the sbt server as an alternative to Bloop (which is the default),
then at any time while in an sbt workspace you can choose to switch in multiple
ways.</p>
<p><em>Note</em>: that if you are unfamiliar with the features that the different build
servers may offer, then simply stick with the default (Bloop), which has great
integrated stable support in Metals.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=generating-a-bspsbtjson-file-if-one-doesnt-exist>Generating a <code>.bsp/sbt.json</code> file if one doesn't exist<a href=#generating-a-bspsbtjson-file-if-one-doesnt-exist class=hash-link aria-label="Direct link to generating-a-bspsbtjson-file-if-one-doesnt-exist" title="Direct link to generating-a-bspsbtjson-file-if-one-doesnt-exist">​</a></h3>
<p>More than likely if you're using sbt >= 1.4.1, you'll have already seen this file
exist. However, if you're in a fresh workspace or it doesn't exist for some
reason, you can execute a <code>metals.generate-bsp-config</code> command via the command
palette, which will automatically detect that you're in a sbt workspace and
generate the necessary file. After the file generation, Metals will then
automatically connect to sbt. From this point on, you'll be using sbt instead of
Bloop as your build server.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=connect-to-sbt-build-server>Connect to sbt build server<a href=#connect-to-sbt-build-server class=hash-link aria-label="Direct link to Connect to sbt build server" title="Direct link to Connect to sbt build server">​</a></h3>
<p>If your workspace already has a <code>.bsp/sbt.json</code> file, then you can switch from
using Bloop to sbt as a build server by executing a <code>metals.bsp-switch</code> command
from the command palette.  This command will recognize the <code>.bsp/sbt.json</code> file,
and then connect to the sbt build server. After the connection is made, you'll
be using sbt instead of Bloop as your build server.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=switching-back-to-bloop>Switching back to Bloop<a href=#switching-back-to-bloop class=hash-link aria-label="Direct link to Switching back to Bloop" title="Direct link to Switching back to Bloop">​</a></h3>
<p>If you'd like to switch back to using Bloop as your build server, there are
multiple ways for you to do this.</p>
<ol>
<li>Using the same <code>metals.bsp-switch</code> command as up above, and select "bloop".</li>
<li>Use the <code>metals.reset-choice</code> functionality and choose to reset the "Build
Server Selection". Then follow this with the <code>metals.build-restart</code> command
which will disconnect you from the sbt build server, and then connect you
back to the default Bloop server.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=troubleshooting>Troubleshooting<a href=#troubleshooting class=hash-link aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2>
<p>Before reporting an issue, check if your problem is solved with one of the
following tips.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=waiting-for-lock-on-ivy2sbtivylock>Waiting for lock on .ivy2/.sbt.ivy.lock<a href=#waiting-for-lock-on-ivy2sbtivylock class=hash-link aria-label="Direct link to Waiting for lock on .ivy2/.sbt.ivy.lock" title="Direct link to Waiting for lock on .ivy2/.sbt.ivy.lock">​</a></h3>
<p>Metals run sbt in a separate process and this error happens where there are two
sbt processes resolving dependencies at the same time.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=not-valid-key-metalsenable>Not valid key: metalsEnable<a href=#not-valid-key-metalsenable class=hash-link aria-label="Direct link to Not valid key: metalsEnable" title="Direct link to Not valid key: metalsEnable">​</a></h3>
<p>This error might indicate that you have an old version of <code>sbt-metals</code> installed
in your project.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">[error] Not a valid key: metalsEnable (similar: scalafixEnabled)</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">[error] metalsEnable</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">[error]             ^</span><br></span></code></pre></div></div>
<p>Try to remove any usage of <code>sbt-metals</code> in your build.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/scalameta/metals/edit/main/docs/build-tools/sbt.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/metals/docs/build-tools/mill><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Mill</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/metals/docs/contributors/project-goals><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Project Goals</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#automatic-installation class="table-of-contents__link toc-highlight">Automatic installation</a><li><a href=#manual-installation class="table-of-contents__link toc-highlight">Manual installation</a><li><a href=#sbt-build-server class="table-of-contents__link toc-highlight">sbt Build Server</a><ul><li><a href=#generating-a-bspsbtjson-file-if-one-doesnt-exist class="table-of-contents__link toc-highlight">Generating a <code>.bsp/sbt.json</code> file if one doesn't exist</a><li><a href=#connect-to-sbt-build-server class="table-of-contents__link toc-highlight">Connect to sbt build server</a><li><a href=#switching-back-to-bloop class="table-of-contents__link toc-highlight">Switching back to Bloop</a></ul><li><a href=#troubleshooting class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href=#waiting-for-lock-on-ivy2sbtivylock class="table-of-contents__link toc-highlight">Waiting for lock on .ivy2/.sbt.ivy.lock</a><li><a href=#not-valid-key-metalsenable class="table-of-contents__link toc-highlight">Not valid key: metalsEnable</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Overview</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/metals/docs/>Overview</a><li class=footer__item><a class=footer__link-item href=/metals/docs/build-tools/overview>Build Tools</a><li class=footer__item><a class=footer__link-item href=/metals/docs/contributors/project-goals>Project Goals</a><li class=footer__item><a class=footer__link-item href=/metals/docs/contributors/getting-started>Contributing</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Social</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/scalameta/metals target=_blank>
                      <img src="https://img.shields.io/github/stars/scalameta/metals.svg?color=%23087e8b&label=stars&logo=github&style=social">
                    </a><li class=footer__item><a href=https://discord.gg/RFpSVth target=_blank>
                      <img src="https://img.shields.io/discord/632642981228314653?logo=discord&style=social">
                    </a><li class=footer__item><a href=https://twitter.com/scalameta target=_blank>
                      <img src="https://img.shields.io/twitter/follow/scalameta.svg?logo=twitter&style=social">
                    </a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/metals/img/scalameta-logo.png class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src=/metals/img/scalameta-logo.png class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class=footer__copyright>Copyright © 2025 Metals</div></div></div></footer></div>