<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Blog Â· Metals</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Scala language server with rich IDE features"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Blog Â· Metals"/><meta property="og:type" content="website"/><meta property="og:url" content="http://scalameta.org/metals/index.html"/><meta property="og:description" content="Scala language server with rich IDE features"/><meta property="og:image" content="http://scalameta.org/metals/img/scalameta-logo.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="http://scalameta.org/metals/img/scalameta-logo.png"/><link rel="shortcut icon" href="/metals/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css"/><link rel="alternate" type="application/atom+xml" href="http://scalameta.org/metals/blog/atom.xml" title="Metals Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="http://scalameta.org/metals/blog/feed.xml" title="Metals Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-140140828-1', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="/metals/css/custom.css"/><script src="/metals/js/scrollSpy.js"></script><link rel="stylesheet" href="/metals/css/main.css"/><script src="/metals/js/codetabs.js"></script></head><body class="blog"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/metals/"><img class="logo" src="/metals/img/scalameta-logo.png" alt="Metals"/><h2 class="headerTitleWithLogo">Metals</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/metals/docs/editors/overview.html" target="_self">Docs</a></li><li class="siteNavGroupActive siteNavItemActive"><a href="/metals/blog/" target="_self">Blog</a></li><li class=""><a href="https://github.com/scalameta/metals" target="_blank">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>â€º</i><span>All Blog Posts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">All Blog Posts</h3><ul class=""><li class="navListItem"><a class="navItem" href="/metals/blog/2019/09/02/thorium.html">Metals v0.7.2 - Thorium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/06/28/thorium.html">Metals v0.7.0 - Thorium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/06/11/radium.html">Metals v0.6.1 - Radium</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/04/26/mercury.html">Metals v0.5.1</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/04/12/mercury.html">Metals v0.5.0</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/02/01/tin.html">Metals v0.4.4</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/01/24/tin.html">Metals v0.4.0</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2019/01/22/bloom-filters.html">Low-memory symbol indexing with bloom filters</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2018/12/14/iron.html">Metals v0.3.2</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2018/12/12/fast-goto-definition.html">Fast goto definition with low memory footprint</a></li><li class="navListItem"><a class="navItem" href="/metals/blog/2018/12/06/iron.html">Metals v0.3 - Iron</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer postContainer blogContainer"><div class="wrapper"><div class="posts"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/metals/blog/2019/09/02/thorium.html">Metals v0.7.2 - Thorium</a></h1><p class="post-meta">September 2, 2019</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/TomekGodzik" target="_blank" rel="noreferrer noopener">Tomasz Godzik</a></p><div class="authorPhoto"><a href="https://twitter.com/TomekGodzik" target="_blank" rel="noreferrer noopener"><img src="https://github.com/tgodzik.png" alt="Tomasz Godzik"/></a></div></div></header><article class="post-content"><div><span><p>We are excited to announce the release of Metals v0.7.2 - codename &quot;Thorium&quot; ðŸŽ‰
The release includes mostly bug fixes with some smaller new features. We are
skipping over 0.7.1 due to a critical bug we discovered</p>
<p>Metals is a language server for Scala that works with VS Code, Atom, Vim,
Sublime Text and Emacs. Metals is developed at the
<a href="https://scala.epfl.ch/">Scala Center</a> and <a href="https://virtuslab.com">VirtusLab</a>
along with contributors from the community.</p>
<p>In this release we merged 39 PRs and closed 11 issues, full details:
<a href="https://github.com/scalameta/metals/milestone/12?closed=1">https://github.com/scalameta/metals/milestone/12?closed=1</a></p>
<h2><a class="anchor" aria-hidden="true" id="tl-dr"></a><a href="#tl-dr" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TL;DR</h2>
<p>Check out the website and give Metals a try: <a href="https://scalameta.org/metals/">https://scalameta.org/metals/</a></p>
<ul>
<li>support for Scala 2.12.9</li>
<li>fix completions in case of inline comments</li>
<li>add support for non-directory sources</li>
<li>automatically add package definition to new source files</li>
<li>automatically insert pipes in multiline string</li>
<li>a lot of miscellaneous fixes</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="fix-completions-in-case-of-inline-comments"></a><a href="#fix-completions-in-case-of-inline-comments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fix completions in case of inline comments</h2>
<p>Previously, completions after a comment and newline would yield no results:</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">val</span> <span class="hljs-type">List</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)
  .map(num =&gt; num + <span class="hljs-number">1</span>) <span class="hljs-comment">// comment</span>
  @@
</code></pre>
<p>This was fixed by the Metals team in the presentation compiler itself for 2.12.9
and 2.13.1, however we also added a workaround for all supported older Scala
versions.</p>
<h2><a class="anchor" aria-hidden="true" id="add-support-for-non-directory-sources"></a><a href="#add-support-for-non-directory-sources" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Add support for non-directory sources</h2>
<p>In case that your build tool supports having single files as sources, we now
offer full support for them. That corresponds to the most recent BSP
specification
<a href="https://github.com/scalacenter/bsp/blob/master/docs/bsp.md#build-target-sources-request">request</a></p>
<h2><a class="anchor" aria-hidden="true" id="automatically-add-package-definition-to-new-source-files"></a><a href="#automatically-add-package-definition-to-new-source-files" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Automatically add package definition to new source files</h2>
<p>For every new Scala file we automatically add package definition based on the
relative path between the new source file and source root. This is done using
applyWorkspaceEdit method, which causes the change to be done in editor and this
can easily be rewerted like any other change you would type.</p>
<p><img src="https://i.imgur.com/6V9gHnM.gif" alt="add-package"></p>
<p>We also added support for package objects. Whenever you create <code>package.scala</code>
file, we will automatically create the barebone definition of the package
object.</p>
<p><img src="https://i.imgur.com/CfF0cdE.gif" alt="package-object"></p>
<p>There is still some work to be done about moving files between packages, which
will be addressed in the next release.</p>
<p>Big thanks to the first time contributor from VirtusLab Tomasz Dudzik for
implementing most of the functionality! ðŸŽ‰</p>
<h2><a class="anchor" aria-hidden="true" id="automatically-insert-pipes-in-multiline-string"></a><a href="#automatically-insert-pipes-in-multiline-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Automatically insert pipes in multiline string</h2>
<p>We finally managed to properly support adding <code>|</code> in multiline strings using the
<code>onTypeFormatting</code> method. Previous implementation was very naive and often
added pipes in wrong places.</p>
<p><img src="https://i.imgur.com/iXGYOf0.gif" alt="pipes"></p>
<p>To enable the functionality you need to enable <code>onTypeFormatting</code> inside your
editor if it's not enabled by default.</p>
<p>In Visual Studio Code this needs to be done in settings by checking
<code>Editor: Format On Type</code>:</p>
<p><img src="https://i.imgur.com/4eVvSP5.gif" alt="on-type"></p>
<p>You will also need the newest version of the Visual Studio Code plugin.</p>
<p>There is still some possible improvements in case of copy pasting entire text
fragments, but that needs some more work.</p>
<p>Big thanks to another of our first time contributors from VirtusLab Karolina
Bogacka! Great work! ðŸŽ‰</p>
<h2><a class="anchor" aria-hidden="true" id="add-support-for-scala-2129"></a><a href="#add-support-for-scala-2129" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Add support for Scala 2.12.9</h2>
<p>Metals now supports Scala 2.12.9! No new Scala version has been deprecated in
this release, since it is possible that Scala 2.12.10 version with some
important fixes will be released soon.</p>
<p>Big thanks to <a href="https://github.com/gabro">@gabro</a> for again leading the effort!
This took considerably more time and effort than expected.</p>
<h2><a class="anchor" aria-hidden="true" id="miscellaneous-fixes"></a><a href="#miscellaneous-fixes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Miscellaneous fixes</h2>
<ul>
<li>erroneous warning for Scala 2.11 is no longer displayed</li>
<li>don't infer build target for non-readonly files</li>
<li>fix several small issues in the tree view protocol spec</li>
<li>set h2.bindAddress to avoid exposing open ports (thanks @blast-hardcheese!)</li>
<li>resolve symlinks that are used within workspaces</li>
<li>fix issues when import was requested multiple times without any change</li>
<li>detect openjdk as a valid jdk home</li>
<li>warn when java sources were not found</li>
<li>string interpolation completions now work properly in multiline string</li>
<li>add ReloadDoctor to the list of all commands (thanks @kurnevsky!)</li>
<li>add correct mill version in the predef script when running <code>bloopInstall</code></li>
<li>SemanticDB plugin issues are no longer reported in java only projects</li>
<li>check if SeamnticDB really exists and only report issue when it doesn't</li>
<li>update default scalafmt to 2.0.1</li>
<li>use recommended version for build tools in UI message</li>
<li>fix file leak when importing large Gradle workspaces</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="contributors"></a><a href="#contributors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contributors</h2>
<p>Big thanks to everybody who contributed to this release, a lot more people
joined this time to make the release better!</p>
<pre><code class="hljs"><span class="hljs-meta">$</span> <span class="hljs-string">git shortlog -sn --no-merges v0.7.0..v0.7.2</span>
<span class="hljs-attr">Gabriele</span> <span class="hljs-string">Petronella</span>
<span class="hljs-attr">Tomasz</span> <span class="hljs-string">Godzik</span>
<span class="hljs-meta">Ã“lafur</span> <span class="hljs-string">PÃ¡ll Geirsson</span>
<span class="hljs-attr">Evgeny</span> <span class="hljs-string">Kurnevsky</span>
<span class="hljs-attr">Marek</span> <span class="hljs-string">Å»arnowski</span>
<span class="hljs-attr">Lucas</span> <span class="hljs-string">Satabin</span>
<span class="hljs-attr">Ayoub</span> <span class="hljs-string">Benali</span>
<span class="hljs-attr">Chris</span> <span class="hljs-string">Birchall</span>
<span class="hljs-attr">Compro</span> <span class="hljs-string">Prasad</span>
<span class="hljs-attr">Devon</span> <span class="hljs-string">Stewart</span>
<span class="hljs-meta">JesÃºs</span> <span class="hljs-string">MartÃ­nez</span>
<span class="hljs-attr">Karolina</span> <span class="hljs-string">Bogacka</span>
<span class="hljs-attr">Tomasz</span> <span class="hljs-string">Dudzik</span>
<span class="hljs-attr">Chris</span> <span class="hljs-string">Kipp</span>
<span class="hljs-attr">Rikito</span> <span class="hljs-string">Taniguchi</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="merged-prs"></a><a href="#merged-prs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Merged PRs</h2>
<h2><a class="anchor" aria-hidden="true" id="v072-https-githubcom-scalameta-metals-tree-v072-2019-08-29"></a><a href="#v072-https-githubcom-scalameta-metals-tree-v072-2019-08-29" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://github.com/scalameta/metals/tree/v0.7.2">v0.7.2</a> (2019-08-29)</h2>
<p><a href="https://github.com/scalameta/metals/compare/v0.7.0...v0.7.2">Full Changelog</a></p>
<p><strong>Merged pull requests:</strong></p>
<ul>
<li>Fix not closing streams when using Files.list
<a href="https://github.com/scalameta/metals/pull/892">#892</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Avoid file leaks when digesting Gradle builds
<a href="https://github.com/scalameta/metals/pull/889">#889</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Fix broken tests <a href="https://github.com/scalameta/metals/pull/888">#888</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Bump Metals Scala version to 2.12.9
<a href="https://github.com/scalameta/metals/pull/887">#887</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Add check mark for formatting under vim
<a href="https://github.com/scalameta/metals/pull/885">#885</a>
(<a href="https://github.com/satabin">satabin</a>)</li>
<li>Recommend a recent version of the build tool when incompatible or unknown
<a href="https://github.com/scalameta/metals/pull/881">#881</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Use BuildInfo.scalaCompilerVersion over Properties.versionNumberString
<a href="https://github.com/scalameta/metals/pull/876">#876</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Remove use of early intializers
<a href="https://github.com/scalameta/metals/pull/877">#877</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Catch ShutdownReq exception from stopping a presentation compiler.
<a href="https://github.com/scalameta/metals/pull/873">#873</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Transpose features/editors table
<a href="https://github.com/scalameta/metals/pull/875">#875</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Make presentation compiler work on 2.12.9
<a href="https://github.com/scalameta/metals/pull/872">#872</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Scala 2.12.9 support <a href="https://github.com/scalameta/metals/pull/867">#867</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Automatically add package objects when creating package.scala file
<a href="https://github.com/scalameta/metals/pull/866">#866</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Automatically add package declaration when creating a file
<a href="https://github.com/scalameta/metals/pull/862">#862</a>
(<a href="https://github.com/tdudzik">tdudzik</a>)</li>
<li>Fix TreeViewSlowSuite tests
<a href="https://github.com/scalameta/metals/pull/864">#864</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Update scalafmt to 2.0.1 <a href="https://github.com/scalameta/metals/pull/863">#863</a>
(<a href="https://github.com/tanishiking">tanishiking</a>)</li>
<li>Add support for non-directory sources
<a href="https://github.com/scalameta/metals/pull/857">#857</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Report an issue only if SemanticDB file doesn't really exist.
<a href="https://github.com/scalameta/metals/pull/853">#853</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Do not report issues in Java only projects
<a href="https://github.com/scalameta/metals/pull/850">#850</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Emacs supports client commands now
<a href="https://github.com/scalameta/metals/pull/848">#848</a>
(<a href="https://github.com/kurnevsky">kurnevsky</a>)</li>
<li>Fix issue if exact query is longer than the class name
<a href="https://github.com/scalameta/metals/pull/843">#843</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Fix issue with wrong mill version in predef script and update millw scripts
<a href="https://github.com/scalameta/metals/pull/842">#842</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Fix Mercury blog post date by adding an unlisted redirect
<a href="https://github.com/scalameta/metals/pull/836">#836</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Update sublime doc regarding autoimport
<a href="https://github.com/scalameta/metals/pull/839">#839</a>
(<a href="https://github.com/ayoub-benali">ayoub-benali</a>)</li>
<li>Improve handling of the java sources
<a href="https://github.com/scalameta/metals/pull/825">#825</a>
(<a href="https://github.com/marek1840">marek1840</a>)</li>
<li>Add exact libraries that are expected and fix the test
<a href="https://github.com/scalameta/metals/pull/837">#837</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Add ReloadDoctor to the list of all commands.
<a href="https://github.com/scalameta/metals/pull/830">#830</a>
(<a href="https://github.com/kurnevsky">kurnevsky</a>)</li>
<li>Install use-package if not already installed
<a href="https://github.com/scalameta/metals/pull/828">#828</a>
(<a href="https://github.com/Compro-Prasad">Compro-Prasad</a>)</li>
<li>Fix multiline edits <a href="https://github.com/scalameta/metals/pull/826">#826</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Timestamps should use currentTimeMillis
<a href="https://github.com/scalameta/metals/pull/822">#822</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>resolve symlinks from client requests
<a href="https://github.com/scalameta/metals/pull/824">#824</a>
(<a href="https://github.com/marek1840">marek1840</a>)</li>
<li>Setting h2.bindAddress to avoid exposing open ports
<a href="https://github.com/scalameta/metals/pull/821">#821</a>
(<a href="https://github.com/blast-hardcheese">blast-hardcheese</a>)</li>
<li>Use Scalafmt 2.0.0 when setting the version in .scalafmt.conf
<a href="https://github.com/scalameta/metals/pull/806">#806</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Don't infer build target for non-readonly files.
<a href="https://github.com/scalameta/metals/pull/810">#810</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Fix versions in docs - wrong number of @ was used
<a href="https://github.com/scalameta/metals/pull/820">#820</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Update the list of supported Scala binary versions
<a href="https://github.com/scalameta/metals/pull/818">#818</a>
(<a href="https://github.com/cb372">cb372</a>)</li>
<li>Bump mill version <a href="https://github.com/scalameta/metals/pull/817">#817</a>
(<a href="https://github.com/satabin">satabin</a>)</li>
<li>Send treeViewDidChange only when the client supports it
<a href="https://github.com/scalameta/metals/pull/816">#816</a>
(<a href="https://github.com/kurnevsky">kurnevsky</a>)</li>
<li>Fix issue with missing completions after comment and newline.
<a href="https://github.com/scalameta/metals/pull/814">#814</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Fix several issues in the tree view protocol spec
<a href="https://github.com/scalameta/metals/pull/811">#811</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Make test-release.sh script check that artifacts have synced to Maven
<a href="https://github.com/scalameta/metals/pull/812">#812</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>nvim version and updated info about required java versions
<a href="https://github.com/scalameta/metals/pull/807">#807</a>
(<a href="https://github.com/ckipp01">ckipp01</a>)</li>
<li>Lost a word in the last PR and adding it now
<a href="https://github.com/scalameta/metals/pull/805">#805</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Use sonatype:public in our own meta build
<a href="https://github.com/scalameta/metals/pull/803">#803</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Fix an issue with wrong deprecation warning for 2.11 and update snapshot
version <a href="https://github.com/scalameta/metals/pull/804">#804</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Fix version typo <a href="https://github.com/scalameta/metals/pull/802">#802</a>
(<a href="https://github.com/JesusMtnez">JesusMtnez</a>)</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/metals/blog/2019/06/28/thorium.html">Metals v0.7.0 - Thorium</a></h1><p class="post-meta">June 28, 2019</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener">Ã“lafur PÃ¡ll Geirsson</a></p><div class="authorPhoto"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener"><img src="https://github.com/olafurpg.png" alt="Ã“lafur PÃ¡ll Geirsson"/></a></div></div></header><article class="post-content"><div><span><p>We are excited to announce the release of Metals v0.7.0 - codename &quot;Thorium&quot; ðŸŽ‰
The release includes several new features along with bug fixes.</p>
<p>Metals is a language server for Scala that works with VS Code, Atom, Vim,
Sublime Text and Emacs. Metals is developed at the
<a href="https://scala.epfl.ch/">Scala Center</a> and <a href="https://virtuslab.com">VirtusLab</a>
along with contributors from the community.</p>
<p>In this release we merged 21 PRs and closed 8 issues, full details:
<a href="https://github.com/scalameta/metals/milestone/11?closed=1">https://github.com/scalameta/metals/milestone/11?closed=1</a></p>
<h2><a class="anchor" aria-hidden="true" id="tl-dr"></a><a href="#tl-dr" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TL;DR</h2>
<ul>
<li>New tree view in VS Code</li>
<li>New support for Scala 2.13</li>
<li>New support for JDK 11</li>
<li>New improved classpath indexing performance</li>
<li>New fallback to &quot;find references&quot; when calling &quot;goto definition&quot; on a symbol
definition</li>
<li>Bug fixes for importing builds in Gradle, Mill and sbt</li>
<li>Dropped support for deprecated Scala versions 2.11.9, 2.11.10, 2.11.11,
2.12.4, 2.12.5 and 2.12.6.</li>
</ul>
<p>Check out the website and give Metals a try: <a href="https://scalameta.org/metals/">https://scalameta.org/metals/</a></p>
<h2><a class="anchor" aria-hidden="true" id="tree-views-in-vs-code"></a><a href="#tree-views-in-vs-code" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tree views in VS Code</h2>
<p>There is now a new &quot;Metals&quot; sidebar in VS Code that contains three tree views:</p>
<ul>
<li>Build: overview of the build state, with buttons to manually trigger build
import.</li>
<li>Compile: overview of ongoing compilations, with buttons to manually cascade
compilation and cancel ongoing compilation.</li>
<li>Help and feedback: buttons to automate troubleshooting Metals issues and links
to relevant online resources such as GitHub, Gitter and Twitter.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="projects-explorer"></a><a href="#projects-explorer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Projects explorer</h3>
<p><img src="https://user-images.githubusercontent.com/1408093/60208747-59589680-9859-11e9-8a09-2a6c38683975.gif" alt="2019-06-26 20 28 14"></p>
<h3><a class="anchor" aria-hidden="true" id="libraries-explorer"></a><a href="#libraries-explorer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Libraries explorer</h3>
<p>Browse symbols that are defined in jars of library dependencies.</p>
<p><img src="https://user-images.githubusercontent.com/1408093/60208786-6e352a00-9859-11e9-8d55-2125c91d506f.gif" alt="2019-06-26 20 28 51"></p>
<h3><a class="anchor" aria-hidden="true" id="reveal-active-file-in-metals-side-bar"></a><a href="#reveal-active-file-in-metals-side-bar" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reveal active file in Metals side bar</h3>
<p>There is a new command &quot;Reveal active file in Metals side bar&quot; that focuses the
library and project explorer to the current open file.</p>
<p><img src="https://user-images.githubusercontent.com/1408093/60277613-33d19880-98fe-11e9-9aee-71c0a0c0861f.gif" alt="2019-06-27 16 02 33"></p>
<h3><a class="anchor" aria-hidden="true" id="compilation-explorer"></a><a href="#compilation-explorer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Compilation explorer</h3>
<p>Get an overview of all compilations that are ongoing in the build. Previously,
only a single compilation progress was reported through the status bar.</p>
<p><img src="https://user-images.githubusercontent.com/1408093/60052207-f4743380-96d4-11e9-9192-f71db4100fe9.gif" alt="2019-06-23 15 41 07"></p>
<h3><a class="anchor" aria-hidden="true" id="help-and-feedback-explorer"></a><a href="#help-and-feedback-explorer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Help and feedback explorer</h3>
<p><img width="295" alt="Screenshot 2019-06-27 at 15 57 15" src="https://user-images.githubusercontent.com/1408093/60277560-1ef50500-98fe-11e9-8c02-70b841a590c3.png"></p>
<h2><a class="anchor" aria-hidden="true" id="support-for-scala-213"></a><a href="#support-for-scala-213" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Support for Scala 2.13</h2>
<p>Metals now supports Scala 2.13.0! Please upgrade to Scalafmt v2.0.0 in order to
format 2.13-specific syntax such as underscore separators (<code>1_000_000</code>). Note
that completions may in rare situations not work perfectly for Scala 2.13, in
particular:</p>
<ul>
<li>whitebox string interpolator macros, we had to disable one unit test for 2.13.
See <a href="https://github.com/scalameta/metals/issues/777">#777</a>.</li>
<li>better-monadic-for compile plugin, we had to disable one unit test for 2.13.
See <a href="https://github.com/scalameta/metals/issues/777">#777</a>.</li>
</ul>
<p>Big thanks to <a href="https://github.com/gabro">@gabro</a> for leading this effort!</p>
<h2><a class="anchor" aria-hidden="true" id="jdk-11-support"></a><a href="#jdk-11-support" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JDK 11 support</h2>
<p>Metals can now run on Java 11! To use Java 11 instead of Java 8, point the
<code>$JAVA_HOME</code> environment variable to a Java 11 installation.</p>
<p>The VS Code extension will continue to use Java 8 by default, update the &quot;Java
Home&quot; setting to use Java 11 instead.</p>
<p><img src="https://i.imgur.com/F5djfzt.png" alt=""></p>
<p>To obtain the Java 11 home on macOS, use the following command:</p>
<pre><code class="hljs css language-sh">$ /usr/libexec/java_home 11
/Library/Java/JavaVirtualMachines/openjdk-11.0.1.jdk/Contents/Home
</code></pre>
<p>Big thanks to <a href="https://github.com/er1c">@er1c</a> for pushing for the effort on
both the Bloop and Metals side to support Java 11!</p>
<h2><a class="anchor" aria-hidden="true" id="improved-classpath-indexing-performance"></a><a href="#improved-classpath-indexing-performance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Improved classpath indexing performance</h2>
<p>Previously, to support fuzzy symbol search Metals indexed classpath elements
using an algorithm that required a quadratic iteration on the number of
characters in classfile names. Now, the fuzzy symbol search algorithm only
requires a linear pass on the characters of a classfile name. This optimization
resulted in a 2x speedup for indexing a 235Mb classpath in our benchmarks.</p>
<pre><code class="hljs css language-diff">  Benchmark                   Mode  Cnt     Score    Error  Units
<span class="hljs-deletion">- ClasspathIndexingBench.run    ss   10  1809.068 Â± 61.461  ms/op # JDK 8</span>
<span class="hljs-addition">+ ClasspathIndexingBench.run    ss   10  919.237  Â± 42.827  ms/op # JDK 8</span>
<span class="hljs-addition">+ ClasspathIndexingBench.run    ss   10  1316.451 Â± 22.595  ms/op # JDK 11</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="fallback-to-find-references-from-goto-definition"></a><a href="#fallback-to-find-references-from-goto-definition" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fallback to &quot;find references&quot; from &quot;goto definition&quot;</h2>
<p>Previously, nothing happened when invoking &quot;goto definition&quot; on the symbol
definition itself. Now, Metals falls back to &quot;find references&quot; in this
situation.</p>
<p><img src="https://i.imgur.com/BT3h0FJ.gif" alt="Fallback"></p>
<p>Big thanks to <a href="https://github.com/tanishiking">@tanishiking</a> for contributing
this new feature!</p>
<h2><a class="anchor" aria-hidden="true" id="dropping-older-scala-versions"></a><a href="#dropping-older-scala-versions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dropping older Scala versions</h2>
<p>The Scala versions supported by Metals are now the following.</p>
<table>
<thead>
<tr><th style="text-align:left">Version</th><th>Old Status</th><th>New Status</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">2.11.9</td><td>Deprecated</td><td>Dropped</td></tr>
<tr><td style="text-align:left">2.11.10</td><td>Deprecated</td><td>Dropped</td></tr>
<tr><td style="text-align:left">2.11.11</td><td>Deprecated</td><td>Dropped</td></tr>
<tr><td style="text-align:left">2.11.12</td><td>Supported</td><td>Deprecated, with no plans to be dropped in upcoming releases*</td></tr>
<tr><td style="text-align:left">2.12.4</td><td>Deprecated</td><td>Dropped</td></tr>
<tr><td style="text-align:left">2.12.5</td><td>Deprecated</td><td>Dropped</td></tr>
<tr><td style="text-align:left">2.12.6</td><td>Deprecated</td><td>Dropped</td></tr>
<tr><td style="text-align:left">2.12.7</td><td>Supported</td><td>Deprecated, please upgrade to 2.12.8</td></tr>
<tr><td style="text-align:left">2.12.8</td><td>Supported</td><td>Supported</td></tr>
<tr><td style="text-align:left">2.13.0</td><td>Unsupported</td><td>Supported</td></tr>
</tbody>
</table>
<p>* Scala 2.11 support will likely stay around for a while given the situation
with Spark, Scala Native, Playframework and other libraries and frameworks that
have been late to adopt 2.12. Our download numbers show that ~10% of Metals
users are still on 2.11. Nevertheless, we encourage our users to upgrade to 2.12
to enjoy a better code editing experience thanks to multiple improvements in the
compiler.</p>
<h2><a class="anchor" aria-hidden="true" id="fixes-for-auto-importing-builds"></a><a href="#fixes-for-auto-importing-builds" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fixes for auto importing builds</h2>
<ul>
<li>digest only <code>.sbt</code> files at workspace level for sbt projects (thanks
<a href="https://github.com/wojciechUrbanski">@wojciechUrbanski</a>!)</li>
<li>fix SemanticDB plugin path on Windows for Gradle workspaces</li>
<li>update default Mill version to 0.4.1 to fix an issue with classpath not
containing Scala library</li>
<li>Metals now pick up the version from <code>.mill-version</code> for the <code>millw</code> script</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="no-more-work-in-progress"></a><a href="#no-more-work-in-progress" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>No more &quot;work in progress&quot;</h2>
<p>Previously, the Metals website used the &quot;Work-in-progress language server for
Scala&quot; tagline to reflect the experimental status of the project. Now, the
tagline on the website has been changed to &quot;Scala language server with rich IDE
features&quot; to reflect that Metals is used by thousands of developers today for
their day-to-day coding.</p>
<h2><a class="anchor" aria-hidden="true" id="miscellaneous-fixes"></a><a href="#miscellaneous-fixes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Miscellaneous fixes</h2>
<ul>
<li>fix off-by-one for parameter hints when the cursor was after the closing <code>)</code>
parenthesis</li>
<li>make sure we add an autoimport in the correct line in case of brackets</li>
<li>document symbol outline no longer fails when <code>val _ = ()</code> is the only thing in
a block expression</li>
<li>nested objects are now imported correctly in case of deeper nesting</li>
<li>fix concurrent modification in text document cache (thanks
<a href="https://github.com/chikei">@chikei</a>!)</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="contributors"></a><a href="#contributors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contributors</h2>
<p>Big thanks to everybody who contributed to this release, it's amazing we had a
couple of new contributors to Metals!</p>
<pre><code class="hljs"><span class="hljs-meta">$</span> <span class="hljs-string">git shortlog -sn --no-merges v0.6.1..v0.7.0</span>
<span class="hljs-attr">Gabriele</span> <span class="hljs-string">Petronella</span>
<span class="hljs-meta">Ã“lafur</span> <span class="hljs-string">PÃ¡ll Geirsson</span>
<span class="hljs-attr">Tomasz</span> <span class="hljs-string">Godzik</span>
<span class="hljs-attr">Eric</span> <span class="hljs-string">Peters</span>
<span class="hljs-attr">tanishiking</span>
<span class="hljs-attr">Ruben</span> <span class="hljs-string">Berenguel</span>
<span class="hljs-attr">TzeKei</span> <span class="hljs-string">Lee</span>
<span class="hljs-attr">Wojciech</span> <span class="hljs-string">Urbanski</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="merged-prs"></a><a href="#merged-prs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Merged PRs</h2>
<h2><a class="anchor" aria-hidden="true" id="v070-https-githubcom-scalameta-metals-tree-v070-2019-06-28"></a><a href="#v070-https-githubcom-scalameta-metals-tree-v070-2019-06-28" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://github.com/scalameta/metals/tree/v0.7.0">v0.7.0</a> (2019-06-28)</h2>
<p><a href="https://github.com/scalameta/metals/compare/v0.6.1...v0.7.0">Full Changelog</a></p>
<p><strong>Merged pull requests:</strong></p>
<ul>
<li>Upgrade to Scalameta v4.2.0
<a href="https://github.com/scalameta/metals/pull/799">#799</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Introduce Tree View Protocol
<a href="https://github.com/scalameta/metals/pull/797">#797</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Add a benchmark for classpath indexing performance.
<a href="https://github.com/scalameta/metals/pull/795">#795</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Migrate Java converters to 2.13
<a href="https://github.com/scalameta/metals/pull/794">#794</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Remove dot as a commit character
<a href="https://github.com/scalameta/metals/pull/793">#793</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Make classpath indexing linear instead of quadratic.
<a href="https://github.com/scalameta/metals/pull/792">#792</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Use 2.13 dialect for syntax errors
<a href="https://github.com/scalameta/metals/pull/789">#789</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Fix off-by-one for parameter hints.
<a href="https://github.com/scalameta/metals/pull/786">#786</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Make sure we add an autoimport in the correct line
<a href="https://github.com/scalameta/metals/pull/785">#785</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Fix typo <a href="https://github.com/scalameta/metals/pull/784">#784</a>
(<a href="https://github.com/tanishiking">tanishiking</a>)</li>
<li>Remove Work-in-progress from the tagline
<a href="https://github.com/scalameta/metals/pull/782">#782</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Fix JdkSources not to ignore JAVA_HOME environment variable
<a href="https://github.com/scalameta/metals/pull/781">#781</a>
(<a href="https://github.com/tanishiking">tanishiking</a>)</li>
<li>Fix importing nested objects
<a href="https://github.com/scalameta/metals/pull/778">#778</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Fix an issue when <code>val \_ = \(\)</code> is the only thing in the block
<a href="https://github.com/scalameta/metals/pull/776">#776</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Fallback to &quot;show usages&quot; from &quot;Goto definition&quot; if the symbol represents a
definition itself <a href="https://github.com/scalameta/metals/pull/775">#775</a>
(<a href="https://github.com/tanishiking">tanishiking</a>)</li>
<li>Move slow tests to separate directories and run them separately on Travis
<a href="https://github.com/scalameta/metals/pull/773">#773</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Digest only sbt files at workspace level
<a href="https://github.com/scalameta/metals/pull/772">#772</a>
(<a href="https://github.com/wojciechUrbanski">wojciechUrbanski</a>)</li>
<li>Fix wrong windows SemanticDB file path
<a href="https://github.com/scalameta/metals/pull/771">#771</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Fix concurrent modification
<a href="https://github.com/scalameta/metals/pull/766">#766</a>
(<a href="https://github.com/chikei">chikei</a>)</li>
<li>Factor out a ClasspathLoader.getURLs(classLoader) helper for java9+
compatability, update usages
<a href="https://github.com/scalameta/metals/pull/765">#765</a>
(<a href="https://github.com/er1c">er1c</a>)</li>
<li>Include mill version from .mill-version file
<a href="https://github.com/scalameta/metals/pull/764">#764</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Add 2.13 support and drop deprecated versions
<a href="https://github.com/scalameta/metals/pull/763">#763</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Clarifiyng a setting <a href="https://github.com/scalameta/metals/pull/759">#759</a>
(<a href="https://github.com/rberenguel">rberenguel</a>)</li>
<li>Fix very small typo in docs
<a href="https://github.com/scalameta/metals/pull/758">#758</a>
(<a href="https://github.com/rberenguel">rberenguel</a>)</li>
<li>Fix completions to compilation in blog
<a href="https://github.com/scalameta/metals/pull/757">#757</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Update VS Code docs <a href="https://github.com/scalameta/metals/pull/756">#756</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Add release notes for Metals Radium release
<a href="https://github.com/scalameta/metals/pull/752">#752</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/metals/blog/2019/06/11/radium.html">Metals v0.6.1 - Radium</a></h1><p class="post-meta">June 11, 2019</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/tomekgodzik" target="_blank" rel="noreferrer noopener">Tomasz Godzik</a></p><div class="authorPhoto"><a href="https://twitter.com/tomekgodzik" target="_blank" rel="noreferrer noopener"><img src="https://avatars1.githubusercontent.com/u/3807253?s=460&amp;v=4" alt="Tomasz Godzik"/></a></div></div></header><article class="post-content"><div><span><p>We are excited to announce the release of Metals v0.6.1, codename &quot;Radium&quot; ðŸŽ‰
The release mostly focused on adding support for the build tools Gradle, Maven
and Mill.</p>
<p>Metals is a language server for Scala that works with VS Code, Atom, Vim,
Sublime Text and Emacs. Metals is developed at the
<a href="https://scala.epfl.ch/">Scala Center</a> along with contributors from the
community.</p>
<p>In this release we merged 24 PRs and closed 6 issues, full details:
<a href="https://github.com/scalameta/metals/milestone/7?closed=1">https://github.com/scalameta/metals/milestone/7?closed=1</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="tl-dr"></a><a href="#tl-dr" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TL;DR</h2>
<ul>
<li>automatic &quot;import build&quot; for Gradle, Maven and Mill</li>
<li>upgraded to Bloop v1.3.2</li>
<li>better handling of requests that access the presentation compiler</li>
<li>code completions on keywords</li>
<li>VS Code doesn't compile projects until it is focused</li>
<li>Metals is now a default server in the Sublime LSP package</li>
</ul>
<p>Check out the website and give Metals a try: <a href="https://scalameta.org/metals/">https://scalameta.org/metals/</a></p>
<h2><a class="anchor" aria-hidden="true" id="bloop-upgrade"></a><a href="#bloop-upgrade" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bloop upgrade</h2>
<p>Metals now depends on Bloop v1.3.2 instead of v1.2.5. The v1.3 release of Bloop
has a ton of nice improvements that benefit Metals users. For full details, see
the
<a href="https://github.com/scalacenter/bloop/releases/tag/v1.3.0">Bloop v1.3.0 release notes</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="automatic-import-build-for-gradle-maven-and-mill"></a><a href="#automatic-import-build-for-gradle-maven-and-mill" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Automatic &quot;import build&quot; for Gradle, Maven and Mill</h2>
<p>Now, it's possible to use Metals with the build tools Gradle, Maven and Mill!
Importing a build with Gradle, Maven and Mill now works the same way it works
for sbt.</p>
<p>For more details, see the corresponding documentation for each build tool:</p>
<ul>
<li><a href="http://scalameta.org/metals/docs/build-tools/overview.html">Overview</a></li>
<li><a href="http://scalameta.org/metals/docs/build-tools/gradle.html">Gradle</a></li>
<li><a href="http://scalameta.org/metals/docs/build-tools/maven.html">Maven</a></li>
<li><a href="http://scalameta.org/metals/docs/build-tools/mill.html">Mill</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="more-reliable-shutdown"></a><a href="#more-reliable-shutdown" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>More reliable shutdown</h2>
<p>An issue where the Metals process could continue running even after closing the
editor has now been fixed.</p>
<h2><a class="anchor" aria-hidden="true" id="completions-freeze-less"></a><a href="#completions-freeze-less" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Completions freeze less</h2>
<p>An issue where Metals could get stuck in an infinite loop using 100% CPU while
responding to completions has now been fixed.</p>
<h2><a class="anchor" aria-hidden="true" id="keyword-completions"></a><a href="#keyword-completions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Keyword completions</h2>
<p>Previously, Metals did not complete keywords like <code>import</code>, <code>new</code>, <code>lazy val</code> or
<code>trait</code>. Language keywords are now included in the auto-completions in most
cases.</p>
<pre><code class="hljs css language-scala"><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Main</span> </span>{
    <span class="hljs-comment">// Before</span>
    impo&lt;<span class="hljs-type">COMPLETE</span>&gt;
    <span class="hljs-comment">// After</span>
    <span class="hljs-keyword">import</span>
}
</code></pre>
<p>Keywords are suggested based on the context (e.g. you won't see throw suggested
if the cursor is not inside a declaration)</p>
<p>The only keywords that are not completed are: <code>extends</code>, <code>finally</code>, <code>with</code>,
<code>forSome</code>, <code>catch</code> and <code>finally</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="vs-code-doesnt-compile-projects-until-it-is-focused"></a><a href="#vs-code-doesnt-compile-projects-until-it-is-focused" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>VS Code doesn't compile projects until it is focused</h2>
<p>Previously, Metals would trigger compilation in the background even if the VS
Code window was not focused. For example, switching git branches in a separate
terminal window would still trigger compilation in Metals. Now, Metals waits
until the VS Code window is focused to trigger compilation.</p>
<p>This feature is implemented as a LSP extension and is currently only supported
by VS Code. For details on how to implement this extension for another editor,
see the
<a href="http://scalameta.org/metals/docs/editors/new-editor.html#metals-windowstatedidchange">documentation on integrating a new text editor</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="metals-is-now-a-default-server-in-the-sublime-lsp-package"></a><a href="#metals-is-now-a-default-server-in-the-sublime-lsp-package" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Metals is now a default server in the Sublime LSP package</h2>
<p>Metals is now a default server for Scala source files in the LSP package, see
<a href="https://github.com/tomv564/LSP/pull/571">tomv564/LSP#571</a>. This greatly
simplifies the installation steps for Sublime Text users.</p>
<h2><a class="anchor" aria-hidden="true" id="contributors"></a><a href="#contributors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contributors</h2>
<p>Big thanks to everybody who contributed to this release!</p>
<pre><code class="hljs"><span class="hljs-meta">$</span> <span class="hljs-string">git shortlog -sn --no-merges v0.5.1..v0.6.1</span>
<span class="hljs-meta">Ã“lafur</span> <span class="hljs-string">PÃ¡ll Geirsson</span>
<span class="hljs-attr">Adam</span> <span class="hljs-string">Gajek</span>
<span class="hljs-attr">Tomasz</span> <span class="hljs-string">Godzik</span>
<span class="hljs-attr">Gabriele</span> <span class="hljs-string">Petronella</span>
<span class="hljs-attr">Ayoub</span> <span class="hljs-string">Benali</span>
<span class="hljs-attr">Cody</span> <span class="hljs-string">Allen</span>
<span class="hljs-attr">Evgeny</span> <span class="hljs-string">Kurnevsky</span>
<span class="hljs-attr">Jeffrey</span> <span class="hljs-string">Lau</span>
<span class="hljs-attr">Marek</span> <span class="hljs-string">Å»arnowski</span>
<span class="hljs-attr">Markus</span> <span class="hljs-string">Hauck</span>
<span class="hljs-attr">German</span> <span class="hljs-string">Greiner</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="merged-prs"></a><a href="#merged-prs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Merged PRs</h2>
<ul>
<li>Avoid inifinite loop when shortening types
<a href="https://github.com/scalameta/metals/pull/751">#751</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Move releasing info to the website
<a href="https://github.com/scalameta/metals/pull/748">#748</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Update bloop to 1.3.2 <a href="https://github.com/scalameta/metals/pull/747">#747</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Split build tool and executable name to show properly in output
<a href="https://github.com/scalameta/metals/pull/746">#746</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Update bloop to 1.3.0 and BSP to 2.0.0-M4
<a href="https://github.com/scalameta/metals/pull/745">#745</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Add better hint in the doctor for Maven workspaces
<a href="https://github.com/scalameta/metals/pull/744">#744</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Update emacs docs as scala is supported by lsp-mode directly now
<a href="https://github.com/scalameta/metals/pull/741">#741</a>
(<a href="https://github.com/kurnevsky">kurnevsky</a>)</li>
<li>Remove Scalafix from pre-push git hook.
<a href="https://github.com/scalameta/metals/pull/740">#740</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Setup git hooks for scalafmt and scalafix.
<a href="https://github.com/scalameta/metals/pull/738">#738</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Add automatic Mill import to metals
<a href="https://github.com/scalameta/metals/pull/737">#737</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Improve handling of requests that access the presentation compiler.
<a href="https://github.com/scalameta/metals/pull/736">#736</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Enforce scala version for embedded bloop server
<a href="https://github.com/scalameta/metals/pull/735">#735</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Ensure build server shuts down before starting new build connection.
<a href="https://github.com/scalameta/metals/pull/731">#731</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Fix blogpost typo <a href="https://github.com/scalameta/metals/pull/730">#730</a>
(<a href="https://github.com/zoonfafer">zoonfafer</a>)</li>
<li>Miscellaneous polish fixes
<a href="https://github.com/scalameta/metals/pull/729">#729</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Implement textDocument/codeLens to run main function
<a href="https://github.com/scalameta/metals/pull/728">#728</a>
(<a href="https://github.com/marek1840">marek1840</a>)</li>
<li>Fix newlines in process output.
<a href="https://github.com/scalameta/metals/pull/727">#727</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Update sublime doc <a href="https://github.com/scalameta/metals/pull/726">#726</a>
(<a href="https://github.com/ayoub-benali">ayoub-benali</a>)</li>
<li>Fix transitive scala library dependency in Gradle builds.
<a href="https://github.com/scalameta/metals/pull/725">#725</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Adds maven integration to metals
<a href="https://github.com/scalameta/metals/pull/722">#722</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Use CocRequestAsync in Vim docs
<a href="https://github.com/scalameta/metals/pull/717">#717</a>
(<a href="https://github.com/ceedubs">ceedubs</a>)</li>
<li>Set timeout for shutdown procedure, fixes #715.
<a href="https://github.com/scalameta/metals/pull/716">#716</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Add keyword completion <a href="https://github.com/scalameta/metals/pull/712">#712</a>
(<a href="https://github.com/markus1189">markus1189</a>)</li>
<li>Make bloop versions customizable via server properties.
<a href="https://github.com/scalameta/metals/pull/710">#710</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Pause compile-on-save while the editor window is not focused
<a href="https://github.com/scalameta/metals/pull/709">#709</a>
(<a href="https://github.com/agajek">agajek</a>)</li>
<li>Add gradle support to imports in metals and refactor build tool support.
<a href="https://github.com/scalameta/metals/pull/694">#694</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/metals/blog/2019/04/26/mercury.html">Metals v0.5.1</a></h1><p class="post-meta">April 26, 2019</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener">Ã“lafur PÃ¡ll Geirsson</a></p><div class="authorPhoto"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener"><img src="https://avatars2.githubusercontent.com/u/1408093?s=460&amp;v=4" alt="Ã“lafur PÃ¡ll Geirsson"/></a></div></div></header><article class="post-content"><div><span><p>This release introduces minor improvements and bug fixes with highlights
including:</p>
<ul>
<li>auto-imports are inserted at the toplevel instead of locally</li>
<li>document symbol lists inner methods and anonymous classes</li>
<li>the recommended Vim client is now coc.nvim</li>
<li>diagnostics are cleared for deleted files</li>
<li>fuzzy symbol search no longer returns results for deleted files</li>
<li>find all references now handles synthetic <code>update</code> calls</li>
<li>deprecate older Scala versions</li>
</ul>
<p>Metals is a language server for Scala that works with VS Code, Atom, Vim,
Sublime Text and Emacs. Metals is developed at the
<a href="https://scala.epfl.ch/">Scala Center</a> along with contributors from the
community.</p>
<p>In this release we merged 15 PRs and closed 7 issues, full details:
<a href="https://github.com/scalameta/metals/milestone/8?closed=1">https://github.com/scalameta/metals/milestone/8?closed=1</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="automatic-imports-are-placed-globally-instead-of-locally"></a><a href="#automatic-imports-are-placed-globally-instead-of-locally" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Automatic imports are placed globally instead of locally</h2>
<p>Previously, auto-imports were placed locally like this:</p>
<pre><code class="hljs css language-scala"><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Main</span> </span>{
  <span class="hljs-keyword">import</span> scala.concurrent.<span class="hljs-type">Future</span> <span class="hljs-comment">// &lt;- automatically added by Metals</span>
  <span class="hljs-keyword">val</span> future = <span class="hljs-type">Future</span>@@
}
</code></pre>
<p>Now, the import is inserted at the toplevel instead</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> scala.concurrent.<span class="hljs-type">Future</span> <span class="hljs-comment">// &lt;- automatically added by Metals</span>

<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Main</span> </span>{
  <span class="hljs-keyword">val</span> future = <span class="hljs-type">Future</span>@@
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="document-symbols-now-shows-inner-methods-and-anonymous-classes"></a><a href="#document-symbols-now-shows-inner-methods-and-anonymous-classes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Document symbols now shows inner methods and anonymous classes</h2>
<p><strong>Before</strong>:</p>
<p><img src="https://user-images.githubusercontent.com/691940/56455884-dc92d300-6364-11e9-837e-c8aedd13e78d.png" alt="image"></p>
<p><strong>After</strong>:</p>
<p><img src="https://user-images.githubusercontent.com/691940/56455880-cab13000-6364-11e9-910a-4b55854df147.png" alt="image"></p>
<h2><a class="anchor" aria-hidden="true" id="diagnostics-gracefully-handle-deleted-files"></a><a href="#diagnostics-gracefully-handle-deleted-files" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Diagnostics gracefully handle deleted files</h2>
<p>Previously, deleting a file with compile errors would result in the stale
diagnostics to stay until you restarted the Metals server. Now, diagnostics are
cleared when a source file is deleted.</p>
<h2><a class="anchor" aria-hidden="true" id="fuzzy-symbol-search-gracefully-handles-deleted-files"></a><a href="#fuzzy-symbol-search-gracefully-handles-deleted-files" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fuzzy symbol search gracefully handles deleted files</h2>
<p>Previously, fuzzy searching for a symbol could return results from deleted
files. Now, fuzzy symbol search only shows results from files that exist on
disk.</p>
<h2><a class="anchor" aria-hidden="true" id="find-all-references-handles-synthetic-update-calls"></a><a href="#find-all-references-handles-synthetic-update-calls" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Find all references handles synthetic <code>update</code> calls</h2>
<p>Previously, find all references did not catch references where an <code>update()</code>
method call was synthesized.</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">val</span> cache = mutable.<span class="hljs-type">Map</span>.empty[<span class="hljs-type">String</span>, <span class="hljs-type">String</span>]
cache(<span class="hljs-string">"a"</span>) = <span class="hljs-string">"b"</span> <span class="hljs-comment">// before: referenced `Map.update()` instead of `cache`</span>
</code></pre>
<p>Now, the reference to <code>cache</code> in <code>cache(&quot;a&quot;) = &quot;b&quot;</code> is indexed as well as the
synthetic call to the <code>Map.update()</code> method.</p>
<h2><a class="anchor" aria-hidden="true" id="the-recommended-vim-client-is-now-cocnvim"></a><a href="#the-recommended-vim-client-is-now-cocnvim" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The recommended Vim client is now coc.nvim</h2>
<p>Previously, the
<a href="https://scalameta.org/metals/docs/editors/vim.html">vim installation instructions</a>
recommended the vim-lsc client. Now, the installation instructions recommend
coc.vim since it supports more functionality of the Language Server Protocol. If
you use Vim, we recommend trying out coc.vim to enjoy more advanced features
like completions with auto-imports.</p>
<h2><a class="anchor" aria-hidden="true" id="deprecate-older-scala-versions"></a><a href="#deprecate-older-scala-versions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deprecate older Scala versions</h2>
<p>Metals works with Scala 2.11 and Scala 2.12. Starting from the next release,
Metals will drop support for the older patch versions of those series, and it
will exclusively support these version:</p>
<ul>
<li>2.11.12</li>
<li>2.12.7</li>
<li>2.12.8</li>
</ul>
<p>Starting from this release, we will show a warning at startup if you're using an
outdated Scala version, prompting you to upgrade your project to the latest
version.</p>
<h2><a class="anchor" aria-hidden="true" id="contributors"></a><a href="#contributors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contributors</h2>
<p>Big thanks to everybody who contributed to this release!</p>
<pre><code class="hljs"><span class="hljs-meta">$</span> <span class="hljs-string">git shortlog -sn --no-merges v0.5.0..v0.5.1</span>
<span class="hljs-meta">Ã“lafur</span> <span class="hljs-string">PÃ¡ll Geirsson</span>
<span class="hljs-attr">Gabriele</span> <span class="hljs-string">Petronella</span>
<span class="hljs-attr">Gabriel</span> <span class="hljs-string">Volpe</span>
<span class="hljs-attr">JesusMtnez</span>
<span class="hljs-attr">Eric</span> <span class="hljs-string">Peters</span>
<span class="hljs-attr">Arnout</span> <span class="hljs-string">Engelen</span>
<span class="hljs-attr">Robin</span> <span class="hljs-string">Green</span>
<span class="hljs-attr">Tomasz</span> <span class="hljs-string">Godzik</span>
<span class="hljs-attr">David</span> <span class="hljs-string">Strawn</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="merged-prs"></a><a href="#merged-prs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Merged PRs</h2>
<ul>
<li>Upgrade to latest Scalameta.
<a href="https://github.com/scalameta/metals/pull/702">#702</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Add question template <a href="https://github.com/scalameta/metals/pull/701">#701</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Don't return workspace/symbol results for deleted files.
<a href="https://github.com/scalameta/metals/pull/695">#695</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Insert global imports instead of local imports.
<a href="https://github.com/scalameta/metals/pull/692">#692</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Fix a dead link to Bloop site
<a href="https://github.com/scalameta/metals/pull/691">#691</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Update a couple .lines to .linesIterator for java11
<a href="https://github.com/scalameta/metals/pull/688">#688</a>
(<a href="https://github.com/er1c">er1c</a>)</li>
<li>Fix typo <a href="https://github.com/scalameta/metals/pull/687">#687</a>
(<a href="https://github.com/greenrd">greenrd</a>)</li>
<li>Handle document symbols for nested declarations
<a href="https://github.com/scalameta/metals/pull/686">#686</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Update Emacs docs <a href="https://github.com/scalameta/metals/pull/681">#681</a>
(<a href="https://github.com/JesusMtnez">JesusMtnez</a>)</li>
<li>Add &quot;Coming from IntelliJ&quot; section to VS Code docs.
<a href="https://github.com/scalameta/metals/pull/678">#678</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Clear diagnostics on build import, fixes #644.
<a href="https://github.com/scalameta/metals/pull/677">#677</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Disable flaky test on Appveyor.
<a href="https://github.com/scalameta/metals/pull/676">#676</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Update stable version in issue template
<a href="https://github.com/scalameta/metals/pull/671">#671</a>
(<a href="https://github.com/gabro">gabro</a>)</li>
<li>Documenting coc.nvim as the recommended LSP client for Vim
<a href="https://github.com/scalameta/metals/pull/665">#665</a>
(<a href="https://github.com/gvolpe">gvolpe</a>)</li>
<li>Remove Deprecated Usage Of <code>java.util.Date</code> API
<a href="https://github.com/scalameta/metals/pull/663">#663</a>
(<a href="https://github.com/isomarcte">isomarcte</a>)</li>
<li>Link to vscode marketplace
<a href="https://github.com/scalameta/metals/pull/661">#661</a>
(<a href="https://github.com/raboof">raboof</a>)</li>
<li>Use correct GIF for signature help on landing page.
<a href="https://github.com/scalameta/metals/pull/660">#660</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Document new features and write release announcement.
<a href="https://github.com/scalameta/metals/pull/655">#655</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Make detail view in override not show unicode character.
<a href="https://github.com/scalameta/metals/pull/654">#654</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/metals/blog/2019/04/12/mercury.html">Metals v0.5.0</a></h1><p class="post-meta">April 12, 2019</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener">Ã“lafur PÃ¡ll Geirsson</a></p><div class="authorPhoto"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener"><img src="https://avatars2.githubusercontent.com/u/1408093?s=460&amp;v=4" alt="Ã“lafur PÃ¡ll Geirsson"/></a></div></div></header><article class="post-content"><div><span><p>We are excited to announce the release of Metals v0.5, codename &quot;Mercury&quot; ðŸŽ‰
This release introduces new features, performance improvements and bug fixes
with highlights including:</p>
<ul>
<li>code completions</li>
<li>parameter hints</li>
<li>show type at point</li>
<li>code folding</li>
<li>document highlight</li>
</ul>
<p>Metals is a language server for Scala that works with VS Code, Atom, Vim,
Sublime Text and Emacs. Metals is developed at the
<a href="https://scala.epfl.ch/">Scala Center</a> along with contributors from the
community.</p>
<p>In this milestone we merged 76 PRs and closed 26 issues, full details:
<a href="https://github.com/scalameta/metals/milestone/4?closed=1">https://github.com/scalameta/metals/milestone/4?closed=1</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="code-completions"></a><a href="#code-completions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Code completions</h2>
<p>It's now possible to use code completions to explore APIs, implement interfaces,
generate exhaustive pattern matches and more.</p>
<p><img src="https://user-images.githubusercontent.com/1408093/56036958-725bac00-5d2e-11e9-9cf7-46249125494a.gif" alt="2019-04-12 14 19 39"></p>
<ul>
<li><strong>Auto-import</strong>: symbols that are not in scope are automatically imported
locally. Imports still need to be organized manually, we are exploring ways to
automate this workflow in the future.</li>
<li><strong>Override def</strong>: implement methods from the super class.</li>
<li><strong>Exhaustive match</strong>: generate an exhaustive pattern match for sealed types.</li>
<li><strong>String interpolator</strong>: automatically convert string literals into string
interpolators.</li>
<li><strong>Filename</strong>: complete classnames based on the enclosing file.</li>
<li><strong>Documentation</strong>: read the docstring for method symbols by pressing
ctrl+space in VS Code.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="hover-aka-type-at-point"></a><a href="#hover-aka-type-at-point" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Hover (aka. type at point)</h2>
<p>It's now possible to see the expression type and symbol signature under the
cursor.</p>
<p><img src="https://i.imgur.com/2MfQvsM.gif" alt=""></p>
<ul>
<li><strong>Expression type</strong>: shows the non-generic type of the highlighted expression.</li>
<li><strong>Symbol signature</strong>: shows the generic signature of symbol under the cursor
along with its docstring, if available.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="signature-help-aka-parameter-hints"></a><a href="#signature-help-aka-parameter-hints" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Signature help (aka. parameter hints)</h2>
<p>It's now possible to view a method signature and overloads as you fill in
arguments.</p>
<p><img src="https://i.imgur.com/DAWIrHu.gif" alt=""></p>
<h2><a class="anchor" aria-hidden="true" id="code-folding"></a><a href="#code-folding" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Code folding</h2>
<p>It's now possible to fold ranges such as large expressions, import groups and
comments.</p>
<p><img src="https://camo.githubusercontent.com/3fdd7ae28907ac61c0a1ac5fdc07d085245957aa/68747470733a2f2f692e696d6775722e636f6d2f667149554a54472e676966" alt=""></p>
<p>Big thanks to <a href="https://github.com/marek1840">@marek1840</a> for contributing this
feature!</p>
<h2><a class="anchor" aria-hidden="true" id="document-highlight"></a><a href="#document-highlight" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Document highlight</h2>
<p>It's now possible to highlight references to the same symbol in the open file.</p>
<p><img src="https://i.imgur.com/0uhc9P5.gif" alt=""></p>
<p>Big thanks to <a href="https://github.com/tgodzik">@tgodzik</a> for contributing this
feature!</p>
<h2><a class="anchor" aria-hidden="true" id="faster-and-more-relevant-fuzzy-symbol-search"></a><a href="#faster-and-more-relevant-fuzzy-symbol-search" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Faster and more relevant fuzzy symbol search</h2>
<p>Previously, fuzzy symbol search (<code>workspace/symbol</code> in LSP) always returned
results from both the workspace and library dependencies. Now, fuzzy symbol
search returns only results from the workspace unless the query contains a
semicolon character <code>;</code>. For example:</p>
<ul>
<li>query &quot;Future&quot;: workspace only, with fallback to library dependencies if
workspace contains 0 results</li>
<li>queries &quot;Future;&quot; or &quot;;Future&quot; or &quot;Fut;ure&quot;: workspace + library dependencies.</li>
</ul>
<p><img src="https://i.imgur.com/w5yrK1w.gif" alt=""></p>
<p>This change improves the quality for the search results since most often you
want to navigate to symbols defined in the workspace. A nice side-effect is that
workspace-only searches are faster because we avoid redundant work by not
looking at library dependencies.</p>
<p>In addition, this release introduces a new in-memory index for workspace-only
symbol queries resulting in even better performance compared to the last
release.</p>
<h2><a class="anchor" aria-hidden="true" id="goto-definition-for-in-memory-edits"></a><a href="#goto-definition-for-in-memory-edits" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Goto definition for in-memory edits</h2>
<p>Previously, goto definition worked only for identifiers that had been saved and
successfully compiled in the build tool. Now, you can use goto definition for
symbols that you just typed even if the source file hasn't been saved or
contains type errors.</p>
<p><img src="https://i.imgur.com/63PYPhX.gif" alt=""></p>
<h2><a class="anchor" aria-hidden="true" id="standalone-scala-files-outside-a-build-tool"></a><a href="#standalone-scala-files-outside-a-build-tool" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Standalone Scala files outside a build tool</h2>
<p>Previously, semantic features like goto definition worked only for sources that
belong to a build project. Now, Metals provides completions, parameter hints,
hover and definition for local symbols in standalone Scala files. The classpath
for standalone Scala files includes the JDK and the Scala standard library so
features like completion will not understand symbols from external library
dependencies.</p>
<p><strong>Known limitation</strong>: only syntax errors are published for standalone Scala
files, the file must belong to a build in order to see type errors.</p>
<h2><a class="anchor" aria-hidden="true" id="new-collaboration-with-virtuslab"></a><a href="#new-collaboration-with-virtuslab" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>New collaboration with VirtusLab</h2>
<p>As part of a new collaboration between <a href="https://virtuslab.com/">VirtusLab</a> and
the Scala Center, <a href="https://github.com/marek1840">Marek Å»arnowski (@marek1840)</a>
and <a href="https://github.com/tgodzik">Tomasz Godzik (@tgodzik)</a> will be contributing
to Metals development for the coming months. They have already contributed
several impressive pull requests:</p>
<ul>
<li><code>textDocument/foldingRange</code>
<a href="https://github.com/scalameta/metals/pull/632">(#632)</a>: code folding that
understands Scala syntax.</li>
<li><code>textDocument/documentHighlight</code>
<a href="https://github.com/scalameta/metals/pull/621">(#621)</a>: highlight occurrences
of a symbol in the current file.</li>
<li><code>textDocument/completion</code>
<a href="https://github.com/scalameta/metals/pull/640">(#640)</a>: override def
completions from without the need to type &quot;override def &quot;.</li>
</ul>
<p>It is our pleasure to welcome them to the team and we look forward to working
together with them to improve the Scala editing experience :)</p>
<h2><a class="anchor" aria-hidden="true" id="contributors"></a><a href="#contributors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contributors</h2>
<p>Big thanks to everybody who contributed to this release! In particular, big
thanks to <a href="https://github.com/jvican/">@jvican</a> and
<a href="https://github.com/gabro/">@gabro</a> for invaluable feedback both online and
offline.</p>
<pre><code class="hljs"><span class="hljs-meta">$</span> <span class="hljs-string">git shortlog -sn --no-merges v0.4.4..v0.5.0</span>
<span class="hljs-meta">Ã“lafur</span> <span class="hljs-string">PÃ¡ll Geirsson</span>
<span class="hljs-attr">Marek</span> <span class="hljs-string">Å»arnowski</span>
<span class="hljs-attr">Johan</span> <span class="hljs-string">Muedsam</span>
<span class="hljs-attr">JesusMtnez</span>
<span class="hljs-attr">Tomasz</span> <span class="hljs-string">Godzik</span>
<span class="hljs-attr">Tim</span> <span class="hljs-string">Nieradzik</span>
<span class="hljs-attr">Ayoub</span> <span class="hljs-string">Benali</span>
<span class="hljs-attr">Eric</span> <span class="hljs-string">Peters</span>
<span class="hljs-attr">Alexey</span> <span class="hljs-string">Alekhin</span>
<span class="hljs-attr">keiSunagawa</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="merged-prs"></a><a href="#merged-prs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Merged PRs</h2>
<ul>
<li>Implement goto definition fallback with the presentation compiler.
<a href="https://github.com/scalameta/metals/pull/645">#645</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Generate exhaustive pattern match for sealed types.
<a href="https://github.com/scalameta/metals/pull/643">#643</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Improve quality and performance of workspace/symbol, fixes #639.
<a href="https://github.com/scalameta/metals/pull/642">#642</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Enable workspace query to match package object
<a href="https://github.com/scalameta/metals/pull/641">#641</a>
(<a href="https://github.com/mudsam">mudsam</a>)</li>
<li>Make completions work on overr&lt;COMPLETE&gt; and def&lt;COMPLETE&gt;
<a href="https://github.com/scalameta/metals/pull/640">#640</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Give CompletionPosition finer control over sorting, fixes #619.
<a href="https://github.com/scalameta/metals/pull/638">#638</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Several UX improvements <a href="https://github.com/scalameta/metals/pull/637">#637</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Use fallback presentation compiler for missing build target.
<a href="https://github.com/scalameta/metals/pull/634">#634</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Fix six bugs <a href="https://github.com/scalameta/metals/pull/633">#633</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Implement textDocument/foldingRange
<a href="https://github.com/scalameta/metals/pull/632">#632</a>
(<a href="https://github.com/marek1840">marek1840</a>)</li>
<li>Provide fuzzier type member matching and more polished sorting.
<a href="https://github.com/scalameta/metals/pull/629">#629</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Sort symbols defined in the current file to the top, fixes #618.
<a href="https://github.com/scalameta/metals/pull/628">#628</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Render @see as links. Improve inline link handling and update test cases.
<a href="https://github.com/scalameta/metals/pull/627">#627</a>
(<a href="https://github.com/mudsam">mudsam</a>)</li>
<li>Disable macro-paradise compiler plugin, fixes #622.
<a href="https://github.com/scalameta/metals/pull/625">#625</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Improve completion snippets, fixes #610.
<a href="https://github.com/scalameta/metals/pull/623">#623</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Implement textDocument/documentHighlight
<a href="https://github.com/scalameta/metals/pull/621">#621</a>
(<a href="https://github.com/tgodzik">tgodzik</a>)</li>
<li>Handle exceptions when computing completion position.
<a href="https://github.com/scalameta/metals/pull/616">#616</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Don't eagerly load presentation compiler during tests.
<a href="https://github.com/scalameta/metals/pull/614">#614</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Eagerly load presentation compiler for open buffers.
<a href="https://github.com/scalameta/metals/pull/605">#605</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Eagerly load Scalafmt during initialized
<a href="https://github.com/scalameta/metals/pull/604">#604</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Complete filename when defining toplevel class/trait/object
<a href="https://github.com/scalameta/metals/pull/603">#603</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Remove signature help fallback in hover.
<a href="https://github.com/scalameta/metals/pull/602">#602</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Fix #599, don't insert import above generated parameter accessors
<a href="https://github.com/scalameta/metals/pull/600">#600</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Several small fixes <a href="https://github.com/scalameta/metals/pull/597">#597</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Support navigation for library dependencies in Scala versions.
<a href="https://github.com/scalameta/metals/pull/596">#596</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Implement hover (aka. type at point).
<a href="https://github.com/scalameta/metals/pull/595">#595</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Fix auto-import position around definition annotations, fixes #593
<a href="https://github.com/scalameta/metals/pull/594">#594</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Provide completions on <code>case</code> for valid subclasses.
<a href="https://github.com/scalameta/metals/pull/592">#592</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Polish snippets when completing with existing parentheses and braces
<a href="https://github.com/scalameta/metals/pull/590">#590</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Handle generic unapply signatures in signature help.
<a href="https://github.com/scalameta/metals/pull/589">#589</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Explicitly set filter text for all completions.
<a href="https://github.com/scalameta/metals/pull/588">#588</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Add server property config to disable features.
<a href="https://github.com/scalameta/metals/pull/587">#587</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Add support for non-Lightbend compilers
<a href="https://github.com/scalameta/metals/pull/586">#586</a>
(<a href="https://github.com/tindzk">tindzk</a>)</li>
<li>Fix signature help bug for tuple patterns.
<a href="https://github.com/scalameta/metals/pull/585">#585</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Escape keyword identifier in packag prefixes.
<a href="https://github.com/scalameta/metals/pull/584">#584</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Filter out ensuring and -&gt; extension methods from Predef.
<a href="https://github.com/scalameta/metals/pull/583">#583</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Include method signature in completion item label.
<a href="https://github.com/scalameta/metals/pull/581">#581</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Two completion improvements
<a href="https://github.com/scalameta/metals/pull/579">#579</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Insert local import when completing workspace symbol.
<a href="https://github.com/scalameta/metals/pull/578">#578</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Update Sublime Text doc regarding Goto symbol in workspace
<a href="https://github.com/scalameta/metals/pull/577">#577</a>
(<a href="https://github.com/ayoub-benali">ayoub-benali</a>)</li>
<li>Include <code>case</code> completion when writing partial function on tuples.
<a href="https://github.com/scalameta/metals/pull/576">#576</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Restart the presentation compile more aggressively.
<a href="https://github.com/scalameta/metals/pull/575">#575</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Fix #573, provide unique filter text for each interpolator completion item
<a href="https://github.com/scalameta/metals/pull/574">#574</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Fix #569, remove completion items with <code>\_CURSOR\_</code> name.
<a href="https://github.com/scalameta/metals/pull/572">#572</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Implement <code>override def</code> completions.
<a href="https://github.com/scalameta/metals/pull/570">#570</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Make bloop server startup more robust, reuse sockets wherever possible.
<a href="https://github.com/scalameta/metals/pull/566">#566</a>
(<a href="https://github.com/mudsam">mudsam</a>)</li>
<li>Implement type member selection in string interpolators.
<a href="https://github.com/scalameta/metals/pull/563">#563</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Update Atom info <a href="https://github.com/scalameta/metals/pull/561">#561</a>
(<a href="https://github.com/laughedelic">laughedelic</a>)</li>
<li>Improve string interpolator completions
<a href="https://github.com/scalameta/metals/pull/560">#560</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Remove root package from completion results.
<a href="https://github.com/scalameta/metals/pull/559">#559</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Resolve mtags from Sonatype Snapshots, fixes #554.
<a href="https://github.com/scalameta/metals/pull/558">#558</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Disable <code>\(</code> as commit character.
<a href="https://github.com/scalameta/metals/pull/557">#557</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Wrap identifiers in backticks when necessary.
<a href="https://github.com/scalameta/metals/pull/556">#556</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Trigger parameter hints command after completion, if supported.
<a href="https://github.com/scalameta/metals/pull/552">#552</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Cross-publish mtags for all supported Scala versions.
<a href="https://github.com/scalameta/metals/pull/541">#541</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
<li>Implement completions and signature help.
<a href="https://github.com/scalameta/metals/pull/527">#527</a>
(<a href="https://github.com/olafurpg">olafurpg</a>)</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/metals/blog/2019/02/01/tin.html">Metals v0.4.4</a></h1><p class="post-meta">February 1, 2019</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener">Ã“lafur PÃ¡ll Geirsson</a></p><div class="authorPhoto"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener"><img src="https://avatars2.githubusercontent.com/u/1408093?s=460&amp;v=4" alt="Ã“lafur PÃ¡ll Geirsson"/></a></div></div></header><article class="post-content"><div><span><p>Metals is a language server for Scala that works with VS Code, Atom, Vim,
Sublime Text and Emacs. Metals is developed at the
<a href="https://scala.epfl.ch/">Scala Center</a> along with contributors from the
community.</p>
</span></div><div class="read-more"><a class="button" href="/metals/blog/2019/02/01/tin.html">Read More</a></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/metals/blog/2019/01/24/tin.html">Metals v0.4.0</a></h1><p class="post-meta">January 24, 2019</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener">Ã“lafur PÃ¡ll Geirsson</a></p><div class="authorPhoto"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener"><img src="https://avatars2.githubusercontent.com/u/1408093?s=460&amp;v=4" alt="Ã“lafur PÃ¡ll Geirsson"/></a></div></div></header><article class="post-content"><div><span><p>We are excited to announce the release of Metals v0.4, codename &quot;Tin&quot; ðŸŽ‰ Metals
is a language server for Scala that works with VS Code, Atom, Vim, Sublime Text
and Emacs. Metals is developed at the <a href="https://scala.epfl.ch/">Scala Center</a>
with contributors from the community.</p>
</span></div><div class="read-more"><a class="button" href="/metals/blog/2019/01/24/tin.html">Read More</a></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/metals/blog/2019/01/22/bloom-filters.html">Low-memory symbol indexing with bloom filters</a></h1><p class="post-meta">January 22, 2019</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener">Ã“lafur PÃ¡ll Geirsson</a></p><div class="authorPhoto"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener"><img src="https://avatars2.githubusercontent.com/u/1408093?s=460&amp;v=4" alt="Ã“lafur PÃ¡ll Geirsson"/></a></div></div></header><article class="post-content"><div><span><p>The latest Metals release introduces three new in-memory indexes to implement
the features &quot;find symbol references&quot; and &quot;fuzzy symbol search&quot;. Indexes are
important to provide fast response times for user requests but they come at the
price of higher memory usage. To keep memory usage low, Metals uses a data
structure called bloom filters that implements space-efficient sets. Thanks to
bloom filters, the three new indexes added in the last release use only a few
megabytes of memory even for large projects with &gt;500k lines of code.</p>
<p>In this post, we look into how Metals uses bloom filters for fast indexing with
small memory footprint. We explain what bloom filters are and how we can encode
problems like fuzzy searching to take advantage of the nice properties of bloom
filters. Finally, we evaluate these new features on a real-world project: the
<a href="https://github.com/akka/akka">Akka</a> build.</p>
</span></div><div class="read-more"><a class="button" href="/metals/blog/2019/01/22/bloom-filters.html">Read More</a></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/metals/blog/2018/12/14/iron.html">Metals v0.3.2</a></h1><p class="post-meta">December 14, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener">Ã“lafur PÃ¡ll Geirsson</a></p><div class="authorPhoto"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener"><img src="https://avatars2.githubusercontent.com/u/1408093?s=460&amp;v=4" alt="Ã“lafur PÃ¡ll Geirsson"/></a></div></div></header><article class="post-content"><div><span><p>We are pleased to announce the release of Metals v0.3.2. Metals is a language
server for Scala that works with VS Code, Atom, Vim, Sublime Text and Emacs.
Metals is developed at the <a href="https://scala.epfl.ch/">Scala Center</a> with
contributors from the community.</p>
</span></div><div class="read-more"><a class="button" href="/metals/blog/2018/12/14/iron.html">Read More</a></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/metals/blog/2018/12/12/fast-goto-definition.html">Fast goto definition with low memory footprint</a></h1><p class="post-meta">December 12, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener">Ã“lafur PÃ¡ll Geirsson</a></p><div class="authorPhoto"><a href="https://twitter.com/olafurpg" target="_blank" rel="noreferrer noopener"><img src="https://avatars2.githubusercontent.com/u/1408093?s=460&amp;v=4" alt="Ã“lafur PÃ¡ll Geirsson"/></a></div></div></header><article class="post-content"><div><span><p>Metals throws away its navigation index when it shuts down. Next time it starts,
the index is computed again from scratch. Although this approach is simple, it
requires indexing to be fast enough so you don't mind running it again and
again. Also, because we don't persist the index to disk, we need to be careful
with memory usage.</p>
<p>This post covers how Metals achieves fast source indexing for Scala with a small
memory footprint. We describe the problem statement, explain the initial
solution and how an optimization delivered a 10x speedup. Finally, we evaluate
the result on a real-world project.</p>
</span></div><div class="read-more"><a class="button" href="/metals/blog/2018/12/12/fast-goto-definition.html">Read More</a></div></article></div><div class="docs-prevnext"><a class="docs-next" href="/metals/blog/page2/">Next â†’</a></div></div></div></div></div><footer class="nav-footer" id="footer" style="background-color:#1B555C"><section class="sitemap"><a href="/metals/" class="nav-home"><img src="/metals/img/scalameta-logo.png" alt="Metals" width="66" height="58"/></a><div><h5>Overview</h5><a href="/metals/docs/editors/overview.html">Text Editors</a><a href="/metals/docs/build-tools/overview.html">Build Tools</a><a href="/metals/docs/contributors/project-goals.html">Project Goals</a><a href=" /metals/docs/contributors/getting-started.html">Contributing</a></div><div><h5>Editors</h5><a href="/metals/docs/editors/vscode.html">Visual Studio Code</a><a href="/metals/docs/editors/atom.html">Atom</a><a href="/metals/docs/editors/vim.html">Vim</a><a href="/metals/docs/editors/sublime.html">Sublime Text</a><a href="/metals/docs/editors/emacs.html">Emacs</a></div><div><h5>Social</h5><a href="https://github.com/scalameta/metals" target="_blank"><img src="https://img.shields.io/github/stars/scalameta/metals.svg?color=%23087e8b&amp;label=stars&amp;logo=github&amp;style=social"/></a><a href="https://gitter.im/scalameta/metals" target="_blank"><img src="https://img.shields.io/gitter/room/scalameta/metals.svg?logo=gitter&amp;style=social"/></a><a href="https://twitter.com/scalameta" target="_blank"><img src="https://img.shields.io/twitter/follow/scalameta.svg?logo=twitter&amp;style=social"/></a></div></section><section class="copyright">Copyright Â© 2019 Metals</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'c865f6d974a3072a35d4b53d48ac2307',
                indexName: 'metals',
                inputSelector: '#search_input_react'
              });
            </script></body></html>