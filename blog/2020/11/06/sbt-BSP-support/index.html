<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/metals/blog/rss.xml" title="Metals RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/metals/blog/atom.xml" title="Metals Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-140140828-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-140140828-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Metals" href="/metals/opensearch.xml"><title data-react-helmet="true">sbt BSP support | Metals</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="http://scalameta.org/metals/img/scalameta-logo.png"><meta data-react-helmet="true" name="twitter:image" content="http://scalameta.org/metals/img/scalameta-logo.png"><meta data-react-helmet="true" property="og:url" content="http://scalameta.org/metals/blog/2020/11/06/sbt-BSP-support"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="sbt BSP support | Metals"><meta data-react-helmet="true" name="description" content="If you&#x27;ve been following the [sbt"><meta data-react-helmet="true" property="og:description" content="If you&#x27;ve been following the [sbt"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2020-11-06T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://twitter.com/ckipp01"><link data-react-helmet="true" rel="icon" href="/metals/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://scalameta.org/metals/blog/2020/11/06/sbt-BSP-support"><link data-react-helmet="true" rel="alternate" href="http://scalameta.org/metals/blog/2020/11/06/sbt-BSP-support" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://scalameta.org/metals/blog/2020/11/06/sbt-BSP-support" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/metals/assets/css/styles.65fab6b6.css">
<link rel="preload" href="/metals/assets/js/runtime~main.592bacc0.js" as="script">
<link rel="preload" href="/metals/assets/js/main.8cdede54.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/metals/"><div class="navbar__logo"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/metals/img/scalameta-logo.png" alt="Metals" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Metals</b></a><a class="navbar__item navbar__link" href="/metals/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/metals/blog/">Blog</a><a href="https://github.com/scalameta/metals" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">üåô</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">‚òÄÔ∏è</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_a9qW thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_uKok margin-bottom--md">All Blog Posts</div><ul class="sidebarItemList_Kvuv"><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2022/01/17/aluminium">Metals v0.11.1 - Aluminium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2022/01/12/aluminium">Metals v0.11.0 - Aluminium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2021/11/03/tungsten">Metals v0.10.9 - Tungsten</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2021/10/26/tungsten">Metals v0.10.8 - Tungsten</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2021/09/16/tungsten">Metals v0.10.7 - Tungsten</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2021/09/06/tungsten">Metals v0.10.6 - Tungsten</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2021/07/14/tungsten">Metals v0.10.5 - Tungsten</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2021/05/31/tungsten">Metals v0.10.4 - Tungsten</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2021/05/17/tungsten">Metals v0.10.3 - Tungsten</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2021/04/20/tungsten">Metals v0.10.2 - Tungsten</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2021/04/06/tungsten">Metals v0.10.1 - Tungsten</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2021/02/24/tungsten">Metals v0.10.0 - Tungsten</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2021/02/02/metals-retro-part1">A Metals Retrospective (Part 1)</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2021/01/19/lithium">Metals v0.9.10 - Lithium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/12/19/lithium">Metals v0.9.8 - Lithium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/11/26/lithium">Metals v0.9.7 - Lithium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/11/20/lithium">Metals v0.9.6 - Lithium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/11/10/lithium">Metals v0.9.5 - Lithium</a></li><li class="sidebarItem_CF0Q"><a aria-current="page" class="sidebarItemLink_miNk sidebarItemLinkActive_RRTD" href="/metals/blog/2020/11/06/sbt-BSP-support">sbt BSP support</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/09/21/lithium">Metals v0.9.4 - Lithium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/08/19/lithium">Metals v0.9.3 - Lithium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/07/23/configuring-a-client">A Dive into Configuring Metals</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/07/15/lithium">Metals v0.9.2 - Lithium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/07/01/lithium">Metals v0.9.1 - Lithium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/05/04/lithium">Metals v0.9.0 - Lithium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/04/12/mercury">Metals v0.5.0 (Redirect)</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/04/10/cobalt">Metals v0.8.4 - Cobalt</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/03/19/cobalt">Metals v0.8.3 - Cobalt</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/02/26/cobalt">Metals v0.8.1 - Cobalt</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2020/01/10/cobalt">Metals v0.8.0 - Cobalt</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2019/09/23/thorium">Metals v0.7.6 - Thorium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2019/09/12/thorium">Metals v0.7.5 - Thorium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2019/09/02/thorium">Metals v0.7.2 - Thorium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2019/06/28/thorium">Metals v0.7.0 - Thorium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2019/06/11/radium">Metals v0.6.1 - Radium</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2019/04/26/mercury">Metals v0.5.1 - Mercury</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2019/04/12/mercury">Metals v0.5.0 - Mercury</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2019/02/01/tin">Metals v0.4.4 - Tin</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2019/01/24/tin">Metals v0.4.0 - Tin</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2019/01/22/bloom-filters">Low-memory symbol indexing with bloom filters</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2018/12/14/iron">Metals v0.3.2 - Iron</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2018/12/12/fast-goto-definition">Fast goto definition with low memory footprint</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/metals/blog/2018/12/06/iron">Metals v0.3 - Iron</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_rzP5" itemprop="headline">sbt BSP support</h1><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2020-11-06T00:00:00.000Z" itemprop="datePublished">November 6, 2020</time> ¬∑ <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/ckipp01" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_o0gy" src="https://avatars2.githubusercontent.com/u/13974112?v=4" alt="Chris Kipp"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/ckipp01" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Kipp</span></a></div></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>If you&#x27;ve been following the <a href="https://github.com/sbt/sbt/releases" target="_blank" rel="noopener noreferrer">sbt
releases</a>, 1.4.x introduced some great new
features, one of those being BSP support. This effort was initiated by community
members and proposed to the <a href="https://github.com/scalacenter/advisoryboard/blob/master/proposals/023-bsp.md" target="_blank" rel="noopener noreferrer">Scala Center Advisory
Board</a>.
Then thanks to the work of <a href="https://twitter.com/adrienpi2" target="_blank" rel="noopener noreferrer">Adrien Piquerez</a> and
<a href="https://twitter.com/eed3si9n" target="_blank" rel="noopener noreferrer">Eugene Yokota</a> BSP support became a reality in
1.4.0. You can read more about the reason behind the work and some of the
details of the implementation in this blog post: <a href="https://www.scala-lang.org/blog/2020/10/27/bsp-in-sbt.html" target="_blank" rel="noopener noreferrer">BSP Support in sbt
1.4</a>.</p><p>The Metals team is also happy to announce that as of the 0.9.5 release, the
process to use other BSP servers like sbt is now much smoother. In some ways,
BSP is an implementation detail abstracted away from a user, and you may not
directly interact at all with your build server, even though it&#x27;s pivotal for
the Metals experience. Therefore, we&#x27;d like to answer some common questions
about what this means to you as a user, explain some of the default choices
Metals makes for you, and show you how to explore the sbt BSP server.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-is-bsp">What is BSP?<a class="hash-link" href="#what-is-bsp" title="Direct link to heading">‚Äã</a></h2><p>First off, you may be wondering what BSP is. The <a href="https://build-server-protocol.github.io/" target="_blank" rel="noopener noreferrer">Build Server
Protocol</a> (BSP) is a <em>Protocol for IDEs and
build tools to communicate about compilation, running, testing, debugging, and
much more.</em> If you&#x27;re familiar with the <a href="https://microsoft.github.io/language-server-protocol/" target="_blank" rel="noopener noreferrer">Language Server
Protocol</a> (LSP), BSP is
complementary to LSP and inspired by it. Where LSP allows your editor to
abstract over various programming languages by a shared way to communicate to a
language server, BSP allows IDE&#x27;s to abstract over various build servers. A
typical example of this can be illustrated like so:</p><p><img src="https://i.imgur.com/0RRUDlU.png" alt="LSP BSP example"></p><p>You have your editor (Emacs) communicating with Metals via LSP, and then Metals
communicating with a BSP server (Bloop) via BSP. This communication over BSP can
be about compiling your code, running your code, defining sources in your
workspace, etc. You can read all about the various communication types <a href="https://build-server-protocol.github.io/docs/specification#actual-protocol" target="_blank" rel="noopener noreferrer">here in
the
protocol</a>.</p><p><a href="https://scalacenter.github.io/bloop/" target="_blank" rel="noopener noreferrer">Bloop</a> was the first server to implement
BSP, and it&#x27;s the default build server for all build tools that Metals supports
at the moment. When you open a fresh project, you&#x27;re prompted to import your
build, and this import process is running a form of &quot;Bloop Install&quot; to write
your build definition to <code>.bloop/</code> for Bloop to read and use. Then as you
continue to edit, diagnostics and other information are flowing back and forth
from Metals to Bloop. Hopefully this gives you a brief picture of what BSP is,
and how it&#x27;s used in Metals.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-does-sbt-bsp-support-mean-for-metals">What does sbt BSP support mean for Metals?<a class="hash-link" href="#what-does-sbt-bsp-support-mean-for-metals" title="Direct link to heading">‚Äã</a></h2><p>Another question you may have is &quot;what does sbt BSP support mean for Metals&quot;?
This means a couple different things. Up until this point, if you wanted to use
sbt BSP, you needed to clear your <code>.metals/</code> and <code>.bloop</code> directories, and then
start sbt with a specific flag before connecting to it. None of this is
necessary anymore. In order for <a href="https://build-server-protocol.github.io/docs/server-discovery.html" target="_blank" rel="noopener noreferrer">BSP
discovery</a>
to happen, you need a <code>.bsp/*json</code> file with instructions on how to
start/connect to the build server. A new command has been added to Metals (which
we&#x27;ll go over down below) that can generate this file for you if it doesn&#x27;t
exist, and then you will be automatically connected to sbt. If this file already
exist, then we provide a simple way for you to &quot;switch&quot; build servers and for
your choice to be remembered. We also automatically include an sbt plugin to
ensure the correct semantic information is produced by the compiler. So to
summarize, Metals now has the ability to generate the necessary <code>.bsp/sbt.json</code>
file if it doesn&#x27;t exist, and to also switch back and forth from using Bloop or
sbt as your build server.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="whats-the-difference-between-bloop-and-sbt-bsp">What&#x27;s the difference between Bloop and sbt BSP?<a class="hash-link" href="#whats-the-difference-between-bloop-and-sbt-bsp" title="Direct link to heading">‚Äã</a></h2><p>At this point you may be asking, &quot;what&#x27;s the difference?&quot;. For an average user,
there may not be a ton of difference, however I&#x27;d like to outline a couple
things that may be relevant to you.</p><ul><li>Bloop supports the <a href="https://microsoft.github.io/debug-adapter-protocol/" target="_blank" rel="noopener noreferrer">Debug Adapter
Protocol</a> (DAP) and sbt
doesn&#x27;t. So you&#x27;ll notice when using sbt as a build server, you won&#x27;t have
the <code>run</code> or <code>debug</code> code lenses directly in your editor like you do with
Bloop.</li><li>Bloop writes all the necessary information about your build it needs to disk
whereas sbt loads it into memory. If you&#x27;re a user that works for long
periods of time on a single project, then this may not matter to you at all.
However, if you jump in and out of projects, without having sbt shell
running, then you will pay the cost of loading up your build every time.</li><li>Bloop offers sbt file support that enables completions and hover, whereas
this is not yet available in the sbt BSP implementation.</li><li>sbt gives you access to the full task graph, so for example if you&#x27;re using
<code>BuildInfo</code>, and you compile with Bloop, your <code>BuildInfo</code> won&#x27;t get
generated. However, sources will get generated when using sbt server. This
can help avoid any potential inconsistencies. </li></ul><p>While there are some more differences, these are probably the main ones you&#x27;ll
notice as a user. These are both great tools, and you&#x27;ll have to explore more to
see what is the best fit for you. For now, Metals defaults to using Bloop mainly
because we believe it provides a richer feature set and because pretty much all
of our testing includes Bloop as a build server.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="how-do-i-try-it-out">How do I try it out?<a class="hash-link" href="#how-do-i-try-it-out" title="Direct link to heading">‚Äã</a></h2><p>Now to the good stuff. There are two main ways that you can start using sbt
server in Metals.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="no-bspsbtjson-exists">No <code>.bsp/sbt.json</code> exists<a class="hash-link" href="#no-bspsbtjson-exists" title="Direct link to heading">‚Äã</a></h3><p>If no <code>.bsp/sbt.json</code> exists yet, you can generate it with the new
<code>metals.generate-bsp-config</code> command. At any time you can execute this command
and Metals will ensure that you&#x27;re on the minimum required sbt version (1.4.1),
generate the <code>.bsp/sbt.json</code> file for you, include the necessary plugin, and
then auto-connect to the sbt build server. For example in VS Code this looks
like this:</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="metalsgenerate-bsp-config"><code>metals.generate-bsp-config</code><a class="hash-link" href="#metalsgenerate-bsp-config" title="Direct link to heading">‚Äã</a></h3><p><img src="https://i.imgur.com/kBNbtzI.gif" alt="generate-bsp-config"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="bspsbtjson-already-exists"><code>.bsp/sbt.json</code> already exists<a class="hash-link" href="#bspsbtjson-already-exists" title="Direct link to heading">‚Äã</a></h3><p>If you&#x27;ve ran sbt on your project already, your <code>.bsp/sbt.json</code> file will
already exist. In this case, you can simply use the <code>metals.bsp-switch</code> command
and choose sbt. For example, using <code>coc-metals</code>, it looks like this:</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="metalsbsp-switch"><code>metals.bsp-switch</code><a class="hash-link" href="#metalsbsp-switch" title="Direct link to heading">‚Äã</a></h3><p><img src="https://i.imgur.com/6tY2ofL.gif" alt="bsp-switch"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="switching-back-to-bloop">Switching back to Bloop<a class="hash-link" href="#switching-back-to-bloop" title="Direct link to heading">‚Äã</a></h3><p>After you do a <code>metals.bsp-switch</code> or <code>metals-generate-bsp-config</code>, your choice
will be remembered. So the next time that you open your workspace, you will
automatically connect to the last build server you had chosen. If you&#x27;d like to
go back to your previous build server, you can simply use the
<code>metals.bsp-switch</code> command again to choose your previous server. For editors
that have an html doctor, you can also reset your build server choice in the
Doctor.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="doctor-reset">Doctor reset<a class="hash-link" href="#doctor-reset" title="Direct link to heading">‚Äã</a></h3><p><img src="https://i.imgur.com/YEGfEGB.png" alt="Doctor"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">‚Äã</a></h2><p>We hope you enjoy this easier way to use sbt server with Metals. If you&#x27;re
curious about the implementation details, much of the work was done in <a href="https://github.com/scalameta/metals/pull/2154" target="_blank" rel="noopener noreferrer">this
pr</a>. As always please don&#x27;t
hesitate to ask questions on our various channels, submit issues, or create new
feature requests.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/metals/blog/2020/11/10/lithium"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Metals v0.9.5 - Lithium</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/metals/blog/2020/09/21/lithium"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Metals v0.9.4 - Lithium</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_cNA8 thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-bsp" class="table-of-contents__link toc-highlight">What is BSP?</a></li><li><a href="#what-does-sbt-bsp-support-mean-for-metals" class="table-of-contents__link toc-highlight">What does sbt BSP support mean for Metals?</a></li><li><a href="#whats-the-difference-between-bloop-and-sbt-bsp" class="table-of-contents__link toc-highlight">What&#39;s the difference between Bloop and sbt BSP?</a></li><li><a href="#how-do-i-try-it-out" class="table-of-contents__link toc-highlight">How do I try it out?</a><ul><li><a href="#no-bspsbtjson-exists" class="table-of-contents__link toc-highlight">No <code>.bsp/sbt.json</code> exists</a></li><li><a href="#metalsgenerate-bsp-config" class="table-of-contents__link toc-highlight"><code>metals.generate-bsp-config</code></a></li><li><a href="#bspsbtjson-already-exists" class="table-of-contents__link toc-highlight"><code>.bsp/sbt.json</code> already exists</a></li><li><a href="#metalsbsp-switch" class="table-of-contents__link toc-highlight"><code>metals.bsp-switch</code></a></li><li><a href="#switching-back-to-bloop" class="table-of-contents__link toc-highlight">Switching back to Bloop</a></li><li><a href="#doctor-reset" class="table-of-contents__link toc-highlight">Doctor reset</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Overview</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/metals/docs/overview/editor-support">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/build-tools/overview">Build Tools</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/contributors/project-goals">Project Goals</a></li><li class="footer__item"><a class="footer__link-item" href="/metals/docs/contributors/getting-started">Contributing</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/scalameta/metals" target="_blank">
                      <img src="https://img.shields.io/github/stars/scalameta/metals.svg?color=%23087e8b&label=stars&logo=github&style=social">
                    </a></li><li class="footer__item"><a href="https://discord.gg/RFpSVth" target="_blank">
                      <img src="https://img.shields.io/discord/632642981228314653?logo=discord&style=social">
                    </a></li><li class="footer__item"><a href="https://twitter.com/scalameta" target="_blank">
                      <img src="https://img.shields.io/twitter/follow/scalameta.svg?logo=twitter&style=social">
                    </a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/metals/img/scalameta-logo.png" alt="" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/metals/img/scalameta-logo.png" alt="" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></div><div class="footer__copyright">Copyright ¬© 2022 Metals</div></div></div></footer></div>
<script src="/metals/assets/js/runtime~main.592bacc0.js"></script>
<script src="/metals/assets/js/main.8cdede54.js"></script>
</body>
</html>