"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["8965"],{82946:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>o,toc:()=>c,default:()=>h,metadata:()=>s,assets:()=>l,contentTitle:()=>r});var s=JSON.parse('{"id":"contributors/updating-website","title":"Contributing to the website","description":"This website is built using Docusaurus.","source":"@site/target/docs/contributors/updating-website.md","sourceDirName":"contributors","slug":"/contributors/updating-website","permalink":"/metals/docs/contributors/updating-website","draft":false,"unlisted":false,"editUrl":"https://github.com/scalameta/metals/edit/main/docs/contributors/updating-website.md","tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{"id":"updating-website","title":"Contributing to the website"},"sidebar":"docs","previous":{"title":"Contributing to Metals","permalink":"/metals/docs/contributors/getting-started"},"next":{"title":"Making a release","permalink":"/metals/docs/contributors/releasing"}}'),i=n(85893),a=n(50065);let o={id:"updating-website",title:"Contributing to the website"},r=void 0,l={},c=[{value:"Running the site locally",id:"running-the-site-locally",level:2},{value:"Adding a new page",id:"adding-a-new-page",level:2}];function d(e){let t={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["This website is built using ",(0,i.jsx)(t.a,{href:"https://docusaurus.io/",children:"Docusaurus"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["For simple changes to the documentation, click on the ",(0,i.jsx)(t.code,{children:"Edit"})," button at the bottom\nof each page and submit those changes directly on GitHub."]}),"\n",(0,i.jsx)(t.h2,{id:"running-the-site-locally",children:"Running the site locally"}),"\n",(0,i.jsx)(t.p,{children:"For running the website locally, you'll need:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"yarn"})," (",(0,i.jsx)(t.a,{href:"https://classic.yarnpkg.com/docs/install",children:"https://classic.yarnpkg.com/docs/install"}),")"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"sbt"})," (",(0,i.jsx)(t.a,{href:"https://www.scala-sbt.org/1.x/docs/Setup.html",children:"https://www.scala-sbt.org/1.x/docs/Setup.html"}),")"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"In addition to Docusaurus, we preprocess the markdown files using:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://github.com/scalameta/mdoc",children:"mdoc"}),", to type-check, interpret Scala\ncode fences, and to generate the site using its ",(0,i.jsx)(t.a,{href:"https://scalameta.org/mdoc/docs/docusaurus.html",children:"built-in Docusaurus support"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"The first step is to then preprocess the markdown files. You can do it with:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sh",children:"sbt\ndocs/run -w\n"})}),"\n",(0,i.jsxs)(t.p,{children:["This command will watch for new changes for Markdown files in the ",(0,i.jsx)(t.code,{children:"docs/"}),"\ndirectory and regenerate the files when they change."]}),"\n",(0,i.jsx)(t.p,{children:"You can now build and launch the website using these commands:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sh",children:"cd website\nyarn install # only the first time, to install the dependencies\nyarn start\n\n# To test search feature in local development\nyarn build\nyarn serve\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Now visit ",(0,i.jsx)(t.a,{href:"http://localhost:3000",children:"localhost:3000"})," and you should see a local version of the\nwebsite. New changes should trigger a reload in the browser."]}),"\n",(0,i.jsx)(t.h2,{id:"adding-a-new-page",children:"Adding a new page"}),"\n",(0,i.jsx)(t.p,{children:"Whenever you add a new markdown page to the documentation, you'll have to\nmanually include it in the side menu."}),"\n",(0,i.jsxs)(t.p,{children:["You can do this by editing the ",(0,i.jsx)(t.code,{children:"website/sidebars.json"})," file. The name to use is\nthe ",(0,i.jsx)(t.code,{children:"id"})," specified in the page metadata (see the existing pages for an example)."]})]})}function h(e={}){let{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},50065:function(e,t,n){n.d(t,{Z:()=>r,a:()=>o});var s=n(67294);let i={},a=s.createContext(i);function o(e){let t=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);