"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["9868"],{11074:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>a,default:()=>u,toc:()=>c,metadata:()=>o,assets:()=>l,contentTitle:()=>r});var o=JSON.parse('{"id":"contributors/project-goals","title":"Project Goals","description":"This document describes the project goals of Metals. This document does not","source":"@site/target/docs/contributors/project-goals.md","sourceDirName":"contributors","slug":"/contributors/project-goals","permalink":"/metals/docs/contributors/project-goals","draft":false,"unlisted":false,"editUrl":"https://github.com/scalameta/metals/edit/main/docs/contributors/project-goals.md","tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{"id":"project-goals","title":"Project Goals"},"sidebar":"docs","previous":{"title":"sbt","permalink":"/metals/docs/build-tools/sbt"},"next":{"title":"Contributing to Metals","permalink":"/metals/docs/contributors/getting-started"}}'),i=t(85893),s=t(50065);let a={id:"project-goals",title:"Project Goals"},r=void 0,l={},c=[{value:"Simple installation",id:"simple-installation",level:2},{value:"Robust navigation",id:"robust-navigation",level:2},{value:"Low CPU and memory usage",id:"low-cpu-and-memory-usage",level:2}];function d(e){let n={a:"a",code:"code",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"This document describes the project goals of Metals. This document does not\ndescribe existing functionality of Metals but rather what user experience we\nwant Metals to have in the future."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#simple-installation",children:(0,i.jsx)(n.strong,{children:"Simple installation"})}),": importing a project should be\nsimple and require as few steps as possible."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#robust-navigation",children:(0,i.jsx)(n.strong,{children:"Robust navigation"})}),": goto definition should work\neverywhere, including for external Scala/Java dependencies."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#low-cpu-and-memory-usage",children:(0,i.jsx)(n.strong,{children:"Low CPU and memory usage"})}),": indexing should run\nin the background and not get in the way of your coding."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"We acknowledge that simple installation and robust navigation alone is not\nenough to make a great language server. A great language server should also\nsupport correct diagnostics, fast completions and solid refactorings. However,\nwe believe navigation is an important first milestone that needs full attention\nbefore focusing on other features."}),"\n",(0,i.jsx)(n.h2,{id:"simple-installation",children:"Simple installation"}),"\n",(0,i.jsxs)(n.p,{children:["The first thing you do with an IDE is boring but critical: import a project. The\n",(0,i.jsx)(n.a,{href:"https://microsoft.github.io/language-server-protocol/specification",children:"Language Server Protocol (LSP)"}),"\ndoes not provide utilities to extract metadata such as source directories,\ndependencies and compiler flags from a build tool. Instead, Metals uses the\n",(0,i.jsx)(n.a,{href:"https://github.com/scalacenter/bsp/blob/master/docs/bsp.md",children:"Build Server Protocol (BSP)"}),"\nto standardize on communication between a language server and build tool. The\nsame way LSP allows Metals to support multiple editors with a unified interface,\nBSP allows Metals to import projects from multiple build tools with the same\ninterface."]}),"\n",(0,i.jsx)(n.h2,{id:"robust-navigation",children:"Robust navigation"}),"\n",(0,i.jsxs)(n.p,{children:["Goto definition and find references is a great way to navigate a codebase and\nunderstand how it works. Metals uses ",(0,i.jsx)(n.a,{href:"https://scalameta.org/",children:"SemanticDB"})," to\npower code navigation, SemanticDB is a data model for semantic information about\nprograms in Scala and other languages. Indexing happens during batch compilation\nin the build tool using a similar architecture as\n",(0,i.jsx)(n.a,{href:"https://www.youtube.com/watch?v=jGJhnIT-D2M",children:"Index-While-Building"}),", which is\nused in Xcode 9 and\n",(0,i.jsx)(n.a,{href:"https://github.com/apple/sourcekit-lsp#indexing-while-building",children:"sourcekit-lsp"}),"."]}),"\n",(0,i.jsx)(n.p,{children:'Code navigation is not a single feature, it is a collection of several features\nthat help you understand a codebase. Below is a list of features that Metals\nconsiders as "code navigation".'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Goto definition (",(0,i.jsx)(n.code,{children:"textDocument/definition"}),").","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"project -> project."}),"\n",(0,i.jsx)(n.li,{children:"project -> Scala dependency."}),"\n",(0,i.jsx)(n.li,{children:"project -> Java dependency."}),"\n",(0,i.jsx)(n.li,{children:"dependency -> dependency."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Find references (",(0,i.jsx)(n.code,{children:"textDocument/references"}),").","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"project sources"}),"\n",(0,i.jsx)(n.li,{children:"Scala dependency sources"}),"\n",(0,i.jsx)(n.li,{children:"Java dependency sources"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Highlight references to a symbol in current buffer\n(",(0,i.jsx)(n.code,{children:"textDocument/documentHighlight"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["Goto symbol in file (",(0,i.jsx)(n.code,{children:"textDocument/documentSymbol"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Goto symbol in workspace (",(0,i.jsx)(n.code,{children:"workspace/symbol"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Symbol outline in the sidebar of current buffer\n(",(0,i.jsx)(n.code,{children:"textDocument/documentSymbol"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["Goto implementation (",(0,i.jsx)(n.code,{children:"textDocument/implementation"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Goto type definition (",(0,i.jsx)(n.code,{children:"textDocument/typeDefinition"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Show type of symbol at position (",(0,i.jsx)(n.code,{children:"textDocument/hover"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["Show type of expression at position (",(0,i.jsx)(n.code,{children:"textDocument/hover"}),")."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"low-cpu-and-memory-usage",children:"Low CPU and memory usage"}),"\n",(0,i.jsx)(n.p,{children:"Heavy resource usage is one of the most frequent complaints about IDEs. Low CPU\nand memory usage becomes even more important when working in larger codebases.\nOur goal in Metals is to support code navigation with as low CPU and memory\noverhead as possible without sacrificing rich functionality."})]})}function u(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},50065:function(e,n,t){t.d(n,{Z:()=>r,a:()=>a});var o=t(67294);let i={},s=o.createContext(i);function a(e){let n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);