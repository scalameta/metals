"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["8864"],{8434:function(e,t,s){s.r(t),s.d(t,{default:()=>u,frontMatter:()=>r,metadata:()=>n,assets:()=>l,toc:()=>c,contentTitle:()=>o});var n=JSON.parse('{"id":"features/scripts","title":"Scripts support","description":"Working with a script","source":"@site/target/docs/features/scripts.md","sourceDirName":"features","slug":"/features/scripts","permalink":"/metals/docs/features/scripts","draft":false,"unlisted":false,"editUrl":"https://github.com/scalameta/metals/edit/main/docs/features/scripts.md","tags":[],"version":"current","frontMatter":{"id":"scripts","title":"Scripts support"},"sidebar":"docs","previous":{"title":"Code Actions","permalink":"/metals/docs/features/codeactions"},"next":{"title":"Overview","permalink":"/metals/docs/build-tools/overview"}}'),i=s("85893"),a=s("50065");let r={id:"scripts",title:"Scripts support"},o=void 0,l={},c=[{value:"Working with a script",id:"working-with-a-script",level:3},{value:"Advanced information",id:"advanced-information",level:3}];function d(e){let t={a:"a",code:"code",h3:"h3",img:"img",li:"li",p:"p",ul:"ul",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h3,{id:"working-with-a-script",children:"Working with a script"}),"\n",(0,i.jsxs)(t.p,{children:["Whenever, Metals opens a script file with ",(0,i.jsx)(t.code,{children:"*.sc"})," extension, but only when it's\nnot ",(0,i.jsx)(t.code,{children:"*.worksheet.sc"})," or a build server has not already started for it, users\nwill be prompted to use ",(0,i.jsx)(t.a,{href:"https://scala-cli.virtuslab.org/",children:"Scala CLI"})," to power\nthe script."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://i.imgur.com/ghR1Src.gif",alt:"scala-cli"})}),"\n",(0,i.jsx)(t.p,{children:"Scripts are usually used for smaller programs and the main difference is that\nstatements can be put on top level without a need for additional objects or\nmethods."}),"\n",(0,i.jsx)(t.p,{children:"Once a user has accepted using Scala CLI Metals will also suggest to import all\nnewly opened scripts automatically or to always to do that manually."}),"\n",(0,i.jsx)(t.p,{children:"Scala CLI will start a build server in the background that will be able to\ncompile your code and provide Metals with all the necessary information."}),"\n",(0,i.jsxs)(t.p,{children:["Scala CLI scripts can also be used standalone when Scala CLI generated ",(0,i.jsx)(t.code,{children:".bsp"}),"\ndirectory after running ",(0,i.jsx)(t.code,{children:"scala-cli compile"})," or ",(0,i.jsx)(t.code,{children:"scala-cli setup-ide"})," on that\nscript."]}),"\n",(0,i.jsx)(t.h3,{id:"advanced-information",children:"Advanced information"}),"\n",(0,i.jsxs)(t.p,{children:["Additionally, advanced users can start the underlying build server manually with\n",(0,i.jsx)(t.code,{children:"Metals: Start Scala CLI BSP server"})," (",(0,i.jsx)(t.code,{children:"scala-cli-start"}),"). They will also be able\nto stop it with ",(0,i.jsx)(t.code,{children:"Metals: Stop Scala CLI BSP server"}),"(",(0,i.jsx)(t.code,{children:"scala-cli-stop"}),"). These\ncommands can be used for more fine grained control when to turn on or of\nscripting support. This is especially useful since the additional build server\nrunning underneath can take up some additional resources."]}),"\n",(0,i.jsx)(t.p,{children:"If the script is in a dedicated folder, by default we will treat all the scripts\nand scala files in that directory as ones that can be used together. So you\nwould be able to import method and classes from those files. However, if the\nscript is contained within a directory that also contains other sources, that\nscript will be treated as a standalone one in order to avoid flaky compilation\nerrors coming from normal files in the workspace."}),"\n",(0,i.jsx)(t.p,{children:"Current limitations can be found:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://github.com/scalameta/metals/issues?q=is%3Aopen+is%3Aissue+label%3Ascala-cli",children:"here for Scala CLI"})}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["For troubleshooting take a look at the\n",(0,i.jsx)(t.a,{href:"/docs/troubleshooting/faq#ammonite-scripts",children:"FAQ"})]})]})}function u(e={}){let{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},50065:function(e,t,s){s.d(t,{Z:function(){return o},a:function(){return r}});var n=s(67294);let i={},a=n.createContext(i);function r(e){let t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);